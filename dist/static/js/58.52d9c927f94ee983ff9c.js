webpackJsonp([58],{L4gW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),i=a.n(n),r=a("Dd8w"),s=a.n(r),o=a("vzON"),l=a("Obyv"),c=a("NYxO"),d=a("0xDb"),m=a("bzuE"),h=(a("zL8q"),{name:"UserPhoto",components:{Auth:o.a,ItemChart:l.a},data:function(){return{FeatureAPI:m.a,formInline:{subclass:"user",type:"city",dt_start:"",dt_end:""},chartData:null,typeMap:{city:"一二三四线城市",age:"年龄",gender:"性别"}}},computed:s()({},Object(c.b)(["pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.formInline.dt_start=Object(d.e)(Date.now()-12096e5,"{y}{m}{d}"),this.formInline.dt_end=Object(d.e)(Date.now()-864e5,"{y}{m}{d}"),this.onSearch())},onSearch:function(){var t=this,e={url:"http://172.16.105.67:8091/newtest1011/getUnionMonitorData.html",param:this.formInline},a={data:i()(e),cip:230};this.$store.dispatch("ProxyGet",a).then(function(e){var a=e.data.title||e.data.yAxis.name;t.chartData=t.setAnalyData(e.data,a)})},setAnalyData:function(t,e){for(var a=t.series,n=[],i=0;i<a.length;i++)n.push({name:a[i].name,type:a[i].type||t.type||"line",data:a[i].data,smooth:!0});return{title:e,width:"100%",height:"400px",legendName:t.legendName,xAxis:[{type:"category",data:t.xAxis.data,name:t.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:t.yAxis.name,axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:n}}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}}),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1===t.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[t._v("用户画像")])]),t._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{model:t.formInline,size:"small"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择开始时间"},on:{change:t.onSearch},model:{value:t.formInline.dt_start,callback:function(e){t.$set(t.formInline,"dt_start",e)},expression:"formInline.dt_start"}}),t._v(" "),a("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择结束时间"},on:{change:t.onSearch},model:{value:t.formInline.dt_end,callback:function(e){t.$set(t.formInline,"dt_end",e)},expression:"formInline.dt_end"}})],1),t._v(" "),a("el-form-item",[a("el-radio-group",{on:{change:t.onSearch},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},t._l(t.typeMap,function(e,n){return a("el-radio-button",{key:n,staticStyle:{"margin-left":"0"},attrs:{label:n}},[t._v(t._s(e))])}))],1)],1)],1),t._v(" "),t.chartData?a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("item-chart",{attrs:{data:t.chartData}})],1)],1):a("p",{staticClass:"none-tips"},[t._v("暂无数据")])],1):0===t.pageAuth?a("el-main",[a("auth")],1):t._e()},staticRenderFns:[]};var y=a("VU/8")(h,p,!1,function(t){a("hAIs")},"data-v-b016d8e0",null);e.default=y.exports},hAIs:function(t,e){}});