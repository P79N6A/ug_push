webpackJsonp([42],{IdGp:function(t,e){},ODwT:function(t,e){},"g/FG":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),l=i.n(a),n=i("vzON"),r=i("NYxO"),o=i("0xDb"),s=i("zL8q"),u={name:"operateWhite",data:function(){return{apiConf:{getExposureByUid:"/field/getExposureByUid"},midList:[],dialogVisible:!1}},computed:l()({},Object(r.b)(["email"])),props:["data","uid"],methods:{init:function(){},getExposure:function(){var t=this,e={url:this.apiConf.getExposureByUid,params:{uid:this.uid,exposure_date:this.data.exposure_date,username:this.email,cip:230}};this.$store.dispatch("CommonGet",e).then(function(e){e.code&&200==Number(e.code)?(t.midList=e.result||[],t.dialogVisible=!0):t.dialogVisible=!0})},_formatNum:function(t){return Object(o.b)(t)}},watch:{data:function(){}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.data?i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-view",plain:"",size:"mini",title:"查看mid"},on:{click:function(e){t.getExposure()}}},[i("span",{staticClass:"hidden-xs-only"},[t._v("查看曝光mid")])]),t._v(" "),i("el-dialog",{attrs:{title:"【"+t.data.user_name+"】-曝光mid（"+t.data.exposure_date+"）",visible:t.dialogVisible,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.midList,"max-height":"600",border:"",stripe:""}},[i("el-table-column",{attrs:{type:"index",align:"left",label:"序号"}}),t._v(" "),i("el-table-column",{attrs:{align:"left",prop:"mid",label:"mid"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"link-btn",attrs:{href:"//m.weibo.cn/status/"+e.row.mid,target:"_blank",title:"跳转至微博详情页"}},[t._v(t._s(e.row.mid))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"left",prop:"exposure_sum",label:"曝光量",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._formatNum(e.row.exposure_sum)))]}}])})],1)],1)],1):t._e()},staticRenderFns:[]};var c=i("VU/8")(u,d,!1,function(t){i("IdGp")},"data-v-23e77a9f",null).exports,m=i("/142"),p={name:"categoryList",components:{Auth:n.a,Operate:c,UserDetail:m.a},data:function(){return{apiConf:{getUserRole:"/role/getUserRole",getExposureListByUid:"/field/getExposureListByUid"},formInline:{uid:"",start_time:"",end_time:"",field_id:""},hasAllAuth:!1,reportData:null,cateList:null,curUid:"",tips:"loading...",downloadLoading:!1}},computed:l()({},Object(r.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var t=this,e={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",e).then(function(e){e.code&&200==Number(e.code)?(t.cateList=e.result.field||[],t.cateList.length>0?e.result.permission.indexOf(13)>-1?t.hasAllAuth=!0:t.formInline.field_id=t.cateList[0].id:t.tips="暂无有权限的领域"):t.tips="暂无有权限的领域"},function(e){t.tips="接口异常"})},onSearch:function(){var t=this;if(this.formInline.uid){var e={url:this.apiConf.getExposureListByUid,params:l()({},this.formInline,{username:this.email,cip:230})};this.$store.dispatch("CommonGet",e).then(function(e){e.code&&200==Number(e.code)&&(t.reportData=e.result||[],t.curUid=t.formInline.uid)})}else Object(s.Message)({showClose:!0,message:"请输入要查询的UID！",type:"error",duration:3e3})},_formatNum:function(t){return Object(o.b)(t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return 1===t.pageAuth?i("el-main",[i("el-row",{staticClass:"pane-title-wrap"},[i("el-col",{attrs:{span:24}},[i("h6",{staticClass:"pane-title"},[i("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),t._v("UID曝光查询")])])],1),t._v(" "),i("el-row",{staticClass:"search-form-wrap"},[t.cateList&&t.cateList.length>0?i("el-col",{attrs:{span:24}},[i("el-form",{attrs:{inline:"",model:t.formInline,size:"mini"}},[i("el-form-item",{attrs:{label:"UID"}},[i("el-input",{attrs:{placeholder:"请输入UID",clearable:""},model:{value:t.formInline.uid,callback:function(e){t.$set(t.formInline,"uid",e)},expression:"formInline.uid"}})],1),t._v(" "),t.hasAllAuth?t._e():i("el-form-item",{attrs:{label:"领域"}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择领域"},model:{value:t.formInline.field_id,callback:function(e){t.$set(t.formInline,"field_id",e)},expression:"formInline.field_id"}},t._l(t.cateList,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"日期"}},[i("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",placeholder:"选择开始时间"},model:{value:t.formInline.start_time,callback:function(e){t.$set(t.formInline,"start_time",e)},expression:"formInline.start_time"}}),t._v(" "),i("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",placeholder:"选择结束时间"},model:{value:t.formInline.end_time,callback:function(e){t.$set(t.formInline,"end_time",e)},expression:"formInline.end_time"}})],1),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.onSearch}},[i("span",{staticClass:"hidden-xs-only"},[t._v("查询")])])],1)],1):i("el-col",{attrs:{span:24}},[i("el-alert",{attrs:{title:t.tips,type:"warning","show-icon":"",closable:!1}})],1)],1),t._v(" "),i("el-row",{staticClass:"content-box-wrap"},[t.reportData?i("el-col",{attrs:{span:24}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.reportData,"max-height":"500",border:"",stripe:"",size:"mini"}},[i("el-table-column",{attrs:{width:"100",prop:"exposure_date",label:"日期",fixed:""}}),t._v(" "),i("el-table-column",{attrs:{width:"130",prop:"uid",label:"uid"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("user-detail",{attrs:{uid:t.curUid,iswhite:1}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"昵称"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{class:e.row.user_name?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.curUid,target:"_blank",title:"跳转至微博主页"}},[t._v(t._s(e.row.user_name||"未知"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"exposure",label:"曝光量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._formatNum(e.row.exposure)))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"count_mid",label:"曝光量条数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._formatNum(e.row.count_mid)))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"count_send_mid",label:"当天发布当天曝光条数",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._formatNum(e.row.count_send_mid)))]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"growth_rate",label:"曝光量较昨天增长率","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",[t._v(t._s(isNaN(e.row.growth_rate)?"-":e.row.growth_rate+"%"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"left",label:"操作项"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("operate",{attrs:{data:e.row,uid:t.formInline.uid}})]}}])})],1)],1):t._e()],1)],1):0===t.pageAuth?i("el-main",[i("auth")],1):t._e()},staticRenderFns:[]};var _=i("VU/8")(p,f,!1,function(t){i("ODwT")},"data-v-3d8f39a3",null);e.default=_.exports}});