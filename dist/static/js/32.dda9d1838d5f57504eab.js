webpackJsonp([32],{F9qk:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),r=s("Dd8w"),o=s.n(r),l=s("vzON"),n=s("NYxO"),c=s("0xDb"),m={name:"itemList",props:["item","index","info"],data:function(){return{hasRetweetedVideo:!1,videoStatus:{source:!1,retweet:!1},videoTempSrc:"",videoSrc:"",posterSrc:"",controls:!1}},computed:o()({},Object(n.b)(["curvideo"])),methods:{init:function(){try{this.item.retweeted_status?this.setVideoInfo(this.item.retweeted_status.url_objects,"retweet"):this.setVideoInfo(this.item.url_objects,"source")}catch(t){this.videoStatus.source=!1,this.videoStatus.retweet=!1}},setVideoInfo:function(t,e){try{for(var s=0;s<t.length;s++){var i=t[s].object&&t[s].object.object||{};if(this.posterSrc=i.image.url,"video"===i.object_type){if(i.urls)return this.videoTempSrc=i.urls.mp4_hd_mp4||i.urls.mp4_ld_mp4,void(this.videoStatus[e]=!0);if(i.stream&&"mp4"===i.stream.format)return this.videoTempSrc=i.stream.url,void(this.videoStatus[e]=!0)}else if("story"===i.object_type&&(this.videoTempSrc=i.slide_cover&&i.slide_cover.slide_videos&&i.slide_cover.slide_videos[0]&&i.slide_cover.slide_videos[0].url?i.slide_cover.slide_videos[0].url:"",this.videoTempSrc))return void(this.videoStatus[e]=!0)}}catch(t){this.videoStatus[e]=!1}},togglePlay:function(t){this.$store.dispatch("updateVideo",t),this.videoSrc||(this.videoSrc=this.videoTempSrc,this.controls=!0)},_formatNum:function(t){return Object(c.b)(t)},_parsePercent:function(t,e){return Object(c.d)(t,e)},_parseTime:function(t,e){return Object(c.e)(t,e)}},created:function(){this.init()},watch:{index:function(){},info:function(){},item:function(){this.init()},curvideo:function(){var t=this.item&&this.item.id||0;this.curvideo!=t&&(this.videoSrc="",this.controls=!1)}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.item?s("el-row",[s("el-col",{staticClass:"item-wrapper",attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[s("el-row",[s("div",{staticClass:"item-status-box clearfix"},[s("span",[t._v("No."+t._s(t.index))]),t._v(" "),s("a",{staticClass:"item-status-mid",attrs:{href:t.item.link,target:"_blank",title:"查看微博详情"}},[t._v(t._s(t.item.mid))]),t._v(" "),t.item.id&&t.info[t.item.id]?s("p",{staticClass:"item-mid-info"},[t._v("相关信息："+t._s(t.info[t.item.id]))]):t._e()])]),t._v(" "),s("div",[t.item.user?s("el-row",{staticClass:"clearfix"},[s("div",{staticClass:"left"},[s("a",{staticClass:"item-avatar",attrs:{target:"_blank",href:"//weibo.com/u/"+t.item.user.id,title:"跳转微博主页"}},[s("img",{attrs:{src:t.item.user.profile_image_url}})])]),t._v(" "),s("div",{staticClass:"left",staticStyle:{padding:"10px"}},[s("el-row",[s("a",{staticClass:"item-name",attrs:{href:"//weibo.com/u/"+t.item.user.id,target:"_blank",title:"跳转微博主页"}},[t._v(t._s(t.item.user.screen_name))])]),t._v(" "),s("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[s("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[s("i",{staticClass:"el-icon-time"}),t._v(" "),s("a",{attrs:{href:t.item.link||"javascript:void(0)",target:"_blank"}},[t._v(t._s(t._parseTime(t.item.created_at)))])]),t._v(" "),t.item.source?s("span",{staticClass:"info-box"},[t._v("来自\n              "),s("label",{staticClass:"item-info",domProps:{innerHTML:t._s(t.item.source)}})]):t._e()])],1)]):t._e(),t._v(" "),s("el-row",{staticClass:"content-text"},[s("a",{attrs:{href:t.item.link||"javascript:void(0)",target:"_blank",title:"查看微博详情"}},[t._v(t._s(t.item.text))])]),t._v(" "),t.item.pic_ids&&t.item.pic_ids.length>0?s("el-row",{staticClass:"img-wrapper"},[s("el-col",{attrs:{xs:24}},[s("el-row",t._l(t.item.pic_ids,function(e,i){return s("el-col",{key:i,staticStyle:{margin:"2px","max-width":"110px"},attrs:{xs:7}},[s("a",{staticClass:"img-box",attrs:{href:"//wx1.sinaimg.cn/nmw690/"+e+".jpg",target:"_blank"}},[s("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+e+".jpg);"},[t._v(t._s(e?"":"图片加载失败"))])])])}))],1)],1):t._e(),t._v(" "),t.item.retweeted_status?s("el-row",{staticClass:"retweeted-box"},[s("el-col",[s("div",[s("a",{staticClass:"item-name",attrs:{href:"//weibo.com/u/"+t.item.retweeted_status.user.id,target:"_blank"}},[t._v("@"+t._s(t.item.retweeted_status.user.screen_name))])]),t._v(" "),s("el-row",{staticClass:"content-text"},[s("a",{attrs:{href:"//m.weibo.cn/status/"+t.item.retweeted_status.mid,target:"_blank",title:"查看微博详情"}},[t._v(t._s(t.item.retweeted_status.text))])]),t._v(" "),t.item.retweeted_status.pic_ids&&t.item.retweeted_status.pic_ids.length>0?s("el-row",{staticClass:"img-wrapper"},[s("el-col",{attrs:{xs:24,span:12}},[s("el-row",t._l(t.item.retweeted_status.pic_ids,function(e,i){return s("el-col",{key:i,staticStyle:{margin:"2px","max-width":"110px"},attrs:{span:7}},[s("a",{staticClass:"img-box",attrs:{href:"//wx1.sinaimg.cn/nmw690/"+e+".jpg",target:"_blank"}},[s("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+e+".jpg);"},[t._v(t._s(e?"":"图片加载失败"))])])])}))],1)],1):t._e(),t._v(" "),t.videoStatus.retweet?s("el-row",{staticClass:"video-wrapper"},[t.videoSrc?t._e():s("span",{staticClass:"play-btn",on:{click:function(e){t.togglePlay(t.item.retweeted_status.mid)}}},[s("i",{staticClass:"el-icon-caret-right play-btn-icon"})]),t._v(" "),s("video",{attrs:{poster:t.posterSrc,controls:t.controls,src:t.videoSrc,autoplay:""}},[t._v("您的浏览器不支持HTML5")])]):t._e(),t._v(" "),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[s("i",{staticClass:"el-icon-time"}),t._v(" "),s("a",{attrs:{href:"//m.weibo.cn/status/"+t.item.retweeted_status.mid,target:"_blank"}},[t._v(t._s(t._parseTime(t.item.retweeted_status.created_at,"{y}年{m}月{d}日 {h}:{i}:{s}")))])]),t._v(" "),t.item.retweeted_status.source?s("span",{staticClass:"info-box"},[t._v("来自\n              "),s("label",{staticClass:"item-info",domProps:{innerHTML:t._s(t.item.retweeted_status.source)}})]):t._e()]),t._v(" "),s("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[s("el-col",{staticClass:"footer-list"},[s("label",[t._v("转发 ")]),t._v(" "),s("span",[t._v(t._s(t._formatNum(t.item.retweeted_status.reposts_count)))])]),t._v(" "),s("el-col",{staticClass:"footer-list"},[s("label",[t._v("评论 ")]),t._v(" "),s("span",[t._v(t._s(t._formatNum(t.item.retweeted_status.comments_count)))])]),t._v(" "),s("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[s("label",[t._v("点赞 ")]),t._v(" "),s("span",[t._v(t._s(t._formatNum(t.item.retweeted_status.attitudes_count)))])])],1)],1)],1):t._e(),t._v(" "),t.videoStatus.source?s("el-row",{staticClass:"video-wrapper"},[t.videoSrc?t._e():s("span",{staticClass:"play-btn",on:{click:function(e){t.togglePlay(t.item.id)}}},[s("i",{staticClass:"el-icon-caret-right play-btn-icon"})]),t._v(" "),s("video",{attrs:{poster:t.posterSrc,controls:t.controls,src:t.videoSrc,autoplay:""}},[t._v("您的浏览器不支持HTML5")])]):t._e()],1),t._v(" "),s("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[s("el-col",{staticClass:"footer-list"},[s("label",[t._v("转发 ")]),t._v(" "),s("span",[t._v(t._s(t._formatNum(t.item.reposts_count)))])]),t._v(" "),s("el-col",{staticClass:"footer-list"},[s("label",[t._v("评论 ")]),t._v(" "),s("span",[t._v(t._s(t._formatNum(t.item.comments_count)))])]),t._v(" "),s("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[s("label",[t._v("点赞 ")]),t._v(" "),s("span",[t._v(t._s(t._formatNum(t.item.attitudes_count)))])])],1)],1)],1):t._e()},staticRenderFns:[]};var d=s("VU/8")(m,_,!1,function(t){s("YyA1")},"data-v-991566fc",null).exports,u=s("zL8q"),v={name:"multipleMaterial",components:{Auth:l.a,ItemList:d},data:function(){return{formInline:{ids:""},total:0,datalist:null,infoMap:{}}},methods:{onSearch:function(){var t=this;if(this.formInline.ids){this.getInfo();var e={url:"/lab/showbatch",params:o()({},this.formInline)};this.$store.dispatch("CommonGet",e).then(function(e){Object(u.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.datalist=e},function(t){Object(u.Message)({showClose:!0,message:"showbatch接口请求失败！",type:"error",duration:3e3})})}},getInfo:function(){var t=this,e={url:"http://172.16.139.44:8001/",param:{mids:this.formInline.ids}},s={data:a()(e),cip:230};this.$store.dispatch("ProxyGet",s).then(function(e){e.code&&200==Number(e.code)?t.infoMap=e.data:t.infoMap={}},function(e){t.infoMap={}})}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-main",[s("el-row",{staticClass:"pane-title-wrap"},[s("h6",{staticClass:"pane-title"},[t._v("多条物料ShowBatch")])]),t._v(" "),s("el-row",{staticClass:"search-form-wrap"},[s("el-form",{attrs:{model:t.formInline,size:"small"}},[s("el-form-item",[s("el-input",{staticStyle:{"max-width":"90%"},attrs:{type:"textarea",autosize:"",placeholder:"请输入mid 多个值英文逗号分隔"},model:{value:t.formInline.ids,callback:function(e){t.$set(t.formInline,"ids",e)},expression:"formInline.ids"}}),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),s("el-row",{staticClass:"content-box-wrap"},[t.datalist&&t.datalist.length>0?s("div",t._l(t.datalist,function(e,i){return s("item-list",{key:e.id,attrs:{item:e,index:i+1,info:t.infoMap}})})):s("p",{staticClass:"none-tips"},[t._v("暂无数据")])])],1)},staticRenderFns:[]};var f=s("VU/8")(v,p,!1,function(t){s("hpDB")},"data-v-6d943112",null);e.default=f.exports},YyA1:function(t,e){},hpDB:function(t,e){}});