webpackJsonp([70],{c3E4:function(e,t){},zww9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),o=a.n(r),n=a("Dd8w"),s=a.n(n),i=a("vzON"),l=a("NYxO"),c=a("0xDb"),u=a("zL8q"),d={name:"datamonitor",components:{Auth:i.a},data:function(){return{API:{all:"http://172.16.105.67:8091/newtest1011/getDataByRecommendSource.html",new:"http://172.16.105.67:8091/newtest1011/getDataByNewUserRecommendSource.html",device:"http://172.16.105.67:8091/newtest1011/getDataByNewUserDevRecommendSource.html"},type:"all",data:[],dt:"",pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},computed:s()({},Object(l.b)(["pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.dt=Object(c.e)(Date.now()-1728e5,"{y}{m}{d}"),this.curDate=this.dt,this.onSearch())},onSearch:function(){var e=this,t=this,a={url:this.API[this.type],param:{dt:this.dt}},r={data:o()(a),cip:230};this.$store.dispatch("ProxyGet",r).then(function(a){a.code&&200==Number(a.code)?(Object(u.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.data=a.data||[],e.curDate=e.dt):Object(u.Message)({showClose:!0,message:"数据获取失败",type:"error",duration:3e3})},function(e){Object(u.Message)({showClose:!0,message:"数据获取接口请求失败",type:"error",duration:3e3})})},_formatNum:function(e){return Object(c.b)(e)},_parsePercent:function(e){return e?Object(c.d)(e):"0%"}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-date hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("用户召回常规统计（"+e._s(e.curDate)+"）")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap",attrs:{type:"flex"}},[a("el-form",{attrs:{size:"mini"}},[a("el-form-item",[a("el-date-picker",{attrs:{align:"right",type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyyMMdd",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.dt,callback:function(t){e.dt=t},expression:"dt"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.onSearch()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1),e._v(" "),a("el-form-item",[a("el-radio-group",{on:{change:function(t){e.onSearch()}},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio",{attrs:{label:"all",border:""}},[e._v("整体登录用户召回")]),e._v(" "),a("el-radio",{attrs:{label:"new",border:""}},[e._v("30天新户召回")]),e._v(" "),a("el-radio",{attrs:{label:"device",border:""}},[e._v("新户设备召回")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"召回类型",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"exposure_ratio",label:"曝光占比",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(e._parsePercent(t.row.exposure_ratio)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"thd_click",label:"千曝点击",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.thd_click)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"thd_act",label:"千曝互动",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.thd_act)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"exposure",label:"曝光量",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.exposure)))]}}])})],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var m=a("VU/8")(d,p,!1,function(e){a("c3E4")},"data-v-7e17c057",null);t.default=m.exports}});