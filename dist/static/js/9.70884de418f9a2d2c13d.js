webpackJsonp([9],{"3dMY":function(e,t,i){e.exports=i.p+"static/file/audit.4c39652.pdf"},RDjn:function(e,t){},dISC:function(e,t){},xeKf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),l=i.n(a),s=i("Dd8w"),r=i.n(s),o=i("NYxO"),n=i("0xDb"),c=i("zL8q"),d=i("vzON"),u={name:"operateWhite",data:function(){return{apiConf:{getFeature:"/feature/getFeature",delFieldWhite:"/field/delFieldWhite",delUserField:"/field/delUserField",updateFieldWhiteList:"/field/updateFieldWhiteList"},dialogVisible:!1,originList:[{value:5,label:"极好｜81%－100%为原创"},{value:4,label:"良好｜61%－80%为原创"},{value:3,label:"一般｜41％－60%为原创"},{value:2,label:"较低｜21%－40%为原创"},{value:1,label:"极低｜20%以下为原创"}],verticalList:[{value:5,label:"极好｜同领域匹配度81%－100％"},{value:4,label:"良好｜同领域匹配度 61%-80%"},{value:3,label:"一般｜同领域匹配度 41%-60%"},{value:2,label:"较低｜同领域匹配度21%-40%"},{value:1,label:"极低｜同领域匹配度20%以下"}],healthList:[{value:5,label:"极好｜不健康内容占比0%-4%"},{value:4,label:"良好｜不健康内容占比5%-10%"},{value:3,label:"一般｜不健康内容占比11%-20%"},{value:2,label:"较低｜不健康内容占比21%-50%"},{value:1,label:"极低｜不健康内容占比51%以上"}],isShowMac:0,origin_mac_text:"暂时无法计算原创度",vertical_mac_text:"暂时无法计算垂直度",health_mac_text:"暂时无法计算健康度",delDialogVisible:!1,deleteCause:"2",expire_time:"",is_expired:0,delResonList:[{label:"广告营销",value:"2"},{label:"搬运低质",value:"3"},{label:"恶意涨粉涨互动",value:"6"},{label:"博主发博与领域严重不符且低质",value:"1"},{label:"色情",value:"4"},{label:"政治敏感",value:"5"},{label:"不实造谣炒作",value:"7"},{label:"其他",value:"8"}],accountMap:{1:"真人账号",2:"自媒体",3:"媒体",4:"企业",5:"营销号",6:"纯明星",7:"政府",8:"其他机构",9:"粉丝团"},verifiedTypeMap:{0:"名人",1:"政府",2:"企业",3:"媒体",4:"校园",5:"网站",6:"应用",7:"团体","-1":"普通用户",8:"待审企业",200:"初级达人",220:"通过审核的达人",400:"已故认证用户"},whiteList:null,logList:null,ability1:null,ability2:null,new_v:!1}},computed:r()({},Object(o.b)(["email"])),props:["data","callback","hasaudit"],methods:{_parseTime:function(e,t){return Object(n.e)(e,t)},_formatNum:function(e){return Object(n.b)(e)},_parsePercent:function(e){return Object(n.d)(e)},changeEpireTime:function(){this.is_expired||(this.expire_time="")},showEditDialog:function(){this.isShowMac=0,this.setMacDegree(),this.whiteList={origin_degree:this.data.origin_degree||"",vertical_degree:this.data.vertical_degree||"",health_degree:this.data.health_degree||"",frequency_loss:1==this.data.frequency_loss,mcn:1==this.data.mcn,account_type:this.data.account_type&&this.data.account_type.toString().split(",")||[]},this.dialogVisible=!0,this.getUserInfo(),this.getUserNewVip()},getUserInfo:function(){var e=this,t={url:this.apiConf.getFeature,params:{input:this.data.uid,flag:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){if(t.code&&200==Number(t.code)){var i=t.result;e.ability1=i.ability1,e.ability2=i.ability2}})},getUserNewVip:function(){var e=this,t={url:"http://pub.admin.weibo.com/api/expand_check.php",param:{source:99075054,uid:this.data.uid}},i={data:l()(t),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){if(t.code&&1e5==Number(t.code)){var i=t.result;e.new_v=!(!i.status||5!=i.status)}})},deleteEvent:function(){var e=this;!this.is_expired||this.expire_time?this.$confirm("确定下线?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.deleteAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(c.Message)({showClose:!0,message:"请选择有效期！",type:"error",duration:1e3})},deleteAction:function(){var e=this,t={url:this.apiConf.delFieldWhite,params:{expire_time:this.expire_time,is_expired:this.is_expired,cause:this.deleteCause,uid:this.data.uid,audit_type:this.hasaudit?1:0,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(c.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(c.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:0}),e.delDialogVisible=!1})},updateEvent:function(){var e=this;this.whiteList.account_type.join(",")?this.whiteList.origin_degree?this.whiteList.vertical_degree?this.whiteList.health_degree?this.$confirm("确定保存本次修改?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.updateAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(c.Message)({showClose:!0,message:"请选择健康度！",type:"error",duration:1e3}):Object(c.Message)({showClose:!0,message:"请选择垂直度！",type:"error",duration:1e3}):Object(c.Message)({showClose:!0,message:"请选择原创度！",type:"error",duration:1e3}):Object(c.Message)({showClose:!0,message:"请选择账号类型！",type:"error",duration:3e3})},updateAction:function(){var e=this,t=this.whiteList.account_type.join(","),i={url:this.apiConf.updateFieldWhiteList,params:{id:this.data.id,field_id:this.data.field_id,uid:this.data.uid,user_name:this.data.user_name,health_degree:this.whiteList.health_degree,vertical_degree:this.whiteList.vertical_degree,origin_degree:this.whiteList.origin_degree,frequency_loss:Number(this.whiteList.frequency_loss),mcn:Number(this.whiteList.mcn),account_type:t||0,audit_type:this.data.audit_type,username:this.email,cip:230}};this.$store.dispatch("CommonGet",i).then(function(t){t.code&&200==Number(t.code)?(Object(c.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(c.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:0})})},formartAbility:function(e){if(!e||e.length<1)return"暂无";for(var t=[],i=0;i<e.length;i++)t.push(e[i].display_name);return t.join("、")},getFLevel:function(e){return e&&"null"!==e.toLowerCase()?e:"未知"},setMacDegree:function(){var e=this.data.origin_degree_mac,t=this.data.vertical_degree_mac,i=this.data.health_degree_mac,a=Object(n.d)(this.data.origin_degree_mac),l=Object(n.d)(this.data.vertical_degree_mac),s=Object(n.d)(this.data.health_degree_mac);switch(!0){case e>1:this.origin_mac_text="暂时无法计算原创度";break;case e>.8:this.origin_mac_text="极好｜原创占比为"+a;break;case e>.6:this.origin_mac_text="良好｜原创占比为"+a;break;case e>.4:this.origin_mac_text="一般｜原创占比为"+a;break;case e>.2:this.origin_mac_text="较低｜原创占比为"+a;break;case e<=.2:this.origin_mac_text="极低｜原创占比为"+a;break;default:this.origin_mac_text="暂时无法计算原创度"}switch(!0){case t>1:this.vertical_mac_text="暂时无法计算垂直度";break;case t>.8:this.vertical_mac_text="极好｜同领域匹配度"+l;break;case t>.6:this.vertical_mac_text="良好｜同领域匹配度"+l;break;case t>.4:this.vertical_mac_text="一般｜同领域匹配度"+l;break;case t>.2:this.vertical_mac_text="较低｜同领域匹配度"+l;break;case t<=.2:this.vertical_mac_text="极低｜同领域匹配度"+l;break;default:this.vertical_mac_text="暂时无法计算垂直度"}switch(!0){case i>1:this.health_mac_text="暂时无法计算健康度";break;case i<=.04:this.health_mac_text="极好｜不健康内容占比"+s;break;case i<=.1:this.health_mac_text="良好｜不健康内容占比"+s;break;case i<=.2:this.health_mac_text="一般｜不健康内容占比"+s;break;case i<=.5:this.health_mac_text="较低｜不健康内容占比"+s;break;case i>.5:this.health_mac_text="极低｜不健康内容占比"+s;break;default:this.health_mac_text="暂时无法计算健康度"}},showMacDegree:function(){this.whiteList.origin_degree&&this.whiteList.vertical_degree&&this.whiteList.health_degree?this.isShowMac=1:this.isShowMac=-1},degreeChange:function(){0!==this.isShowMac&&(!this.whiteList.origin_degree||this.whiteList.vertical_degree||this.whiteList.health_degree)&&(this.isShowMac=-1)}},watch:{data:function(){},hasaudit:function(){}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.data?i("div",[i("el-dialog",{attrs:{title:"【"+e.data.field_name+"】领域 白名单编辑",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{inline:!0,"label-position":"left",size:"small"}},[i("el-form-item",{attrs:{label:"作者UID","label-width":"65px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.uid))])],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名","label-width":"54px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.user_name||"未知"))])],1),e._v(" "),i("el-form-item",{attrs:{label:"认证状态","label-width":"70px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.verified?"已认证":"未认证"))])],1),e._v(" "),i("el-form-item",{attrs:{label:"认证类型","label-width":"70px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.verifiedTypeMap[e.data.verified_type]||"普通用户"))])],1),e._v(" "),i("el-form-item",{attrs:{label:"认证信息","label-width":"70px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.verified_reason||"暂无"))])],1),e._v(" "),i("el-form-item",{attrs:{label:"互动度","label-width":"60px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._formatNum(e.data.interaction)))])],1),e._v(" "),i("el-form-item",{attrs:{label:"日发博频次","label-width":"90px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._formatNum(e.data.send_weibo_hz)))])],1),e._v(" "),i("el-form-item",{attrs:{label:"工具发博比例","label-width":"100px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._parsePercent(e.data.tool_weibo_rate)))])],1),e._v(" "),i("el-form-item",{attrs:{label:"一级能力标签","label-width":"100px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.formartAbility(e.ability1)))])],1),e._v(" "),i("el-form-item",{attrs:{label:"二级能力标签","label-width":"100px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.formartAbility(e.ability2)))])],1),e._v(" "),i("el-form-item",{attrs:{label:"F层级","label-width":"52px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.getFLevel(e.data.F_level)))])],1),e._v(" "),i("el-form-item",{attrs:{label:"C层级","label-width":"52px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.C_level||"未知"))])],1),e._v(" "),i("el-form-item",{attrs:{label:"添加时间","label-width":"70px"}},[i("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._parseTime(e.data.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))])],1)],1),e._v(" "),i("div",[i("el-checkbox",{attrs:{disabled:""},model:{value:e.new_v,callback:function(t){e.new_v=t},expression:"new_v"}},[e._v("是新拓展的大V")])],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"table-title left"},[e._v("【操作区域】")])]),e._v(" "),e.whiteList?i("el-form",{attrs:{"label-position":"left",size:"small"}},[i("el-form-item",[i("el-checkbox",{model:{value:e.whiteList.frequency_loss,callback:function(t){e.$set(e.whiteList,"frequency_loss",t)},expression:"whiteList.frequency_loss"}},[e._v("有降频流失的风险")]),e._v(" "),i("el-checkbox",{model:{value:e.whiteList.mcn,callback:function(t){e.$set(e.whiteList,"mcn",t)},expression:"whiteList.mcn"}},[e._v("已加入MCN机构")])],1),e._v(" "),i("el-form-item",{attrs:{label:"账号类型（可多选）",required:""}},[i("el-checkbox-group",{attrs:{min:1},model:{value:e.whiteList.account_type,callback:function(t){e.$set(e.whiteList,"account_type",t)},expression:"whiteList.account_type"}},e._l(e.accountMap,function(t,a){return i("el-checkbox",{key:a,staticStyle:{"margin-left":"10px"},attrs:{label:a}},[e._v(e._s(t))])}))],1),e._v(" "),i("el-form-item",{attrs:{label:"原创度","label-width":"70px",required:""}},[i("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择原创度",clearable:""},on:{change:e.degreeChange},model:{value:e.whiteList.origin_degree,callback:function(t){e.$set(e.whiteList,"origin_degree",t)},expression:"whiteList.origin_degree"}},e._l(e.originList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，原创和搬运内容的比例）")])],1),e._v(" "),i("el-form-item",{attrs:{label:"垂直度","label-width":"70px",required:""}},[i("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择垂直度",clearable:""},on:{change:e.degreeChange},model:{value:e.whiteList.vertical_degree,callback:function(t){e.$set(e.whiteList,"vertical_degree",t)},expression:"whiteList.vertical_degree"}},e._l(e.verticalList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，其内容是否跟当前垂直领域一致）")])],1),e._v(" "),i("el-form-item",{attrs:{label:"健康度","label-width":"70px",required:""}},[i("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择健康度",clearable:""},on:{change:e.degreeChange},model:{value:e.whiteList.health_degree,callback:function(t){e.$set(e.whiteList,"health_degree",t)},expression:"whiteList.health_degree"}},e._l(e.healthList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"white-tips left"},[e._v("（考量发布微博中，违规、不良或广告营销信息的比例）")])],1)],1):e._e(),e._v(" "),i("el-row",[i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){e.showMacDegree()}}},[e._v("查看机器打分结果")]),e._v(" "),1===e.isShowMac?i("el-col",[i("el-row",[i("label",[e._v("原创度：")]),e._v(" "),i("span",[e._v(e._s(e.origin_mac_text))])]),e._v(" "),i("el-row",[i("label",[e._v("垂直度：")]),e._v(" "),i("span",[e._v(e._s(e.vertical_mac_text))])]),e._v(" "),i("el-row",[i("label",[e._v("健康度：")]),e._v(" "),i("span",[e._v(e._s(e.health_mac_text))])])],1):e._e(),e._v(" "),-1===e.isShowMac?i("p",[e._v("请填写完整后再查看机器打分结果！")]):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.updateEvent()}}},[e._v("保 存")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"选择下线理由及有效期",visible:e.delDialogVisible},on:{"update:visible":function(t){e.delDialogVisible=t}}},[i("el-form",{attrs:{size:"small"}},[i("el-form-item",{attrs:{label:"选择有效期","label-width":"100px",required:""}},[i("el-radio-group",{model:{value:e.is_expired,callback:function(t){e.is_expired=t},expression:"is_expired"}},[i("el-radio",{staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:0},on:{change:e.changeEpireTime}},[e._v("永久")]),e._v(" "),i("el-radio",{staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:1}},[e._v("自定义")])],1),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.is_expired,expression:"is_expired"}],staticStyle:{"margin-bottom":"5px","margin-left":"10px",width:"160px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"timestamp",placeholder:"请选择日期"},model:{value:e.expire_time,callback:function(t){e.expire_time=t},expression:"expire_time"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"博主发布内容："}},[i("el-radio-group",{model:{value:e.deleteCause,callback:function(t){e.deleteCause=t},expression:"deleteCause"}},e._l(e.delResonList,function(t,a){return i("el-radio",{key:a,staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.delDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.deleteEvent()}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.showEditDialog()}}},[i("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]),e._v(" "),0===e.data.audit_type||e.hasaudit?i("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"},on:{click:function(t){e.delDialogVisible=!0,e.deleteCause="2"}}},[i("span",{staticClass:"hidden-xs-only"},[e._v("下线")])]):e._e()],1):e._e()},staticRenderFns:[]};var h=i("VU/8")(u,p,!1,function(e){i("dISC")},"data-v-7ae33070",null).exports,_={name:"operateWhite",data:function(){return{apiConf:{delFieldWhite:"/field/delFieldWhite",whiteAuditPass:"/field/whiteAuditPass"},dialogVisible:!1,delDialogVisible:!1,deleteCause:"2",expire_time:"",is_expired:0,delResonList:[{label:"广告营销",value:"2"},{label:"搬运低质",value:"3"},{label:"恶意涨粉涨互动",value:"6"},{label:"博主发博与领域严重不符且低质",value:"1"},{label:"色情",value:"4"},{label:"政治敏感",value:"5"},{label:"不实造谣炒作",value:"7"},{label:"其他",value:"8"}]}},computed:r()({},Object(o.b)(["email"])),props:["data","callback"],methods:{_parseTime:function(e,t){return Object(n.e)(e,t)},changeEpireTime:function(){this.is_expired||(this.expire_time="")},deleteEvent:function(){var e=this;!this.is_expired||this.expire_time?this.$confirm("确定下线?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.deleteAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(c.Message)({showClose:!0,message:"请选择有效期！",type:"error",duration:1e3})},deleteAction:function(){var e=this,t={url:this.apiConf.delFieldWhite,params:{expire_time:this.expire_time,is_expired:this.is_expired,cause:this.deleteCause,uid:this.data.uid,audit_type:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(c.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(c.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:0}),e.delDialogVisible=!1})},passEvent:function(){var e=this;this.$confirm("确定通过审核?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},passAction:function(){var e=this,t={url:this.apiConf.whiteAuditPass,params:{field_id:this.data.field_id,uid:this.data.uid,audit_type:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(c.Message)({showClose:!0,message:"审核成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(c.Message)({showClose:!0,message:t.msg||"审核失败!",type:"error",duration:0})})}},watch:{data:function(){}}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.data?i("div",[i("el-dialog",{attrs:{title:"选择下线理由及有效期",visible:e.delDialogVisible},on:{"update:visible":function(t){e.delDialogVisible=t}}},[i("el-form",{attrs:{size:"small"}},[i("el-form-item",{attrs:{label:"选择有效期","label-width":"100px",required:""}},[i("el-radio-group",{model:{value:e.is_expired,callback:function(t){e.is_expired=t},expression:"is_expired"}},[i("el-radio",{staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:0},on:{change:e.changeEpireTime}},[e._v("永久")]),e._v(" "),i("el-radio",{staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:1}},[e._v("自定义")])],1),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.is_expired,expression:"is_expired"}],staticStyle:{"margin-bottom":"5px","margin-left":"10px",width:"160px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"timestamp",placeholder:"请选择日期"},model:{value:e.expire_time,callback:function(t){e.expire_time=t},expression:"expire_time"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"博主发布内容："}},[i("el-radio-group",{model:{value:e.deleteCause,callback:function(t){e.deleteCause=t},expression:"deleteCause"}},e._l(e.delResonList,function(t,a){return i("el-radio",{key:a,staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.delDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.deleteEvent()}}},[e._v("确 定")])],1)],1),e._v(" "),0===e.data.audit_type?i("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"success",icon:"el-icon-check",plain:"",size:"mini",title:"通过审核"},on:{click:function(t){e.passEvent()}}},[i("span",{staticClass:"hidden-xs-only"},[e._v("通过")])]):e._e(),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"},on:{click:function(t){e.delDialogVisible=!0,e.deleteCause="2"}}},[i("span",{staticClass:"hidden-xs-only"},[e._v("下线")])])],1):e._e()},staticRenderFns:[]};var f=i("VU/8")(_,m,!1,function(e){i("RDjn")},"data-v-778e68f9",null).exports,v=i("522d"),b=i("3dMY"),g=i.n(b),w=i("/142"),y={name:"whiteList",components:{Auth:d.a,OperateWhite:h,OperateAudit:f,UploadExcel:v.a,UserDetail:w.a},data:function(){return{file_audit:g.a,apiConf:{getField:"/field/getFieldList",getUserRole:"/role/getUserRole",getFieldWhiteList:"/field/getFieldWhiteList",addFieldWhiteList:"/field/addFieldWhiteList",importFieldWhiteList:"/field/importFieldWhiteList",whiteAuditPassMore:"/field/whiteAuditPassMore"},whiteList:null,isUpload:!1,downloadAllLoading:!1,downloadCurLoading:!1,dialogVisible:!1,mode_type:!0,hasAllAuth:!1,hasAudit:!1,hasBatch:!1,total:0,formInline:{role_id:"",uid:"",start_time:"",end_time:"",F_level:"",field_id:"",edit_type:"",audit_type:"",operator:"",page:1,count:10},formAdd:{field_id:"",user_name:"",uid:"",popover:!1},formUpload:{field_id:"",uids:null},uidsIsLegal:!1,illegalUidTips:"",frequency_loss:!1,mcn:!1,account_type:[],health_degree:"",vertical_degree:"",origin_degree:"",originList:[{value:"5",label:"极好｜81%－100%为原创"},{value:"4",label:"良好｜61%－80%为原创"},{value:"3",label:"一般｜41％－60%为原创"},{value:"2",label:"较低｜21%－40%为原创"},{value:"1",label:"极低｜20%以下为原创"}],verticalList:[{value:"5",label:"极好｜同领域匹配度81%－100％"},{value:"4",label:"良好｜同领域匹配度 61%-80%"},{value:"3",label:"一般｜同领域匹配度 41%-60%"},{value:"2",label:"较低｜同领域匹配度21%-40%"},{value:"1",label:"极低｜同领域匹配度20%以下"}],healthList:[{value:5,label:"极好｜不健康内容占比0%-4%"},{value:4,label:"良好｜不健康内容占比5%-10%"},{value:3,label:"一般｜不健康内容占比11%-20%"},{value:2,label:"较低｜不健康内容占比21%-50%"},{value:1,label:"极低｜不健康内容占比51%以上"}],editList:[{value:"",label:"所有编辑状态"},{value:"1",label:"已编辑"},{value:"0",label:"未编辑"}],auditList:[{value:"",label:"所有审核状态"},{value:"1",label:"已审核"},{value:"0",label:"未审核"}],flevelList:[{value:"",label:"全部F层级"},{value:"F0",label:"F0"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"NULL",label:"其他"}],accountMap:{1:"真人账号",2:"自媒体",3:"媒体",4:"企业",5:"营销号",6:"纯明星",7:"政府",8:"其他机构",9:"粉丝团"},verifiedTypeMap:{0:"名人",1:"政府",2:"企业",3:"媒体",4:"校园",5:"网站",6:"应用",7:"团体","-1":"普通用户",8:"待审企业",200:"初级达人",220:"通过审核的达人",400:"已故认证用户"},uploadExample:{tableHeader:["uid","user_name"],tableData:[{uid:"1111681197",user_name:"来去之间"}]},cateList:null,checkedIds:[],tips:"loading...",dataAuth:!1}},computed:r()({},Object(o.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var e=this,t={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(e.cateList=t.result.field||[],e.cateList.length>0?(t.result.permission.indexOf(4)>-1?e.hasAllAuth=!0:e.formInline.field_id=e.cateList[0].id,e.dataAuth=!0,e.hasAudit=t.result.permission.indexOf(12)>-1,e.hasBatch=t.result.permission.indexOf(6)>-1,e.onSearch()):e.tips="暂无有权限的领域"):e.tips="暂无有权限的领域"},function(t){e.tips="接口异常"})},onSearch:function(){var e=this,t=r()({},this.formInline,{username:this.email,cip:230}),i={url:this.apiConf.getFieldWhiteList,params:t};this.$store.dispatch("CommonGet",i).then(function(t){t.code&&200==Number(t.code)&&(e.whiteList=t.result)})},showAdd:function(){this.dialogVisible=!0},addEvent:function(){var e=this;this.formAdd.popover=!1;var t=this.account_type.join(",");if(!isNaN(this.formAdd.field_id)||this.formAdd.field_id)if(this.formAdd.uid)if(this.formAdd.user_name)if(t)if(this.origin_degree)if(this.vertical_degree)if(this.health_degree){var i={url:this.apiConf.addFieldWhiteList,params:{field_id:this.formAdd.field_id,uid:this.formAdd.uid,user_name:this.formAdd.user_name,health_degree:this.health_degree,vertical_degree:this.vertical_degree,origin_degree:this.origin_degree,frequency_loss:Number(this.frequency_loss),mcn:Number(this.mcn),account_type:t||0,edit_type:1,audit_type:0,username:this.email,cip:230}};this.$store.dispatch("CommonGet",i).then(function(t){t.code&&200==Number(t.code)?(e.dialogVisible=!1,Object(c.Message)({showClose:!0,message:"添加成功!",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()):Object(c.Message)({showClose:!0,message:t.msg||"添加失败!",type:"error",duration:0})})}else Object(c.Message)({showClose:!0,message:"请选择健康度！",type:"error",duration:1e3});else Object(c.Message)({showClose:!0,message:"请选择垂直度！",type:"error",duration:1e3});else Object(c.Message)({showClose:!0,message:"请选择原创度！",type:"error",duration:1e3});else Object(c.Message)({showClose:!0,message:"请选择账号类型！",type:"error",duration:3e3});else Object(c.Message)({showClose:!0,message:"请输入作者昵称！",type:"error",duration:1e3});else Object(c.Message)({showClose:!0,message:"请输入作者UID！",type:"error",duration:1e3});else Object(c.Message)({showClose:!0,message:"请选择领域！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formAdd={uid:"",user_name:"",field_id:""},this.health_degree="",this.vertical_degree="",this.origin_degree="",this.frequency_loss=!1,this.mcn=!1,this.account_type=[]},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.page=e,this.onSearch()},_parseTime:function(e,t){return Object(n.e)(e,t)},_parsePercent:function(e){return Object(n.d)(e)},_formatNum:function(e){return Object(n.b)(e)},showUpload:function(){this.isUpload=!0},addsEvent:function(){var e=this;0===this.formUpload.field_id||this.formUpload.field_id?this.formUpload.uids?this.uidsIsLegal?this.$confirm("将批量添加用户到白名单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setUids()}).catch(function(){e.$message({type:"info",message:"已取消批量添加！"})}):Object(c.Message)({showClose:!0,message:this.illegalUidTips,type:"error",duration:3e3}):Object(c.Message)({showClose:!0,message:"请导入用户uid与昵称！",type:"error",duration:3e3}):Object(c.Message)({showClose:!0,message:"请选择领域！",type:"error",duration:3e3})},cancelUpload:function(){this.isUpload=!1,this.formUpload.uids=null},setUids:function(){var e=this,t=new URLSearchParams;t.append("field_id",this.formUpload.field_id),t.append("field_whitelist",l()(this.formUpload.uids)),t.append("audit_type",0),t.append("username",this.email),t.append("cip",230);var i={url:this.apiConf.importFieldWhiteList,params:t};this.$store.dispatch("CommonPost",i).then(function(t){if(t.code&&200==Number(t.code)){var i=t.msg||"success";Object(c.Message)({showClose:!0,message:i,type:"success",duration:0}),e.onSearch()}else Object(c.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:0})})},getExcel:function(e){if(this.formUpload.uids=e,e&&e.length>0){if(!e[0].hasOwnProperty("uid"))return this.illegalUidTips="表头没有uid/uid拼写格式错误，请参考样例！",void Object(c.Message)({showClose:!0,message:this.illegalUidTips,type:"error",duration:0});if(!e[0].hasOwnProperty("user_name"))return this.illegalUidTips="表头没有user_name/user_name拼写格式错误，请参考样例！",void Object(c.Message)({showClose:!0,message:this.illegalUidTips,type:"error",duration:0});for(var t=0;t<e.length;t++){if(!e[t].uid)return this.illegalUidTips="第"+(t+1)+"行 uid不能为空！",void Object(c.Message)({showClose:!0,message:this.illegalUidTips,type:"error",duration:0});if(!e[t].user_name)return this.illegalUidTips="第"+(t+1)+"行 user_name不能为空！",void Object(c.Message)({showClose:!0,message:this.illegalUidTips,type:"error",duration:0})}this.uidsIsLegal=!0}else Object(c.Message)({showClose:!0,message:tips,type:"导入Excel为空!",duration:0})},handleDownloadAll:function(){var e=this;this.downloadAllLoading=!0;var t={uid:this.formInline.uid,F_level:this.formInline.F_level,field_id:this.formInline.field_id,edit_type:this.formInline.edit_type,audit_type:this.formInline.audit_type,operator:this.formInline.operator,role_id:this.formInline.role_id,username:this.email,page:1,count:this.total,cip:230},i={url:this.apiConf.getFieldWhiteList,params:t};this.$store.dispatch("CommonGet",i).then(function(t){t.code&&200==Number(t.code)?e.downloadAll(t.result.data):e.downloadAllLoading=!1})},downloadAll:function(e){var t=this;i.e(107).then(i.bind(null,"zWO4")).then(function(i){var a=t.formatJson(["index","uid","user_name","field_name","edit_type","origin_degree","vertical_degree","health_degree","origin_degree_mac","vertical_degree_mac","health_degree_mac","update_time","operator","frequency_loss","mcn","account_type"],e);i.export_json_to_excel(["序号","uid","昵称","领域","编辑状态","原创度","垂直度","健康度","原创度（机器打分）","垂直度（机器打分）","健康度（机器打分）","操作时间","操作人","有降频流失的风险","已加入MCN机构","账号类型"],a,"whitelist"),t.downloadAllLoading=!1})},handleDownloadCur:function(){var e=this;this.downloadCurLoading=!0,i.e(107).then(i.bind(null,"zWO4")).then(function(t){var i=e.whiteList.data,a=e.formatJson(["index","uid","user_name","field_name","edit_type","origin_degree","vertical_degree","health_degree","origin_degree_mac","vertical_degree_mac","health_degree_mac","verified","verified_type","verified_reason","interaction","send_weibo_hz","tool_weibo_rate","description","update_time","operator","frequency_loss","mcn","account_type"],i);t.export_json_to_excel(["序号","uid","昵称","领域","编辑状态","原创度","垂直度","健康度","原创度（机器打分）","垂直度（机器打分）","健康度（机器打分）","认证状态","认证类型","认证信息","互动度","日发博频次","工具发博比例","简介","操作时间","操作人","有降频流失的风险","已加入MCN机构","账号类型"],a,"whitelist"),e.downloadCurLoading=!1})},formatJson:function(e,t){var i=this;return t.map(function(t,a){return e.map(function(e){return"index"===e?a+1:"edit_type"===e?1===t[e]?"已编辑":"未编辑":"origin_degree"===e||"vertical_degree"===e||"health_degree"===e?t[e]&&t[e]+"级"||"暂无":"verified"===e?t[e]?"已认证":"未认证":"verified_type"===e?i.verifiedTypeMap[t[e]]||"普通用户":"verified_reason"===e||"description"===e?t[e]||"暂无":"update_time"===e?i._parseTime(t[e]):"frequency_loss"===e||"mcn"===e?1===t[e]?"是":"否":"account_type"===e?i.getAccountList(t[e]):"origin_degree_mac"===e?i.getOriginMac(t[e]):"vertical_degree_mac"===e?i.getVerticalMac(t[e]):"health_degree_mac"===e?i.getHealthMac(t[e]):t[e]})})},getOriginMac:function(e){var t=Object(n.d)(e),i="一年内未发博，无法计算原创度";switch(!0){case e>1:i="一年内未发博，无法计算原创度";break;case e>.8:i="5级｜原创占比为"+t;break;case e>.6:i="4级｜原创占比为"+t;break;case e>.4:i="3级｜原创占比为"+t;break;case e>.2:i="2级｜原创占比为"+t;break;case e<=.2:i="1级｜原创占比为"+t;break;default:i="一年内未发博，无法计算原创度"}return i},getVerticalMac:function(e){var t=Object(n.d)(e),i="一年内未发博，无法计算垂直度";switch(!0){case e>1:i="一年内未发博，无法计算垂直度";break;case e>.8:i="5级｜同领域匹配度"+t;break;case e>.6:i="4级｜同领域匹配度"+t;break;case e>.4:i="3级｜同领域匹配度"+t;break;case e>.2:i="2级｜同领域匹配度"+t;break;case e<=.2:i="1级｜同领域匹配度"+t;break;default:i="一年内未发博，无法计算垂直度"}return i},getHealthMac:function(e){var t=Object(n.d)(e),i="半年内未发博，无法计算健康度";switch(!0){case e>1:i="半年内未发博，无法计算健康度";break;case e<=.04:i="5级｜不健康内容占比"+t;break;case e<=.1:i="4级｜不健康内容占比"+t;break;case e<=.2:i="3级｜不健康内容占比"+t;break;case e<=.5:i="2级｜不健康内容占比"+t;break;case e>.5:i="1级｜不健康内容占比"+t;break;default:i="半年内未发博，无法计算健康度"}return i},getAccountList:function(e){if(0==e)return"暂无";for(var t=e.toString().split(","),i=[],a=0;a<t.length;a++)i.push(this.accountMap[t[a]]);return i.join("、")},handleModeChange:function(){this.mode_type=!this.mode_type,this.formInline={role_id:"",uid:"",start_time:"",end_time:"",F_level:"",field_id:"",edit_type:"",audit_type:"",operator:"",page:1,count:10},this.onSearch()},handleSelectionChange:function(e){if(this.checkedIds=[],e&&e.length>0)for(var t=0;t<e.length;t++)0===e[t].audit_type&&this.checkedIds.push(e[t].id)},passAllEvent:function(){var e=this;this.checkedIds.join(",")?this.$confirm("所选白名单将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAllAction()}).catch(function(){e.$message({type:"info",message:"已取消批量审核！"})}):Object(c.Message)({showClose:!0,message:"请勾选未审核白名单用户！",type:"error",duration:3e3})},passAllAction:function(){var e=this,t={url:this.apiConf.whiteAuditPassMore,params:{ids:this.checkedIds.join(","),username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(c.Message)({showClose:!0,message:"批量审核成功!",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()):Object(c.Message)({showClose:!0,message:t.msg||"批量审核失败!",type:"error",duration:0})})}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},whiteList:function(){this.whiteList&&(this.total=this.whiteList.total||0)}}},x={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return 1===e.pageAuth?i("el-main",[i("el-row",{staticClass:"pane-title-wrap"},[i("el-col",{staticClass:"clearfix",attrs:{span:24}},[i("h6",{staticClass:"pane-title left"},[i("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("领域白名单")]),e._v(" "),e.dataAuth?i("a",{staticClass:"help-doc-tips left",attrs:{href:"/hot/#/channel/user/whitelist/document",target:"_blank"}},[i("i",{staticClass:"el-icon-question"}),e._v("\n        用户分级标准与编辑手册\n      ")]):e._e(),e._v(" "),e.hasAudit?i("a",{staticClass:"help-doc-tips left",attrs:{href:e.file_audit,target:"_blank"}},[e._v("\n        审核热门流白名单标准 下载\n      ")]):e._e(),e._v(" "),e.hasAudit?i("span",{staticClass:"mode-text link-btn left",on:{click:function(t){e.handleModeChange()}}},[e._v(e._s(e.mode_type?"切换审核模式":"切回编辑模式"))]):e._e()])],1),e._v(" "),i("el-row",{staticClass:"search-form-wrap"},[e.cateList&&e.cateList.length>0?i("el-col",{attrs:{span:24}},[e.cateList?i("el-form",{attrs:{inline:"",model:e.formInline,"label-position":"left",size:"mini"}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"请输入作者UID",clearable:""},model:{value:e.formInline.uid,callback:function(t){e.$set(e.formInline,"uid",t)},expression:"formInline.uid"}})],1),e._v(" "),i("el-form-item",[i("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"160px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"timestamp",placeholder:"选择开始时间"},model:{value:e.formInline.start_time,callback:function(t){e.$set(e.formInline,"start_time",t)},expression:"formInline.start_time"}}),e._v(" "),i("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"160px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"timestamp",placeholder:"选择结束时间"},model:{value:e.formInline.end_time,callback:function(t){e.$set(e.formInline,"end_time",t)},expression:"formInline.end_time"}})],1),e._v(" "),e.mode_type?i("el-form-item",[i("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择编辑状态"},model:{value:e.formInline.edit_type,callback:function(t){e.$set(e.formInline,"edit_type",t)},expression:"formInline.edit_type"}},e._l(e.editList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),e.mode_type?e._e():i("el-form-item",[i("el-select",{staticStyle:{"max-width":"130px"},attrs:{placeholder:"请选择编辑状态"},model:{value:e.formInline.audit_type,callback:function(t){e.$set(e.formInline,"audit_type",t)},expression:"formInline.audit_type"}},e._l(e.auditList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.mode_type?e._e():i("el-form-item",[i("el-input",{attrs:{placeholder:"请输入操作人邮箱前缀",clearable:""},model:{value:e.formInline.operator,callback:function(t){e.$set(e.formInline,"operator",t)},expression:"formInline.operator"}})],1),e._v(" "),i("el-form-item",[i("el-select",{staticStyle:{"max-width":"120px"},attrs:{placeholder:"请选择F层级"},model:{value:e.formInline.F_level,callback:function(t){e.$set(e.formInline,"F_level",t)},expression:"formInline.F_level"}},e._l(e.flevelList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",[i("el-select",{attrs:{filterable:"",placeholder:"请选择领域"},model:{value:e.formInline.field_id,callback:function(t){e.$set(e.formInline,"field_id",t)},expression:"formInline.field_id"}},[e.hasAllAuth?i("el-option",{attrs:{label:"所有领域",value:""}}):e._e(),e._v(" "),e._l(e.cateList,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})})],2),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[i("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):i("el-col",{attrs:{span:24}},[i("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1),e._v(" "),i("el-row",{staticClass:"content-box-wrap"},[i("el-col",{attrs:{span:24}},[i("el-dialog",{attrs:{title:"Excel批量操作",visible:e.isUpload},on:{"update:visible":function(t){e.isUpload=t}}},[i("el-form",{attrs:{model:e.formUpload}},[e.cateList?i("el-form-item",{attrs:{label:"选择领域","label-width":"90px",required:""}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择领域",clearable:""},model:{value:e.formUpload.field_id,callback:function(t){e.$set(e.formUpload,"field_id",t)},expression:"formUpload.field_id"}},e._l(e.cateList,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),i("el-form-item",[i("upload-excel",{attrs:{callback:e.getExcel,initdata:e.formUpload.uids,example:e.uploadExample,showexample:!0}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addsEvent()}}},[e._v("添加")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelUpload()}}},[e._v("取 消")])],1)],1),e._v(" "),e.cateList&&e.cateList.length>0?i("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.mode_type,expression:"!mode_type"}],staticClass:"left",attrs:{round:"",size:"mini"},on:{click:function(t){e.passAllEvent()}}},[e._v("勾选名单通过")]),e._v(" "),i("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加白名单")]),e._v(" "),e.hasBatch?i("el-button",{staticClass:"left",attrs:{type:"primary",size:"mini",title:"Excel批量导入uid"},on:{click:function(t){e.showUpload()}}},[i("span",[e._v("批量导入")])]):e._e(),e._v(" "),""!==e.formInline.field_id?i("el-button",{staticClass:"right",attrs:{type:"danger",size:"mini",title:"批量导出全部 Excel",loading:e.downloadAllLoading},on:{click:e.handleDownloadAll}},[i("span",[e._v("导出全部")])]):e._e(),e._v(" "),i("el-button",{staticClass:"right",attrs:{type:"warning",size:"mini",title:"批量导出当前页数据 Excel",loading:e.downloadCurLoading},on:{click:e.handleDownloadCur}},[i("span",[e._v("导出当前页")])])],1):e._e(),e._v(" "),i("el-dialog",{attrs:{title:"添加白名单账号",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{model:e.formAdd,"label-position":"left"}},[e.cateList?i("el-form-item",{attrs:{label:"选择领域","label-width":"80px",required:""}},[i("el-select",{staticClass:"white-item",attrs:{filterable:"",placeholder:"请选择领域",clearable:""},model:{value:e.formAdd.field_id,callback:function(t){e.$set(e.formAdd,"field_id",t)},expression:"formAdd.field_id"}},e._l(e.cateList,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"作者UID","label-width":"80px",required:""}},[i("el-input",{staticClass:"white-item",attrs:{placeholder:"请输入作者UID",clearable:""},model:{value:e.formAdd.uid,callback:function(t){e.$set(e.formAdd,"uid",t)},expression:"formAdd.uid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"作者昵称","label-width":"80px",required:""}},[i("el-input",{staticClass:"white-item",attrs:{placeholder:"请输入作者昵称",clearable:""},model:{value:e.formAdd.user_name,callback:function(t){e.$set(e.formAdd,"user_name",t)},expression:"formAdd.user_name"}})],1),e._v(" "),i("el-form-item",[i("el-checkbox",{model:{value:e.frequency_loss,callback:function(t){e.frequency_loss=t},expression:"frequency_loss"}},[e._v("有降频流失的风险")]),e._v(" "),i("el-checkbox",{model:{value:e.mcn,callback:function(t){e.mcn=t},expression:"mcn"}},[e._v("已加入MCN机构")])],1),e._v(" "),i("el-form-item",{attrs:{label:"账号类型（可多选）",required:""}},[i("el-checkbox-group",{attrs:{min:1},model:{value:e.account_type,callback:function(t){e.account_type=t},expression:"account_type"}},e._l(e.accountMap,function(t,a){return i("el-checkbox",{key:a,staticStyle:{"margin-left":"10px"},attrs:{label:a}},[e._v(e._s(t))])}))],1),e._v(" "),i("el-form-item",{attrs:{label:"原创度","label-width":"80px",required:""}},[i("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择原创度",clearable:""},model:{value:e.origin_degree,callback:function(t){e.origin_degree=t},expression:"origin_degree"}},e._l(e.originList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，原创和搬运内容的比例）")])],1),e._v(" "),i("el-form-item",{attrs:{label:"垂直度","label-width":"80px",required:""}},[i("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择垂直度",clearable:""},model:{value:e.vertical_degree,callback:function(t){e.vertical_degree=t},expression:"vertical_degree"}},e._l(e.verticalList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，其内容是否跟当前垂直领域一致）")])],1),e._v(" "),i("el-form-item",{attrs:{label:"健康度","label-width":"80px",required:""}},[i("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择健康度",clearable:""},model:{value:e.health_degree,callback:function(t){e.health_degree=t},expression:"health_degree"}},e._l(e.healthList,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("span",{staticClass:"white-tips left"},[e._v("（考量发布微博中，违规、不良或广告营销信息的比例）")])],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formAdd.popover,callback:function(t){e.$set(e.formAdd,"popover",t)},expression:"formAdd.popover"}},[i("p",[e._v("确定添加到白名单？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formAdd.popover=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.whiteList&&e.whiteList.data?i("el-row",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode_type,expression:"mode_type"}]},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteList.data,border:"",stripe:"",size:"mini"}},[i("el-table-column",{attrs:{width:"130",prop:"uid",label:"uid"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("user-detail",{attrs:{uid:e.row.uid,iswhite:1}})]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"user_name",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{class:t.row.user_name?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.user_name||"未知"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"field_name",label:"领域"}}),e._v(" "),i("el-table-column",{attrs:{width:"80",align:"left",prop:"",label:"编辑状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:1==t.row.edit_type?"":"errorBtn"},[e._v(e._s(1==t.row.edit_type?"已编辑":"未编辑"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"原创度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.origin_degree?i("span",[e._v(e._s(t.row.origin_degree)+"级")]):i("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"垂直度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.vertical_degree?i("span",[e._v(e._s(t.row.vertical_degree)+"级")]):i("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"健康度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.health_degree?i("span",[e._v(e._s(t.row.health_degree)+"级")]):i("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"160",align:"left",prop:"update_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.update_time)))]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{width:"120",align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.audit_type||e.hasAudit?i("operate-white",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch,hasaudit:e.hasAudit}}):i("span",[e._v("已审核，无需操作")])]}}])})],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.mode_type,expression:"!mode_type"}]},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteList.data,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{width:"130",prop:"uid",label:"uid"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("user-detail",{attrs:{uid:e.row.uid,iswhite:1}})]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"user_name",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{class:t.row.user_name?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.user_name||"未知"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"field_name",label:"领域"}}),e._v(" "),i("el-table-column",{attrs:{width:"80",align:"left",prop:"",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:1==t.row.audit_type?"":"errorBtn"},[e._v(e._s(1==t.row.audit_type?"已审核":"未审核"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"verified",label:"认证状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.verified?"已认证":"未认证"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"verified_type",label:"认证类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e.verifiedTypeMap[t.row.verified_type]||"普通用户"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"verified_reason",label:"认证信息","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.verified_reason||"暂无"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"interaction",label:"互动度"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._formatNum(t.row.interaction)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"send_weibo_hz",label:"日发博频次"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._formatNum(t.row.send_weibo_hz)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"tool_weibo_rate",label:"工具发博比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._parsePercent(t.row.tool_weibo_rate)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"description",label:"简介","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.description||"暂无"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{width:"160",align:"left",prop:"update_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.update_time)))]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.audit_type||e.hasAudit?i("operate-audit",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch}}):i("span",[e._v("已审核，无需操作")])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"page-box"},[i("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[5,10,20,30,40,50],"page-size":e.formInline.count,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):e._e()],1)],1)],1):0===e.pageAuth?i("el-main",[i("auth")],1):e._e()},staticRenderFns:[]};var k=i("VU/8")(y,x,!1,function(e){i("xs0i")},"data-v-4f27c916",null);t.default=k.exports},xs0i:function(e,t){}});