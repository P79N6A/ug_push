webpackJsonp([3],{"+vU9":function(e,t){},"+xM4":function(e,t){},"/2EL":function(e,t){},"/qsC":function(e,t){},0:function(e,t){},"0Xo1":function(e,t){},"0txA":function(e,t){},1:function(e,t){},2:function(e,t){},"2+0d":function(e,t,a){e.exports=a.p+"static/img/doc.d1e451a.png"},"3IMk":function(e,t){},"4XAd":function(e,t){},"5v0z":function(e,t){},"89N2":function(e,t){},"8En6":function(e,t){},"8FDY":function(e,t){},"8FNN":function(e,t){},"8Qf5":function(e,t){},"8Yhp":function(e,t){},"8ji2":function(e,t){},"9QtZ":function(e,t){},"9X5G":function(e,t){},"9ojY":function(e,t){},"Bbb/":function(e,t){},CWta:function(e,t){},Cj7x:function(e,t){},CtEL:function(e,t){},DIVH:function(e,t){},DNBH:function(e,t){},DND2:function(e,t){},DenG:function(e,t){},EKro:function(e,t){},FJop:function(e,t){},H0O9:function(e,t){},H8qK:function(e,t){},HKJv:function(e,t){},HoKC:function(e,t){},Hydg:function(e,t){},JV6w:function(e,t){},JvZ4:function(e,t){},KE9M:function(e,t){},MSv8:function(e,t){},MVCm:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n=a("Dd8w"),l=a.n(n),s=a("NYxO"),o={name:"ItemMenu",props:["item","preindex"],components:{ItemMenu:c},data:function(){return{index:"1"}},methods:{init:function(){this.item&&(this.preindex?this.index=this.preindex+"-"+this.item.id:this.index=""+this.item.id)}},created:function(){this.init()},watch:{item:function(){this.init()}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item&&!e.item.list&&e.item.visible?a("el-menu-item",{attrs:{index:e.index}},[a("a",{attrs:{href:e.item.path||"javascript:void(0)"}},[e._v(e._s(e.item.name))])]):e.item&&e.item.list&&e.item.visible?a("el-submenu",{attrs:{index:e.index}},[a("template",{slot:"title"},[a("a",{attrs:{href:e.item.path||"javascript:void(0)"}},[e._v(e._s(e.item.name))])]),e._v(" "),e._l(e.item.list,function(t){return a("item-menu",{key:t.id,attrs:{preindex:""+e.index,item:t}})})],2):e._e()},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(e){a("Bbb/")},"data-v-0661db3a",null).exports,d={name:"ItemHeader",props:["showmenu","toggleclick"],components:{ItemMenu:c},data:function(){return{loginLink:"",logoutLink:"",isPhone:!1,isShowMenu:!1}},computed:l()({},Object(s.b)(["email","isLogin"])),methods:{init:function(){var e=encodeURIComponent(location.href);this.loginLink="http://cas.erp.sina.com.cn/cas/login?service="+e,this.logoutLink="http://cas.erp.sina.com.cn/cas/logout?service="+e,document.title=this.$route.meta.title,this.isLogin&&(this.setMenu(),this.getPageAuth())},setMenu:function(){var e={userid:this.email,username:this.email,cip:230};this.$store.dispatch("GetMenu",e)},getPageAuth:function(){var e=this.$route.query.source?this.$route.query.source:this.$route.path,t={userid:this.email,username:this.email,path:"/hot/#"+e,cip:230};this.$store.dispatch("GetPageAuth",t)},toggleSideBar:function(){this.isShowMenu=!this.isShowMenu,this.toggleclick(this.isShowMenu)}},created:function(){this.isPhone=window.isPhone,this.isShowMenu=this.showmenu||!1,this.init(),this.isLogin||this.$store.dispatch("GetUserInfo")},watch:{email:function(){},isLogin:function(){this.init()},showmenu:function(){this.isShowMenu=this.showmenu},"$route.fullPath":"init"}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"header-top",attrs:{type:"flex",align:"middle",justify:"space-between"}},[a("el-col",[a("img",{staticClass:"header-logo hidden-xs-only",attrs:{src:"//mlplat.intra.weibo.com/static/layout/img/logo.png",alt:"mlplat-logo"}}),e._v(" "),a("span",[e._v("热门微博管理后台")])]),e._v(" "),a("el-col",[e.isLogin?a("a",{staticClass:"right linkBtn",attrs:{href:e.logoutLink}},[e._v("退出")]):a("a",{staticClass:"right linkBtn",attrs:{href:e.loginLink}},[e._v("登录")]),e._v(" "),a("span",{staticClass:"right",staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.email))]),e._v(" "),e.isPhone&&e.isLogin?a("span",{staticClass:"right",staticStyle:{"margin-right":"10px","margin-top":"2px"},on:{click:function(t){e.toggleSideBar()}}},[a("i",{staticClass:"el-icon-menu"})]):e._e()])],1)},staticRenderFns:[]};var u=a("VU/8")(d,m,!1,function(e){a("kNz1"),a("8ji2")},"data-v-70918cbe",null).exports,p=a("fZjL"),h=a.n(p),f=["el-icon-bell","el-icon-date","el-icon-sold-out","el-icon-service","el-icon-printer","el-icon-menu","el-icon-news","el-icon-time","el-icon-document","el-icon-edit-outline","el-icon-setting"],_={name:"ItemMenu",props:["item","preindex","icon"],components:{ItemMenu:c},data:function(){return{index:"1"}},methods:{init:function(){this.item&&(this.preindex?this.index=this.preindex+"-"+this.item.id:this.index=""+this.item.id)},getIcon:function(e){return f[e%11]}},created:function(){this.init()},watch:{item:function(){this.init()}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item&&!e.item.list&&e.item.visible?a("a",{attrs:{href:e.item.path||"javascript:void(0)"}},[a("el-menu-item",{attrs:{index:e.index}},[0===e.item.fid?a("i",{class:e.getIcon(e.icon)}):e._e(),a("span",[e._v(e._s(e.item.name))])])],1):e.item&&e.item.list&&e.item.visible?a("el-submenu",{attrs:{index:e.index}},[a("template",{slot:"title"},[a("a",{attrs:{href:e.item.path||"javascript:void(0)"}},[0===e.item.fid?a("i",{class:e.getIcon(e.icon)}):e._e(),a("span",[e._v(e._s(e.item.name))])])]),e._v(" "),e._l(e.item.list,function(t){return a("item-menu",{key:t.id,attrs:{preindex:""+e.index,item:t}})})],2):e._e()},staticRenderFns:[]};var v={name:"ItemAside",props:["showmenu"],components:{ItemMenu:a("VU/8")(_,g,!1,function(e){a("PXpy")},"data-v-8ed4efde",null).exports},data:function(){return{isPhone:!1,isShowMenu:!0,menuArr:null}},computed:l()({},Object(s.b)(["menulist"])),methods:{init:function(){this.menuArr=this.menulist&&h()(this.menulist)||null}},created:function(){this.isPhone=window.isPhone,this.init()},watch:{menulist:function(){this.init()}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.menulist&&e.menuArr?a("el-aside",{class:e.isPhone?"app-wrapper-aside":"",attrs:{width:e.isPhone&&!e.showmenu?"0px":"200px"}},[a("el-row",{staticClass:"nav-wrapper"},[a("el-menu",{staticClass:"el-header-menu",attrs:{"unique-opened":"","default-active":e.$route.meta.activeidx,mode:"vertical","background-color":"#304156","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.menuArr,function(t,i){return a("item-menu",{key:i,attrs:{icon:i,item:e.menulist[t]}})}))],1)],1):e._e()},staticRenderFns:[]};var y=a("VU/8")(v,b,!1,function(e){a("JvZ4")},null,null).exports,w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",{attrs:{type:"flex",justify:"center",gutter:10}},[t("el-col",{attrs:{xs:12,sm:6,md:6,lg:3,xl:3}},[t("el-alert",{attrs:{title:"暂无权限",type:"warning","show-icon":"",closable:!1}})],1),this._v(" "),t("el-col",{attrs:{xs:12,sm:4,md:4,lg:3,xl:3}},[t("a",{staticStyle:{display:"inline-block"},attrs:{title:"邮件联系",href:"mailto:"+this.emailLink}},[t("el-button",{attrs:{type:"primary",plain:""}},[t("i",{staticClass:"el-icon-message",staticStyle:{"margin-right":"5px"}}),this._v("邮件申请权限\n      ")])],1)])],1)},staticRenderFns:[]},x=a("VU/8")({name:"AuthTips",props:["admin"],data:function(){return{emailLink:"wangyang29@staff.weibo.com;juanmin@staff.weibo.com"}},methods:{init:function(){this.emailLink=this.admin||this.emailLink}},created:function(){this.init()},watch:{admin:function(){this.init()}}},w,!1,null,null,null).exports,k={name:"app",components:{ItemHeader:u,ItemAside:y,Auth:x},data:function(){return{isShowMenu:!1,isPhone:!1}},computed:l()({},Object(s.b)(["isLogin","pageAuth"])),methods:{pathUpdate:function(){document.title=this.$route.meta.title,this.isShowMenu=!1},handleClickOutside:function(){this.isShowMenu=!1},toggleSideBar:function(e){this.isShowMenu=e}},created:function(){this.isPhone=window.isPhone},watch:{"$route.fullPath":"pathUpdate",isShowMenu:function(){}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isPhone&&e.isShowMenu?a("div",{staticClass:"drawer-bg",on:{click:e.handleClickOutside}}):e._e(),e._v(" "),a("el-container",[a("el-header",{attrs:{height:"auto"}},[a("item-header",{attrs:{toggleclick:e.toggleSideBar,showmenu:e.isShowMenu}})],1),e._v(" "),a("el-container",[a("item-aside",{attrs:{showmenu:e.isShowMenu}}),e._v(" "),a("el-container",[e.isLogin?a("router-view"):null==e.isLogin?a("el-main",[e._v("Loading···")]):a("el-main",{staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v("请先登录")]),e._v(" "),"response failed"===e.pageAuth?a("el-main",[a("el-alert",{attrs:{title:"网络异常，请重试一下",type:"info","show-icon":"",center:"",closable:!1}})],1):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(k,C,!1,function(e){a("VkFt")},"data-v-cd6dd7d4",null).exports,S=a("/ocq"),L=a("mvHQ"),A=a.n(L),I=a("RRo+"),D=a.n(I),$=a("pFYg"),M=a.n($);function F(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",i=void 0;"object"===(void 0===e?"undefined":M()(e))?i=e:(10===(""+e).length&&(e=1e3*parseInt(e)),i=new Date(e));var n={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=n[t];return"a"===t?["一","二","三","四","五","六","日"][a-1]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function E(e){var t=D()(e)?e:parseFloat(e).toFixed(3),a=t;if(e){var i=Math.abs(parseInt(t)).toString().length;i>12?a=Number(Math.round(t/1e9)/1e3)+"万亿":i>8?a=Number(Math.round(t/1e5)/1e3)+"亿":i>4&&(a=Number(Math.round(t/10)/1e3)+"万")}else a=0;return a}function j(e,t){if(isNaN(e))return"-";var a=t||2,i=Math.pow(10,a+2),n=Math.pow(10,a);return Math.round(e*i)/n+"%"}var z={name:"datamonitor",components:{Auth:x},data:function(){return{formInline:{date:[]},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]}}},computed:l()({},Object(s.b)(["pageAuth","entireMonitor"])),methods:{init:function(){if(1===this.pageAuth){var e=F(Date.now()-6912e5,"{y}{m}{d}"),t=F(Date.now()-1728e5,"{y}{m}{d}");this.formInline.date=[e,t],this.onSearch()}},onSearch:function(){var e={url:"http://172.16.105.67:8091/newtest1011/getEntireDayTableData.html",param:{dt_start:this.formInline.date[0],dt_end:this.formInline.date[1]}},t={data:A()(e),cip:230};this.$store.dispatch("GetEntireMonitor",t)},_formatNum:function(e){return E(e)},_parseTime:function(e){return e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)},_formatIntNum:function(e){return function(e){var t=D()(e)?e:parseFloat(e).toFixed(3),a=t;if(e){var i=Math.abs(parseInt(t)).toString().length;i>12?a=Math.round(t/1e12)+"万亿":i>8?a=Math.round(t/1e8)+"亿":i>4&&(a=Math.round(t/1e4)+"万")}else a=0;return a}(e)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-bell hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("热门流-整体数据监控")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap",attrs:{type:"flex"}},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"290px"},attrs:{align:"center","unlink-panels":"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd","picker-options":e.pickerOptions},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.entireMonitor?a("el-row",{staticClass:"content-box-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.entireMonitor,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",width:"100",prop:"dt",label:"日期",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parseTime(t.row.dt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"70",prop:"day",label:"星期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"thd_click",sortable:"",label:"千次点击"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.thd_click)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"thd_act",sortable:"",label:"千次互动"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.thd_act)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"average_fresh_times",sortable:"",label:"人均刷新"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.average_fresh_times)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"pv",sortable:"",label:"PV"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.pv)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"uv",sortable:"",label:"UV"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatIntNum(t.row.uv)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"exposure",sortable:"",label:"曝光量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.exposure)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"82",prop:"two_save_rate",sortable:"",label:"次日留存(热门)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.two_save_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"82",prop:"two_feed_save_rate",sortable:"",label:"次日留存(首页)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.two_feed_save_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"retweet",sortable:"",label:"转发量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.retweet)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"comment",sortable:"",label:"评论量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.comment)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"like_volume",sortable:"",label:"点赞量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatIntNum(t.row.like_volume)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"interact_volume",sortable:"",label:"互动量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.interact_volume)))])]}}])})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var O=a("VU/8")(z,N,!1,function(e){a("WxZE")},"data-v-35803dda",null).exports,P=a("cs+8"),U={name:"templateChart",components:{VueEcharts:a.n(P).a},props:["data"],data:function(){return{options:null,width:"100%",height:"400px",title:"统计图表"}},created:function(){this.data&&this.setChart()},methods:{setChart:function(){this.title=this.data.title||this.title,this.width=this.data.width||this.width,this.height=this.data.height||this.height,this.options={color:["#fc97af","#87f7cf","#fcce10","#72ccff","#f7c5a0","#d4a4eb","#d2f5a6","#76f2f2"],title:{text:this.title,textStyle:{color:"#516b91",fontSize:16}},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{type:"scroll",bottom:10,data:this.data.legendName},toolbox:{feature:{dataView:{show:!0,readOnly:!0},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{pixelRatio:2}},right:15,top:-6,emphasis:{iconStyle:{borderColor:"#409eff"}}},grid:{left:"1%",containLabel:!0},xAxis:this.data.xAxis,yAxis:this.data.yAxis,series:this.data.series}}},watch:{data:function(){this.data&&this.setChart()}}},V={render:function(){var e=this.$createElement,t=this._self._c||e;return this.data?t("div",{staticClass:"chartsBox"},[t("div",{style:"width:"+this.width+";height:"+this.height},[this.options?t("vue-echarts",{attrs:{options:this.options,loading:"true"}}):this._e()],1)]):this._e()},staticRenderFns:[]};var B=a("VU/8")(U,V,!1,function(e){a("8Yhp")},"data-v-14603ac0",null).exports,R=a("zL8q"),W=a.n(R),q={name:"materialPage",components:{Auth:x,ItemChart:B},data:function(){return{formInline:{database:"offline",type:"entire",date:[],items:[]},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]},chartData:null,itemsList:null}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){if(1===this.pageAuth){var e=F(Date.now()-2592e6,"{y}{m}{d}"),t=F(Date.now()-864e5,"{y}{m}{d}");this.formInline.date=[e,t],this.getSourceList(),this.onSearch()}},onSearch:function(){var e=this,t={database:this.formInline.database,type:this.formInline.type,dt_start:this.formInline.date[0],dt_end:this.formInline.date[1],status:"total_num"};if("source"==this.formInline.type){var a=this.formInline.items.join(",");if(!a)return void Object(R.Message)({showClose:!0,message:"请选择查询领域！",type:"error",duration:1e3});t.items=a}var i={url:"http://172.16.105.67:8091/newtest1011/getMaterialLineData.html",param:t},n={data:A()(i),cip:230};this.$store.dispatch("GetBaseAnaly",n).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.code&&200==Number(t.code)&&(e.chartData=e.setAnalyData(t.data,"趋势分析"))})},getSourceList:function(){var e=this,t={data:A()({url:"http://172.16.105.67:8091/newtest1011/getMaterialWeiduName.html",param:{type:"material"}}),cip:230};this.$store.dispatch("GetSourceList",t).then(function(t){t.code&&200==Number(t.code)&&(e.itemsList=t.data)})},setAnalyData:function(e,t){for(var a=e.series,i=[],n=0;n<a.length;n++)i.push({name:a[n].name,type:"line",data:a[n].data,smooth:!0});return{title:t,width:"100%",height:"400px",legendName:e.legendName,xAxis:[{type:"category",data:e.xAxis.data,name:e.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:e.yAxis.name,axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:i}}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-printer hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("物料日增规模")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"数据库"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"请选择数据库"},model:{value:e.formInline.database,callback:function(t){e.$set(e.formInline,"database",t)},expression:"formInline.database"}},[a("el-option",{attrs:{label:"原始数据",value:"offline"}}),e._v(" "),a("el-option",{attrs:{label:"入库数据",value:"online"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"维度"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"请选择查询维度"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[a("el-option",{attrs:{label:"整体数据",value:"entire"}}),e._v(" "),e.itemsList?a("el-option",{attrs:{label:"分领域",value:"source"}}):e._e()],1)],1),e._v(" "),"source"==e.formInline.type?a("el-form-item",{attrs:{label:"领域"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择领域，支持搜索",multiple:""},model:{value:e.formInline.items,callback:function(t){e.$set(e.formInline,"items",t)},expression:"formInline.items"}},e._l(e.itemsList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"290px"},attrs:{align:"center","unlink-panels":"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd","picker-options":e.pickerOptions},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.chartData?a("el-row",{staticClass:"content-box-wrap",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{"margin-right":"5px"},attrs:{span:24}},[a("item-chart",{attrs:{data:e.chartData}})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var H=a("VU/8")(q,G,!1,function(e){a("89N2")},"data-v-1e910ac6",null).exports,K={name:"ratePage",components:{Auth:x,ItemChart:B},data:function(){return{formInline:{database:"offline",status:"second_tag_rate_material",date:[],items:["1042015:tagCategory_050"]},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]},chartData:null,itemsList:null,statusList:[{label:"内容标签2级覆盖率(按物料统计)",value:"second_tag_rate_material"},{label:"内容标签3级覆盖率(按物料统计)",value:"third_tag_rate_material"},{label:"内容标签2级覆盖率(按曝光统计)",value:"second_tag_rate_expose"},{label:"内容标签3级覆盖率(按曝光统计)",value:"third_tag_rate_expose"},{label:"用户2级兴趣匹配度(按曝光统计)",value:"second_user_rate_expose"},{label:"用户3级兴趣匹配度(按曝光统计)",value:"third_user_rate_expose"}]}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){if(1===this.pageAuth){var e=F(Date.now()-2592e6,"{y}{m}{d}"),t=F(Date.now()-864e5,"{y}{m}{d}");this.formInline.date=[e,t],this.getSourceList()}},onSearch:function(){var e=this,t=this.formInline.items.join(",");if(t){var a={url:"http://172.16.105.67:8091/newtest1011/getMaterialLineData.html",param:{database:this.formInline.database,type:"source",items:t,status:this.formInline.status,dt_start:this.formInline.date[0],dt_end:this.formInline.date[1]}},i={data:A()(a),cip:230};this.$store.dispatch("GetBaseAnaly",i).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.code&&200==Number(t.code)&&(e.chartData=e.setAnalyData(t.data,t.data.yAxis.name))})}else Object(R.Message)({showClose:!0,message:"请选择查询领域！",type:"error",duration:1e3})},getSourceList:function(){var e=this,t={data:A()({url:"http://172.16.105.67:8091/newtest1011/getMaterialWeiduName.html",param:{type:"rate"}}),cip:230};this.$store.dispatch("GetSourceList",t).then(function(t){t.code&&200==Number(t.code)&&(e.itemsList=t.data,e.onSearch())})},setAnalyData:function(e,t){for(var a=e.series,i=[],n=0;n<a.length;n++)i.push({name:a[n].name,type:"line",data:a[n].data,smooth:!0});return{title:t,width:"100%",height:"400px",legendName:e.legendName,xAxis:[{type:"category",data:e.xAxis.data,name:e.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:"",axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:i}}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-printer hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("兴趣标签覆盖率")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"数据库"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"请选择数据库"},model:{value:e.formInline.database,callback:function(t){e.$set(e.formInline,"database",t)},expression:"formInline.database"}},[a("el-option",{attrs:{label:"原始数据",value:"offline"}}),e._v(" "),a("el-option",{attrs:{label:"入库数据",value:"online"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"维度"}},[a("el-select",{staticStyle:{"min-width":"250px"},attrs:{placeholder:"请选择查询维度"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.statusList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"领域"}},[a("el-select",{attrs:{placeholder:"请选择领域，支持搜索",filterable:"",multiple:""},model:{value:e.formInline.items,callback:function(t){e.$set(e.formInline,"items",t)},expression:"formInline.items"}},e._l(e.itemsList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-date-picker",{staticStyle:{width:"290px"},attrs:{align:"center","unlink-panels":"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd","picker-options":e.pickerOptions},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.chartData?a("el-row",{staticClass:"content-box-wrap",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{"margin-right":"5px"},attrs:{span:24}},[a("item-chart",{attrs:{data:e.chartData}})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Q=a("VU/8")(K,J,!1,function(e){a("NszD")},"data-v-ae2c2f4c",null).exports,Y={name:"datamonitor",components:{Auth:x},data:function(){return{entireData:null,entireDate:"",pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.entireDate=F(Date.now()-1728e5,"{y}{m}{d}"),this.curEntireTime=this.entireDate,this.onSearch())},onSearch:function(){var e=this,t=this,a={url:"http://172.16.105.67:8091/newtest1011/getKpiMonitorData.html",param:{dt:this.entireDate}},i={data:A()(a),cip:230};this.$store.dispatch("GetDataMonitor",i).then(function(a){a.code&&200==Number(a.code)&&(Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.entireData=a.data&&a.data.entire||[],e.curEntireTime=e.entireDate)})},_formatNum:function(e){return E(e)},_parsePercent:function(e){return e?j(e):"0%"},entireRate:function(e,t){return e<-.1?"danger":e>.1?"success":"info"}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-bell hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("热门流-整体数据分析（"+e._s(e.curEntireTime)+"）")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap",attrs:{type:"flex"}},[a("el-form",{attrs:{size:"small"}},[a("el-form-item",[a("el-date-picker",{attrs:{align:"right",type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyyMMdd",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.entireDate,callback:function(t){e.entireDate=t},expression:"entireDate"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.onSearch()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.entireData?a("el-row",{staticClass:"content-box-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.entireData,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",width:"140",prop:"name",label:"KPI指标",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{target:"_blank",href:"/hot/#/hotcenter/analydata"}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"160",prop:"day_num",sortable:"",label:"当日数据"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.day_num)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"120",prop:"day_rate",sortable:"",label:"天环比"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.yesterday_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.entireRate(t.row.day_rate)}},[e._v(e._s(e._parsePercent(t.row.day_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"120",prop:"week_rate",sortable:"",label:"周环比"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.week_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.entireRate(t.row.week_rate)}},[e._v(e._s(e._parsePercent(t.row.week_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"120",prop:"month_rate",sortable:"",label:"月环比"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.month_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.entireRate(t.row.month_rate)}},[e._v(e._s(e._parsePercent(t.row.month_rate)))])]}}])})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var X=a("VU/8")(Y,Z,!1,function(e){a("SHEj")},"data-v-13b2392e",null).exports,ee={name:"monitorItem",props:["data","name","type","item"],methods:{_formatNum:function(e){return E(e)},_parsePercent:function(e){return e?j(e):"0%"},checkRate:function(e,t){return e<-.15?"danger":e>.15?"success":"info"}},watch:{data:function(){}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("el-row",{staticClass:"table-wrap",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("div",{staticClass:"table-title left"},[e._v("【"+e._s(e.type.label)+"】"+e._s(e.name))]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,"max-height":"400",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"name",label:e.name},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{target:"_blank",href:"/hot/#/hotcenter/analydata?items="+e.item+"&type="+e.type.value}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"110",prop:"day_num",sortable:"",label:"当日数据"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.day_num)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"280",prop:"day_rate",sortable:"",label:"天环比 (当日数据-前天数据)/前天数据"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.yesterday_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.checkRate(t.row.day_rate)}},[e._v(e._s(e._parsePercent(t.row.day_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"280",prop:"week_rate",sortable:"",label:"周环比 (本周均值-上周均值)/上周均值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.week_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.checkRate(t.row.week_rate)}},[e._v(e._s(e._parsePercent(t.row.week_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"280",prop:"month_rate",sortable:"",label:"月环比 (本月均值-上月均值)/上月均值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.month_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.checkRate(t.row.month_rate)}},[e._v(e._s(e._parsePercent(t.row.month_rate)))])]}}])})],1)],1)],1):e._e()},staticRenderFns:[]};var ae={name:"datamonitor",components:{Auth:x,ItemChart:B,MonitorItem:a("VU/8")(ee,te,!1,function(e){a("WxJg")},"data-v-1fc279d1",null).exports},data:function(){return{formInline:{type:"",items:"recommend_source",date:[],dt_start:"",dt_end:"",dt_monitor:"",charts:[]},typeMap:{thd_click:"千次点击",thd_act:"千次互动",average_fresh_times:"人均刷新",pv:"PV",uv:"UV",exposure:"曝光量",two_save_rate:"次日留存(热门)",two_feed_save_rate:"次日留存(首页)",retweet:"转发量",comment:"评论量",like_volume:"点赞量",interact_volume:"互动量"},itemsMap:{recommend_source:"来源",agent_version:"客户端版本",system:"操作系统",network_type:"网络环境",hotwb_frequency_type:"分登录频次-热门",all_frequency_type:"分登录频次-全站",age:"年龄",gender:"性别",mid_type:"内容形式",user_c_level:"C类型",user_v_level:"V类型",source:"领域",wm:"渠道",ispageup:"刷新方向",luicode:"入口",refresh:"刷新方式"},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]},chartItem:null,chartEntire:null,analyDropList:null,dataMonitor:null,curTime:""}},computed:l()({},Object(s.b)(["email","pageAuth","analyData"])),methods:{init:function(){this.formInline.dt_start=F(Date.now()-2592e6,"{y}{m}{d}"),this.formInline.dt_end=F(Date.now()-864e5,"{y}{m}{d}"),this.formInline.dt_monitor=this.formInline.dt_start,this.curTime=this.formInline.dt_monitor,this.formInline.type=this.$route.meta.type||"thd_click",this.formInline.items=this.$route.query.items||"recommend_source",1===this.pageAuth&&this.getDropList()},onSearch:function(){var e=this.formInline.charts.join(",");this.formInline.dt_start?this.formInline.dt_end?this.formInline.dt_monitor?e?(this.getKpiLine(),this.getMonitorData()):Object(R.Message)({showClose:!0,message:"请选择数据分析列表项！",type:"error",duration:3e3}):Object(R.Message)({showClose:!0,message:"请选择数据查询日期！",type:"error",duration:3e3}):Object(R.Message)({showClose:!0,message:"请选择结束时间！",type:"error",duration:3e3}):Object(R.Message)({showClose:!0,message:"请选择开始时间！",type:"error",duration:3e3})},getKpiLine:function(){var e={url:"http://172.16.105.67:8091/newtest1011/getKpiLine.html",param:{dt_start:this.formInline.dt_start,dt_end:this.formInline.dt_end,type:this.formInline.type,items:this.formInline.items,items_name:this.formInline.charts.join(",")}},t={data:A()(e),cip:230};this.$store.dispatch("GetAnalyData",t)},getMonitorData:function(){var e=this;if(this.formInline.dt_monitor){var t={url:"http://172.16.105.67:8091/newtest1011/getKpiMonitorData.html",param:{dt:this.formInline.dt_monitor,items:this.formInline.items,type:this.formInline.type}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t.code&&200==Number(t.code)&&(e.curTime=e.formInline.dt_monitor,e.dataMonitor=t.data)})}else Object(R.Message)({showClose:!0,message:"请选择数据查询日期！",type:"error",duration:3e3})},getDropList:function(){var e=this,t={url:"http://172.16.105.67:8091/newtest1011/getKpiWeiduName.html",param:{dt_start:this.formInline.dt_start,dt_end:this.formInline.dt_end,items:this.formInline.items}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t.code&&200==Number(t.code)&&(e.analyDropList=t.data,e.formInline.charts=[],e.analyDropList[0]&&e.formInline.charts.push(e.analyDropList[0].value),e.onSearch())})},setAnalyData:function(e,t){for(var a=e.series,i=[],n=0;n<a.length;n++)i.push({name:a[n].name,type:"line",data:a[n].data,smooth:!0});return{title:t,width:"100%",height:"400px",legendName:e.legendName,xAxis:[{type:"category",data:e.xAxis.data,name:e.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:"",axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:i}},_formatNum:function(e){return E(e)},_parsePercent:function(e){return e?j(e):"0%"},checkRate:function(e,t){return e<-.15?"danger":e>.15?"success":"info"}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()},analyData:function(){this.analyData&&(this.chartItem=this.setAnalyData(this.analyData.item,this.itemsMap[this.formInline.items]+"-"+this.analyData.item.yAxis.name),this.chartEntire=this.setAnalyData(this.analyData.entire,"整体-"+this.analyData.entire.yAxis.name))},"$route.fullPath":"init"}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-printer",staticStyle:{"margin-right":"6px"}}),e._v("热门流-数据分析-"+e._s(e.typeMap[e.formInline.type]))])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择开始时间"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.dt_start,callback:function(t){e.$set(e.formInline,"dt_start",t)},expression:"formInline.dt_start"}}),e._v(" "),a("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择结束时间"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.dt_end,callback:function(t){e.$set(e.formInline,"dt_end",t)},expression:"formInline.dt_end"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分析项"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.items,callback:function(t){e.$set(e.formInline,"items",t)},expression:"formInline.items"}},e._l(e.itemsMap,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择，支持搜索"},model:{value:e.formInline.charts,callback:function(t){e.$set(e.formInline,"charts",t)},expression:"formInline.charts"}},e._l(e.analyDropList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",[a("el-row",{staticClass:"chartWrap"},[a("el-col",{staticStyle:{"margin-right":"5px","margin-bottom":"10px"},attrs:{xs:24,sm:11,md:11,lg:11,xl:11}},[a("item-chart",{attrs:{data:e.chartEntire}})],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("item-chart",{attrs:{data:e.chartItem}})],1)],1),e._v(" "),e.dataMonitor?a("el-row",{staticClass:"table-wrap"},[a("el-col",[a("div",{staticClass:"table-title left"},[e._v(e._s(e.itemsMap[e.formInline.items])+"（"+e._s(e.curTime)+"）")]),e._v(" "),a("el-date-picker",{staticClass:"left",staticStyle:{"margin-left":"10px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择时间",size:"mini"},on:{change:function(t){e.getMonitorData()}},model:{value:e.formInline.dt_monitor,callback:function(t){e.$set(e.formInline,"dt_monitor",t)},expression:"formInline.dt_monitor"}}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataMonitor[e.formInline.items],border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"name",label:e.itemsMap[e.formInline.items]},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn"},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"110",prop:"day_num",sortable:"",label:"当日数据"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._formatNum(t.row.day_num)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"280",prop:"day_rate",sortable:"",label:"天环比 (当日数据-前天数据)/前天数据"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.yesterday_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.checkRate(t.row.day_rate)}},[e._v(e._s(e._parsePercent(t.row.day_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"280",prop:"week_rate",sortable:"",label:"周环比 (本周均值-上周均值)/上周均值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.week_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.checkRate(t.row.week_rate)}},[e._v(e._s(e._parsePercent(t.row.week_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"280",prop:"month_rate",sortable:"",label:"月环比 (本月均值-上月均值)/上月均值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"numBox"},[e._v(e._s(e._formatNum(t.row.month_num)))]),e._v(" "),a("el-tag",{attrs:{type:e.checkRate(t.row.month_rate)}},[e._v(e._s(e._parsePercent(t.row.month_rate)))])]}}])})],1)],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ne=a("VU/8")(ae,ie,!1,function(e){a("/qsC")},"data-v-2bcb235b",null).exports,le=a("ifoU"),se=a.n(le),oe={name:"datamonitor",components:{Auth:x,ItemChart:B},data:function(){return{formInline:{type:"",items:"author_c_level",date:[],charts:[]},typeList:[{label:"千次点击",value:"thd_click"},{label:"千次互动",value:"thd_act"},{label:"人均刷新",value:"average_fresh_times"},{label:"PV",value:"pv"},{label:"UV",value:"uv"},{label:"曝光量",value:"exposure"},{label:"次日留存(热门)",value:"two_save_rate"},{label:"次日留存(首页)",value:"two_feed_save_rate"},{label:"转发量",value:"retweet"},{label:"评论量",value:"comment"},{label:"点赞量",value:"like_volume"},{label:"互动量",value:"interact_volume"}],itemsList:[{value:"recommend_source",label:"来源"},{value:"agent_version",label:"客户端版本"},{value:"system",label:"操作系统"},{value:"network_type",label:"网络环境"},{value:"hotwb_frequency_type",label:"分登录频次-热门"},{value:"all_frequency_type",label:"分登录频次-全站"},{value:"age",label:"年龄"},{value:"gender",label:"性别"},{value:"mid_type",label:"内容形式"},{value:"user_c_level",label:"C类型"},{value:"user_v_level",label:"V类型"},{value:"source",label:"领域"},{value:"wm",label:"渠道"},{value:"ispageup",label:"刷新方向"},{value:"luicode",label:"入口"},{value:"refresh",label:"刷新方式"}],pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]},itemMap:null,chartItem:null,chartEntire:null}},computed:l()({},Object(s.b)(["email","pageAuth","analyDropList","analyData"])),methods:{init:function(){var e=F(Date.now()-2592e6,"{y}{m}{d}"),t=F(Date.now()-864e5,"{y}{m}{d}");this.formInline.date=[e,t],this.formInline.type=this.$route.query.type||"thd_click",this.formInline.items=this.$route.query.items||"recommend_source",this.itemMap=new se.a([["recommend_source","来源"],["agent_version","客户端版本"],["system","操作系统"],["network_type","网络环境"],["hotwb_frequency_type","分登录频次-热门"],["all_frequency_type","分登录频次-全站"],["age","年龄"],["gender","性别"],["mid_type","内容形式"],["user_c_level","C类型"],["user_v_level","V类型"],["source","领域"],["wm","渠道"],["ispageup","刷新方向"],["luicode","入口"],["refresh","刷新方式"]]),1===this.pageAuth&&this.getDropList()},onSearch:function(){var e=this.formInline.charts.join(",");if(e){var t={url:"http://172.16.105.67:8091/newtest1011/getKpiLine.html",param:{dt_start:this.formInline.date[0],dt_end:this.formInline.date[1],type:this.formInline.type,items:this.formInline.items,items_name:e}},a={data:A()(t),cip:230};this.$store.dispatch("GetAnalyData",a)}else Object(R.Message)({showClose:!0,message:"请选择数据分析列表项！",type:"error",duration:1e3})},getDropList:function(){var e={url:"http://172.16.105.67:8091/newtest1011/getKpiWeiduName.html",param:{dt_start:this.formInline.date[0],dt_end:this.formInline.date[1],items:this.formInline.items}},t={data:A()(e),cip:230};this.$store.dispatch("GetAnalyDrop",t)},setAnalyData:function(e,t){for(var a=e.series,i=[],n=0;n<a.length;n++)i.push({name:a[n].name,type:"line",data:a[n].data,smooth:!0});return{title:t,width:"100%",height:"400px",legendName:e.legendName,xAxis:[{type:"category",data:e.xAxis.data,name:e.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:"",axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:i}}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()},analyDropList:function(){this.formInline.charts=[],this.analyDropList[0]&&this.formInline.charts.push(this.analyDropList[0].value),this.onSearch()},analyData:function(){this.analyData&&(this.chartItem=this.setAnalyData(this.analyData.item,this.itemMap.get(this.formInline.items)+"-"+this.analyData.item.yAxis.name),this.chartEntire=this.setAnalyData(this.analyData.entire,"整体-"+this.analyData.entire.yAxis.name))}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-printer",staticStyle:{"margin-right":"6px"}}),e._v("热门流数据分析")])]),e._v(" "),a("el-row",[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{staticStyle:{width:"290px"},attrs:{align:"center","unlink-panels":"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd","picker-options":e.pickerOptions},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"维度选择"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择查询维度"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.typeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分析项"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.items,callback:function(t){e.$set(e.formInline,"items",t)},expression:"formInline.items"}},e._l(e.itemsList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择，支持搜索"},model:{value:e.formInline.charts,callback:function(t){e.$set(e.formInline,"charts",t)},expression:"formInline.charts"}},e._l(e.analyDropList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"chartWrap"},[a("el-col",{staticStyle:{"margin-right":"5px","margin-bottom":"10px"},attrs:{xs:24,sm:11,md:11,lg:11,xl:11}},[a("item-chart",{attrs:{data:e.chartEntire}})],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("item-chart",{attrs:{data:e.chartItem}})],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ce=a("VU/8")(oe,re,!1,function(e){a("9ojY")},"data-v-df28ac68",null).exports,de={name:"datamonitor",components:{Auth:x},data:function(){return{datalist:null,pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},formInline:{status:"pv",dt:""}}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.formInline.dt=F(Date.now()-1728e5,"{y}{m}{d}"),this.curEntireTime=this.formInline.dt,this.onSearch())},onSearch:function(){var e=this,t=this,a={url:"http://172.16.105.67:8091/newtest1011/getPvuvFromVal.html",param:this.formInline},i={data:A()(a),cip:230};this.$store.dispatch("ProxyGet",i).then(function(a){a.code&&200==Number(a.code)&&(Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.datalist=a.data||"",e.curEntireTime=e.formInline.dt)})},_formatNum:function(e){return E(e)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-date hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("流量分析（"+e._s(e.curEntireTime)+"）")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap",attrs:{type:"flex"}},[a("el-form",{attrs:{size:"small",inline:""}},[a("el-form-item",{attrs:{label:"指标"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"",value:"pv"}}),e._v(" "),a("el-option",{attrs:{label:"",value:"uv"}})],1)],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{align:"right",type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyyMMdd",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.formInline.dt,callback:function(t){e.$set(e.formInline,"dt",t)},expression:"formInline.dt"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.onSearch()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.datalist?a("el-row",{staticClass:"content-box-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.datalist,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",width:"140",prop:"name",label:"from值",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{target:"_blank",href:"/hot/#/hotcenter/analysis/data/flow/detail?status="+e.formInline.status}},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"hotwb",sortable:"",label:"热门流"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.hotwb&&e._formatNum(t.row.hotwb)||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"top_rank",sortable:"",label:"榜单流"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.top_rank&&e._formatNum(t.row.top_rank)||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"channel",sortable:"",label:"频道流"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.channel&&e._formatNum(t.row.channel)||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"visit",sortable:"",label:"访客流"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.visit&&e._formatNum(t.row.visit)||"暂无"))])]}}])})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ue=a("VU/8")(de,me,!1,function(e){a("HoKC")},"data-v-0d42b1a4",null).exports,pe={name:"datamonitor",components:{Auth:x,ItemChart:B},data:function(){return{formInline:{dt_start:"",dt_end:"",status:"pv",stream_name:"hotwb",item_names:""},item_names:[],itemsList:null,streamList:{hotwb:"热门流",top_rank:"榜单流",channel:"频道流",visit:"访客流"},charts:[],chartItem:null}},computed:l()({},Object(s.b)(["email","pageAuth"])),methods:{init:function(){var e=F(Date.now()-2592e6,"{y}{m}{d}"),t=F(Date.now()-864e5,"{y}{m}{d}");this.formInline.dt_start=e,this.formInline.dt_end=t,this.formInline.status=this.$route.query.status||"pv",1===this.pageAuth&&this.getDropList()},onSearch:function(){var e=this;if(this.formInline.item_names=this.item_names.join(","),this.formInline.dt_start)if(this.formInline.dt_end)if(this.formInline.item_names){var t={url:"http://172.16.105.67:8091/newtest1011/getPvuvLineFromVal.html",param:this.formInline},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t.code&&200==Number(t.code)&&(e.chartItem=e.setAnalyData(t.data,"流量分析-"+e.streamList[e.formInline.stream_name]))})}else Object(R.Message)({showClose:!0,message:"请选择from值！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择结束日期！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择开始日期！",type:"error",duration:1e3})},getDropList:function(){var e=this,t={url:"http://172.16.105.67:8091/newtest1011/getFromValWeiduName.html",param:{dt_start:this.formInline.dt_start,dt_end:this.formInline.dt_end,stream_name:this.formInline.stream_name}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){if(t.code&&200==Number(t.code)){e.itemsList=t.data||"";var a=t.data&&t.data[0].value||"";e.item_names=a&&[a]||[],e.onSearch()}})},setAnalyData:function(e,t){for(var a=e.series,i=[],n=0;n<a.length;n++)i.push({name:a[n].name,type:"line",data:a[n].data,smooth:!0});return{title:t,width:"100%",height:"400px",legendName:e.legendName,xAxis:[{type:"category",data:e.xAxis.data,name:e.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:e.yAxis.name,axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:i}}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()}}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-printer",staticStyle:{"margin-right":"6px"}}),e._v("流量分析详情")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"请选择开始日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.dt_start,callback:function(t){e.$set(e.formInline,"dt_start",t)},expression:"formInline.dt_start"}}),e._v(" "),a("el-date-picker",{staticStyle:{width:"170px"},attrs:{type:"date",placeholder:"请选择结束日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.dt_end,callback:function(t){e.$set(e.formInline,"dt_end",t)},expression:"formInline.dt_end"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标"}},[a("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"PV",value:"pv"}}),e._v(" "),a("el-option",{attrs:{label:"UV",value:"uv"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"业务"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.stream_name,callback:function(t){e.$set(e.formInline,"stream_name",t)},expression:"formInline.stream_name"}},e._l(e.streamList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"from值"}},[a("el-select",{attrs:{placeholder:"请选择",multiple:""},model:{value:e.item_names,callback:function(t){e.item_names=t},expression:"item_names"}},e._l(e.itemsList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("item-chart",{attrs:{data:e.chartItem}})],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var fe=a("VU/8")(pe,he,!1,function(e){a("O98q")},"data-v-0b38df55",null).exports,_e={name:"operatematerial",components:{Auth:x},data:function(){return{type:"hot",curType:"hot",downloadLoading:!1}},computed:l()({},Object(s.b)(["materialStatus","pageAuth"])),methods:{init:function(){1===this.pageAuth&&this.onSearch()},onSearch:function(){var e=this,t=null;"hot"==this.type&&(t={url:"http://172.16.139.44:10999/get_materials_status"});var a={data:A()(t),cip:230};this.$store.dispatch("GetStatus",a).then(function(){e.curType=e.type})},setNum:function(e,t,a){return E(a)},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(0).then(a.bind(null,"zWO4")).then(function(t){var a=e.materialStatus.material,i=e.formatJson(["index","name","mysql_num","online_num","expo_num"],a);t.export_json_to_excel(["序号","所属领域","原始数据（条）","入库数据（条）","领域曝光（条）"],i,"material"),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t,a){return e.map(function(e){return"index"===e?a+1:"mysql_num"===e||"online_num"===e||"expo_num"===e?E(t[e]):t[e]})})}},created:function(){this.init()},watch:{materialStatus:function(){},pageAuth:function(){this.init()}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap clearfix"},[a("h6",{staticClass:"pane-title left"},[a("i",{staticClass:"el-icon-goods hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("物料库规模")])]),e._v(" "),e.materialStatus&&e.materialStatus.material?a("el-row",{staticClass:"content-box-wrap"},[a("div",{staticClass:"operate-box clearfix"},[a("span",{staticClass:"table-title"},[e._v("规模列表")]),e._v(" "),e.materialStatus&&e.materialStatus.material?a("el-button",{staticClass:"right",attrs:{type:"primary",plain:"",size:"mini",loading:e.downloadLoading},on:{click:e.handleDownload}},[a("i",{staticClass:"el-icon-download"}),e._v(" 导出")]):e._e(),e._v(" "),a("el-button",{staticClass:"right",staticStyle:{"margin-right":"10px"},attrs:{type:"success",plain:"",size:"mini"},on:{click:e.onSearch}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" 刷新")])],1),e._v(" "),a("el-table",{staticClass:"pane-table",staticStyle:{width:"100%"},attrs:{data:e.materialStatus&&e.materialStatus.material,border:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",align:"left",prop:"name",label:"所属领域"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",sortable:"",prop:"mysql_num",label:"原始数据（条）",formatter:e.setNum}}),e._v(" "),a("el-table-column",{attrs:{align:"left",sortable:"",prop:"online_num",label:"入库数据（条）",formatter:e.setNum}}),e._v(" "),"hot"==e.curType?a("el-table-column",{attrs:{align:"left",sortable:"",prop:"expo_num",label:"领域曝光（条）",formatter:e.setNum}}):e._e()],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ve=a("VU/8")(_e,ge,!1,function(e){a("zxfG")},"data-v-6aa93acc",null).exports,be={name:"tagPage",components:{Auth:x},data:function(){return{tabName:"offline",searchTimer:null,dataList:null,formData:{date:"",loading:!1},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},computed:l()({},Object(s.b)(["materialMonitor","pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.formData.date=F(Date.now()-1728e5,"{y}{m}{d}"),this.onSearch())},onSearch:function(){this.formData.loading=!0,this.searchTimer||this.setTimer();var e={url:"http://172.16.105.67:8091/newtest1011/getMaterialMonitorData.html",param:{dt:this.formData.date}},t={data:A()(e),cip:230};this.$store.dispatch("GetMonitor",t)},setTimer:function(){var e=this;this.searchTimer=setTimeout(function(){e.formData.loading&&(e.formData.loading=!1),e.searchTimer=null},5e3)},setNum:function(e,t,a){return E(a)||0},_parsePercent:function(e){return j(e)},setData:function(){this.dataList=this.materialMonitor[this.tabName]}},created:function(){this.init()},watch:{materialMonitor:function(){this.formData.loading=!1,this.materialMonitor&&this.setData()},tabName:function(){this.setData()},pageAuth:function(){this.init()}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-goods hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("内容标签统计")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",size:"small"}},[a("el-form-item",[a("el-radio-group",{attrs:{size:"small"},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("el-radio",{attrs:{border:"",label:"offline"}},[e._v("原始数据")]),e._v(" "),a("el-radio",{attrs:{border:"",label:"online"}},[e._v("入库数据")])],1)],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{align:"right",type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyyMMdd",placeholder:"选择日期","picker-options":e.pickerOptions,size:"small"},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.formData.loading,size:"small"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.dataList?a("el-row",{staticClass:"content-box-wrap"},[a("el-col",[a("el-table",{staticClass:"pane-table",staticStyle:{width:"100%"},attrs:{data:e.dataList,"default-sort":{prop:"total_num",order:"descending"},border:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",align:"left","min-width":"80",prop:"name",label:"所属领域"}}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"90",sortable:"",prop:"total_num",label:"总曝光数（条）",formatter:e.setNum}}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"150",sortable:"",prop:"second_tag_rate_material",label:"内容标签2级覆盖率（按物料统计）"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.second_tag_rate_material?a("el-tag",[e._v(e._s(e._parsePercent(t.row.second_tag_rate_material)))]):a("el-tag",{attrs:{type:"danger"}},[e._v("0%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"150",sortable:"",prop:"third_tag_rate_material",label:"内容标签3级覆盖率（按物料统计）"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.third_tag_rate_material?a("el-tag",[e._v(e._s(e._parsePercent(t.row.third_tag_rate_material)))]):a("el-tag",{attrs:{type:"danger"}},[e._v("0%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"150",sortable:"",prop:"second_tag_rate_expose",label:"内容标签2级覆盖率（按曝光统计）"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.second_tag_rate_expose?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e._parsePercent(t.row.second_tag_rate_expose)))]):a("el-tag",{attrs:{type:"danger"}},[e._v("0%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"150",sortable:"",prop:"third_tag_rate_expose",label:"内容标签3级覆盖率（按曝光统计）"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.third_tag_rate_expose?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e._parsePercent(t.row.third_tag_rate_expose)))]):a("el-tag",{attrs:{type:"danger"}},[e._v("0%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"150",sortable:"",prop:"second_user_rate_expose",label:"用户2级兴趣匹配度（按曝光统计）"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.second_user_rate_expose?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e._parsePercent(t.row.second_user_rate_expose)))]):a("el-tag",{attrs:{type:"danger"}},[e._v("0%")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"150",sortable:"",prop:"third_user_rate_expose",label:"用户3级兴趣匹配度（按曝光统计）"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.third_user_rate_expose?a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e._parsePercent(t.row.third_user_rate_expose)))]):a("el-tag",{attrs:{type:"danger"}},[e._v("0%")])]}}])})],1)],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var we=a("VU/8")(be,ye,!1,function(e){a("gHGX")},"data-v-08bdb25d",null).exports,xe={name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:100},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}},ke={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pan-item",style:{zIndex:this.zIndex,height:this.height,width:this.width}},[t("div",{staticClass:"pan-info"},[t("div",{staticClass:"pan-info-roles-container"},[this._t("default")],2)]),this._v(" "),t("img",{staticClass:"pan-thumb",attrs:{src:this.image}})])},staticRenderFns:[]};var Ce=a("VU/8")(xe,ke,!1,function(e){a("Cj7x")},"data-v-530f5f14",null).exports,Te={name:"querymaterial",components:{Auth:x,PanThumb:Ce},data:function(){return{formInline:{mid:"4284911404421928",loading:!1},searchTimer:null,list:null,tips:null,materialData:null}},computed:l()({},Object(s.b)(["materialInfo","authorInfo","authorType","pageAuth"])),methods:{init:function(){1===this.pageAuth&&this.onSearch()},onSearch:function(){this.formInline.loading=!0,this.searchTimer||this.setTimer();var e={url:"http://10.75.28.123:8077/get_mid_info",param:{mid:this.formInline.mid}},t={data:A()(e),cip:230};this.$store.dispatch("GetMaterial",t),this.getAuthor()},getAuthor:function(){var e={url:"http://mlplat.intra.weibo.com/lab/showbatch",param:{ids:this.formInline.mid}},t={data:A()(e),cip:230},a={url:"http://172.16.105.67:8091/newtest1011/getMidPersona.html",param:{mid:this.formInline.mid}},i={data:A()(a),cip:230};this.$store.dispatch("ShowBatch",t),this.$store.dispatch("AuthorType",i)},setTimer:function(){var e=this;this.searchTimer=setTimeout(function(){e.formInline.loading&&(e.formInline.loading=!1),e.searchTimer=null},5e3)},focusEvent:function(){this.formInline.loading&&(this.formInline.loading=!1)},setSex:function(e){var t="其他";switch(e){case"male":t="男性";break;case"female":t="女性";break;case"other":t="其他";break;case"all":t="全部";break;default:t="其他"}return t},setAge:function(e){return"other"==e?"其他":"all"==e?"全部":e+"后"},setNum:function(e,t,a){return E(a)},setTagName:function(e,t,a){return a.trim()||"未知"},getSummaries:function(e){e.columns,e.data;var t=[];if(this.materialData){var a=this.materialData.expose_num?j(this.materialData.act_num/this.materialData.expose_num):"0%",i=this.materialData.expose_num?j(this.materialData.inter_act_num/this.materialData.expose_num):"0%";t=["合计","所有年龄","所有性别",E(this.materialData.expose_num),E(this.materialData.act_num),a,E(this.materialData.inter_act_num),i]}return t},_formatNum:function(e){return E(e)},_parsePercent:function(e){return j(e)},analyData:function(){var e=this.materialData.age_gender_expose_rate;this.list=[];for(var t={age70:{age:"70",sex:"all",expose_num:0,click_num:0,act_num:0},age80:{age:"80",sex:"all",expose_num:0,click_num:0,act_num:0},age90:{age:"90",sex:"all",expose_num:0,click_num:0,act_num:0},age00:{age:"00",sex:"all",expose_num:0,click_num:0,act_num:0},ageother:{age:"other",sex:"all",expose_num:0,click_num:0,act_num:0}},a={sexmale:{age:"all",sex:"male",expose_num:0,click_num:0,act_num:0},sexfemale:{age:"all",sex:"female",expose_num:0,click_num:0,act_num:0},sexother:{age:"all",sex:"other",expose_num:0,click_num:0,act_num:0}},i=0;i<e.length;i++){var n=e[i];"other"!=n.age&&"other"==n.sex||this.addList(n),t["age"+n.age].expose_num+=n.expose_num,t["age"+n.age].click_num+=n.click_num,t["age"+n.age].act_num+=n.act_num,a["sex"+n.sex].expose_num+=n.expose_num,a["sex"+n.sex].click_num+=n.click_num,a["sex"+n.sex].act_num+=n.act_num}this.addList(t.age70),this.addList(t.age80),this.addList(t.age90),this.addList(t.age00),this.addList(t.ageother),this.addList(a.sexmale),this.addList(a.sexfemale),this.addList(a.sexother)},addList:function(e){var t=0,a=0;e.expose_num&&(t=e.click_num/e.expose_num,a=e.act_num/e.expose_num),e.click_rate=t,e.act_rate=a,this.list.push(e)},filterHandler:function(e,t,a){return t[a.property]===e}},created:function(){this.init()},watch:{materialInfo:function(){this.materialInfo&&(this.formInline.loading=!1,this.tips=this.materialInfo.msg,this.materialInfo.data&&this.materialInfo.data.age_gender_expose_rate&&(this.materialData=this.materialInfo.data,this.analyData()))},pageAuth:function(){this.init()},authorInfo:function(){},authorType:function(){}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",{staticStyle:{padding:"20px 14px"}},[a("el-row",{attrs:{type:"flex",align:"middle",justify:"left"}},[a("el-col",{staticClass:"main-title",attrs:{sm:8,md:6,lg:4,xl:2}},[a("i",{staticClass:"el-icon-goods hidden-xs-only"}),e._v("热门微博物料查询\n    ")]),e._v(" "),a("el-col",{attrs:{sm:16,md:12,lg:8,xl:4}},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入mid查询物料",clearable:""},on:{focus:function(t){e.focusEvent()}},model:{value:e.formInline.mid,callback:function(t){e.$set(e.formInline,"mid",t)},expression:"formInline.mid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.formInline.loading},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1)],1),e._v(" "),e.tips?a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{staticClass:"error-msg"},[a("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1):e._e(),e._v(" "),e.authorInfo&&e.authorInfo.user?a("el-row",{staticClass:"thumb-box",attrs:{type:"flex",align:"middle",justify:"center"}},[a("el-col",{attrs:{title:"进入<"+e.authorInfo.user.name+">的主页"}},[a("el-row",{staticClass:"thumb-wrap",attrs:{type:"flex",align:"middle"}},[a("a",{staticStyle:{display:"inline-block","font-size":"12px",color:"#606266"},attrs:{href:"//weibo.com/"+e.authorInfo.user.profile_url,target:"_blank"}},[a("pan-thumb",{staticClass:"thumb-content",attrs:{image:e.authorInfo.user.avatar_hd,width:"60px",height:"60px"}},[e._v(e._s(e.authorInfo.user.name))])],1),e._v(" "),a("a",{staticClass:"author-name",attrs:{title:e.authorInfo.user.name,href:"//weibo.com/"+e.authorInfo.user.profile_url,target:"_blank"}},[e._v(e._s(e.authorInfo.user.name))])])],1)],1):e._e(),e._v(" "),e.authorInfo&&e.authorInfo.user?a("el-row",{staticClass:"thumb-box",staticStyle:{"margin-left":"2%"}},[a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("span",{staticClass:"info-label",staticStyle:{color:"#e65d6e"}},[e._v("【关注数】")]),e._v(" "),a("span",{staticClass:"info-value"},[e._v(e._s(e._formatNum(e.authorInfo.user.friends_count)))])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("span",{staticClass:"info-label",staticStyle:{color:"#30b08f"}},[e._v("【粉丝数】")]),e._v(" "),a("span",{staticClass:"info-value"},[e._v(e._s(e._formatNum(e.authorInfo.user.followers_count)))])]),e._v(" "),a("el-col",{attrs:{xs:24,sm:5,md:5,lg:5,xl:5}},[a("span",{staticClass:"info-label",staticStyle:{color:"#4ab7bd"}},[e._v("【发博量】")]),e._v(" "),a("span",{staticClass:"info-value"},[e._v(e._s(e._formatNum(e.authorInfo.user.statuses_count)))])]),e._v(" "),e.authorType?a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("span",{staticClass:"info-label",staticStyle:{color:"#fec171"}},[e._v("【V类型】")]),e._v(" "),a("span",{staticClass:"info-value"},[e._v(e._s(e.authorType.vtype))])]):e._e(),e._v(" "),e.authorType?a("el-col",{attrs:{xs:24,sm:4,md:4,lg:4,xl:4}},[a("span",{staticClass:"info-label",staticStyle:{color:"#3a71a8"}},[e._v("【Clevel】")]),e._v(" "),a("span",{staticClass:"info-value"},[e._v(e._s(e.authorType.clevel))])]):e._e()],1):e._e(),e._v(" "),e.authorInfo?a("el-row",{staticClass:"content-box",attrs:{type:"flex",justify:"center"}},[a("el-col",[a("el-row",[a("a",{staticClass:"info-link",attrs:{target:"_blank",href:e.authorInfo.link}},[e._v("查看微博")])]),e._v(" "),a("el-popover",{ref:"content",attrs:{placement:"top",trigger:"hover",content:e.authorInfo.text,"popper-class":"content-pop","visible-arrow":!1}}),e._v(" "),a("el-row",{directives:[{name:"popover",rawName:"v-popover:content",arg:"content"}],staticClass:"content-text"},[e._v(e._s(e.authorInfo.text))])],1)],1):e._e(),e._v(" "),e.list?a("el-row",{staticClass:"table-wrap"},[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{xs:24,sm:15,md:15,lg:15,xl:15}},[a("div",{staticClass:"table-title left"},[e._v("物料详情")]),e._v(" "),a("el-table",{staticStyle:{width:"100%",border:"1px solid #f0f2f5"},attrs:{data:e.list,stripe:"","summary-method":e.getSummaries,"show-summary":"","sum-text":"总计"}},[a("el-table-column",{attrs:{width:"50",type:"index",align:"center",fixed:"",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",prop:"age",label:"年龄",filters:[{text:"70后",value:"70"},{text:"80后",value:"80"},{text:"90后",value:"90"},{text:"00后",value:"00"},{text:"其他",value:"other"},{text:"全部",value:"all"}],"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"all"===t.row.age?"danger":"success"}},[e._v(e._s(e.setAge(t.row.age)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",prop:"sex",label:"性别",filters:[{text:"男性",value:"male"},{text:"女性",value:"female"},{text:"其他",value:"other"},{text:"全部",value:"all"}],"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"all"===t.row.sex?"danger":"warning"}},[e._v(e._s(e.setSex(t.row.sex)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center","min-width":"90",prop:"expose_num",label:"曝光量",formatter:e.setNum}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center","min-width":"90",prop:"click_num",label:"点击量",formatter:e.setNum}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center","min-width":"90",prop:"click_rate",label:"点击率"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===Number(t.row.click_num)?"danger":"primary"}},[e._v(e._s(e._parsePercent(t.row.click_rate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center","min-width":"90",prop:"act_num",label:"互动量",formatter:e.setNum}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"center","min-width":"90",prop:"act_rate",label:"互动率"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:0===Number(t.row.act_num)?"danger":"primary"}},[e._v(e._s(e._parsePercent(t.row.act_rate)))])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("div",{staticClass:"table-title left"},[e._v("标签权重")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.materialData.content_tag,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"left",prop:"tagid",label:"标签ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"name",label:"标签名",formatter:e.setTagName,"show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",align:"left",prop:"rel_weight",label:"权重"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"primary"}},[e._v(e._s(e._parsePercent(t.row.rel_weight)))])]}}])})],1)],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Le=a("VU/8")(Te,Se,!1,function(e){a("+vU9"),a("nP6c")},"data-v-348e001a",null).exports,Ae={name:"itemList",props:["item","index"],data:function(){return{loading:!1,videoSrc:"",controls:!1}},computed:l()({},Object(s.b)(["curvideo","email"])),methods:{init:function(){},togglePlay:function(){this.$store.dispatch("updateVideo",this.item.mid),this.videoSrc||(this.setVideoSrc(),this.controls=!0)},setVideoSrc:function(){var e=this,t={url:"/lab/showbatch",params:{ids:this.item.retweeted_status.mid,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){try{e.videoSrc=t[0].url_objects[0].object.object.stream.url}catch(t){e.videoSrc=e.item.retweeted_status.video_urls[0]}e.controls=!0})},_formatNum:function(e){return E(e)},_parsePercent:function(e,t){return j(e,t)},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{item:function(){this.init()},index:function(){},curvideo:function(){this.curvideo!=this.item.mid&&(this.videoSrc="",this.controls=!1)},email:function(){}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{staticClass:"item-wrapper",attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("el-row",[a("div",{staticClass:"item-status-box clearfix"},[a("span",[e._v("NO."+e._s(e.index))])])]),e._v(" "),a("el-row",{staticClass:"clearfix"},[a("div",{staticClass:"left"},[a("a",{staticClass:"item-avatar",attrs:{target:"_blank",href:"//weibo.com/u/"+e.item.uid,title:"跳转微博主页"}},[a("img",{attrs:{src:e.item.profile_image_url}})])]),e._v(" "),a("div",{staticClass:"left",staticStyle:{padding:"10px"}},[a("el-row",[a("a",{staticClass:"item-name",attrs:{href:"//weibo.com/u/"+e.item.uid,target:"_blank",title:"跳转微博主页"}},[e._v(e._s(e.item.screen_name))])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[e.item.created_at?a("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank"}},[e._v(e._s(e._parseTime(e.item.created_at,"{y}年{m}月{d}日 {h}:{i}:{s}")))])]):e._e(),e._v(" "),e.item.source?a("span",{staticClass:"info-box"},[e._v("来自\n            "),a("label",{staticClass:"item-info",domProps:{innerHTML:e._s(e.item.source)}})]):e._e()])],1)]),e._v(" "),a("el-row",{staticClass:"content-text"},[a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank",title:"查看微博详情"}},[e._v(e._s(e.item.text))])]),e._v(" "),e.item.pic_ids&&e.item.pic_ids.length>0?a("el-row",{staticClass:"img-wrapper"},[a("el-col",{attrs:{xs:24,span:12}},[a("el-row",e._l(e.item.pic_ids,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"2px"},attrs:{span:7}},[a("div",{staticClass:"img-box"},[a("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+t+".jpg);"},[e._v(e._s(t?"":"图片加载失败"))])])])}))],1)],1):e._e(),e._v(" "),e.item.retweeted_status?a("el-row",{staticClass:"retweeted-box"},[a("el-col",[a("div",[a("a",{staticClass:"item-name",attrs:{href:"//weibo.com/u/"+e.item.retweeted_status.user.id,target:"_blank"}},[e._v("@"+e._s(e.item.retweeted_status.user.screen_name))])]),e._v(" "),a("el-row",{staticClass:"content-text"},[a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank",title:"查看微博详情"}},[e._v(e._s(e.item.retweeted_status.text))])]),e._v(" "),e.item.retweeted_status.pic_ids&&e.item.retweeted_status.pic_ids.length>0?a("el-row",{staticClass:"img-wrapper"},[a("el-col",{attrs:{xs:24,span:12}},[a("el-row",e._l(e.item.retweeted_status.pic_ids,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"2px","max-width":"110px"},attrs:{span:7}},[a("div",{staticClass:"img-box"},[a("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+t+".jpg);"},[e._v(e._s(t?"":"图片加载失败"))])])])}))],1)],1):e._e(),e._v(" "),e.item.retweeted_status.video_pic_urls&&e.item.retweeted_status.video_pic_urls.length>0?a("el-row",{staticClass:"video-wrapper"},[e.videoSrc?e._e():a("span",{staticClass:"play-btn",on:{click:function(t){e.togglePlay()}}},[a("i",{staticClass:"el-icon-caret-right play-btn-icon"})]),e._v(" "),a("video",{attrs:{id:"video"+e.item.mid,poster:e.item.retweeted_status.video_pic_urls[0],controls:e.controls,src:e.videoSrc,autoplay:""}},[e._v("您的浏览器不支持HTML5")])]):e._e(),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank"}},[e._v(e._s(e._parseTime(e.item.retweeted_status.created_at,"{y}年{m}月{d}日 {h}:{i}:{s}")))])]),e._v(" "),e.item.retweeted_status.source?a("span",{staticClass:"info-box"},[e._v("来自\n            "),a("label",{staticClass:"item-info",domProps:{innerHTML:e._s(e.item.retweeted_status.source)}})]):e._e()]),e._v(" "),a("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-news hidden-xs-only"}),e._v(" "),a("label",[e._v("转发 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.retweeted_status.reposts_count)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-message hidden-xs-only"}),e._v(" "),a("label",[e._v("评论 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.retweeted_status.comments_count)))])]),e._v(" "),a("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[a("i",{staticClass:"el-icon-star-off hidden-xs-only"}),e._v(" "),a("label",[e._v("点赞 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.retweeted_status.attitudes_count)))])])],1)],1)],1):e._e(),e._v(" "),a("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-phone-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("热度 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.hot_num)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-view hidden-xs-only"}),e._v(" "),a("label",[e._v("曝光 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.expo)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-edit hidden-xs-only"}),e._v(" "),a("label",[e._v("点击 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.click_num)))])]),e._v(" "),a("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("点击率 ")]),e._v(" "),a("span",[e._v(e._s(e._parsePercent(e.item.click_rate)))])])],1)],1)],1)},staticRenderFns:[]};var De={name:"tagPage",components:{Auth:x,ItemList:a("VU/8")(Ae,Ie,!1,function(e){a("fYJV")},"data-v-2640834e",null).exports},data:function(){return{dataList:null,way:"mid",content:"",formInline:{mid:"",uid:"",user_type:"",sort_type:"",page:1,count:5},total:0,tips:"loading…"}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){1===this.pageAuth&&this.onSearch()},onSearch:function(){var e=this;this.formInline[this.way]=this.content;var t={url:"http://10.85.115.126:6088/query_repeat_mid",param:this.formInline},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t.code&&200===Number(t.code)?(e.formInline.total=t.total_length||0,e.dataList=t.data||null,e.tips="暂无数据",Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3})):(Object(R.Message)({showClose:!0,message:t&&t.msg||"转发物料获取失败",type:"error",duration:3e3}),e.tips="暂无数据")})},handleSizeChange:function(e){this.formInline.count=e,this.$store.dispatch("updateVideo",""),this.onSearch()},handleCurrentChange:function(e){this.formInline.page=e,this.$store.dispatch("updateVideo",""),this.onSearch()}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-news hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("转发物料")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",size:"small"}},[a("el-form-item",{attrs:{label:"F层级"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择F层级",size:"small"},model:{value:e.formInline.user_type,callback:function(t){e.$set(e.formInline,"user_type",t)},expression:"formInline.user_type"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"F0转发",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"F1转发",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"排序方式"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{placeholder:"请选择排序方式",size:"small",clearable:""},model:{value:e.formInline.sort_type,callback:function(t){e.$set(e.formInline,"sort_type",t)},expression:"formInline.sort_type"}},[a("el-option",{attrs:{label:"曝光值",value:"expo"}}),e._v(" "),a("el-option",{attrs:{label:"点击值",value:"click_num"}}),e._v(" "),a("el-option",{attrs:{label:"点击率",value:"click_rate"}}),e._v(" "),a("el-option",{attrs:{label:"热度值",value:"hot_num"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"搜索方式"}},[a("el-select",{staticStyle:{width:"70px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.way,callback:function(t){e.way=t},expression:"way"}},[a("el-option",{attrs:{label:"mid",value:"mid"}}),e._v(" "),a("el-option",{attrs:{label:"uid",value:"uid"}})],1)],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"100%","max-width":"320px"},attrs:{placeholder:"请输入"+e.way,clearable:"",size:"small"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[e.dataList&&e.dataList.length>0?a("div",e._l(e.dataList,function(t,i){return a("item-list",{key:(e.formInline.page-1)*e.formInline.count+i+1,attrs:{item:t,index:(e.formInline.page-1)*e.formInline.count+i+1}})})):a("div",{staticClass:"none-tips"},[e._v(e._s(e.tips))]),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[5,10,20,30,40],"page-size":e.formInline.count,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Me=a("VU/8")(De,$e,!1,function(e){a("3IMk")},"data-v-646ab128",null).exports,Fe={name:"querymaterial",components:{Auth:x,PanThumb:Ce},data:function(){return{formInline:{input:"1111681197",flag:1},featureData:null}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&this.onSearch()},onSearch:function(){var e=this,t={url:"/feature/getFeature",params:{input:this.formInline.input,flag:this.formInline.flag,username:this.email,cip:230}};this.$store.dispatch("GetFeature",t).then(function(t){if(t.code&&200==Number(t.code))e.featureData=t.result,Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3});else{var a=t.msg||"查询失败";Object(R.Message)({showClose:!0,message:a,type:"error",duration:3e3})}})},_formatNum:function(e){return isNaN(e)?e||"暂无":E(e)},_parsePercent:function(e){return j(e)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},email:function(){}}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"search-form-wrap"},[a("el-col",[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-select",{staticStyle:{"max-width":"72px"},attrs:{placeholder:"请选择"},on:{change:function(t){e.formInline.input=""}},model:{value:e.formInline.flag,callback:function(t){e.$set(e.formInline,"flag",t)},expression:"formInline.flag"}},[a("el-option",{attrs:{label:"uid",value:1}}),e._v(" "),a("el-option",{attrs:{label:"昵称",value:2}})],1)],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{"max-width":"170px"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.formInline.input,callback:function(t){e.$set(e.formInline,"input",t)},expression:"formInline.input"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1)],1),e._v(" "),e.featureData?a("el-row",{staticClass:"thumb-box content-box-wrap"},[a("el-col",[a("el-row",[e.featureData.main?a("el-col",[a("el-row",{staticClass:"thumb-wrap",attrs:{type:"flex",align:"middle"}},[a("a",{staticStyle:{display:"inline-block","font-size":"12px",color:"#606266"},attrs:{title:"进入<"+e.featureData.main.name+">的主页",href:"//weibo.com/u/"+e.featureData.main.uid,target:"_blank"}},[a("pan-thumb",{staticClass:"thumb-content",attrs:{image:e.featureData.main.head,width:"60px",height:"60px"}},[e._v(e._s(e.featureData.main.name))])],1),e._v(" "),a("a",{staticClass:"author-name",attrs:{title:e.featureData.main.name,href:"//weibo.com/u/"+e.featureData.main.uid,target:"_blank"}},[e._v(e._s(e.featureData.main.name))])])],1):e._e(),e._v(" "),e.featureData.main_tag?a("el-col",e._l(e.featureData.main_tag,function(t,i){return a("el-tag",{key:i,attrs:{type:"primary"}},[e._v(e._s(t))])})):e._e()],1),e._v(" "),a("el-row",[e.featureData.acount_status?a("el-col",{staticStyle:{"margin-top":"10px"}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"danger",size:"small"}},[e._v("账号属性")])],1),e._v(" "),a("div",{staticStyle:{"margin-bottom":"50px"}},[a("el-col",{staticClass:"text-center",attrs:{xs:8,span:5}},[a("a",{staticClass:"pan-btn yellow-btn"},[e._v("粉丝数"),a("br"),e._v(e._s(e._formatNum(e.featureData.acount_status.followers)))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:8,span:5}},[a("a",{staticClass:"pan-btn green-btn"},[e._v("关注数"),a("br"),e._v(e._s(e._formatNum(e.featureData.acount_status.followings)))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:8,span:3}},[a("a",{staticClass:"pan-btn pink-btn"},[e._v("用户类型"),a("br"),e._v(e._s(e.featureData.acount_status.user_type))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:8,span:3}},[a("a",{staticClass:"pan-btn yellow-btn"},[e._v("V类型"),a("br"),e._v(e._s(e.featureData.acount_status.user_V_type))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:8,span:4}},[a("a",{staticClass:"pan-btn green-btn"},[e._v("用户cLevel"),a("br"),e._v(e._s(e.featureData.acount_status.user_C_level))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:8,span:4}},[a("a",{staticClass:"pan-btn pink-btn"},[e._v("登录频次"),a("br"),e._v(e._s(e.featureData.acount_status.user_freq_type))])])],1)])],1):e._e()],1),e._v(" "),a("el-row",[e.featureData.nature_status?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,span:8}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"success",size:"small"}},[e._v("自然属性")])],1),e._v(" "),a("div",{staticStyle:{"margin-bottom":"50px"}},[a("el-col",{staticClass:"text-center",attrs:{span:7}},[a("a",{staticClass:"pan-btn pink-btn"},[e._v("性别"),a("br"),e._v(e._s(e.featureData.nature_status.gender))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:8}},[a("a",{staticClass:"pan-btn yellow-btn"},[e._v("年龄段"),a("br"),e._v(e._s(e.featureData.nature_status.age))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{span:8}},[a("a",{staticClass:"pan-btn green-btn"},[e._v("居住地"),a("br"),e._v(e._s(e.featureData.nature_status.position))])])],1)])],1):e._e(),e._v(" "),e.featureData.ago_status?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,span:16}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"info",size:"small"}},[e._v("历史画像")])],1),e._v(" "),a("div",{staticStyle:{"margin-bottom":"50px"}},[a("el-col",{staticClass:"text-center",attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[a("a",{staticClass:"pan-btn blue-btn"},[e._v("本周互动"),a("br"),e._v(e._s(e._formatNum(e.featureData.ago_status.week_interact)))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[a("a",{staticClass:"pan-btn light-blue-btn"},[e._v("本周曝光"),a("br"),e._v(e._s(e._formatNum(e.featureData.ago_status.week_expo)))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[a("a",{staticClass:"pan-btn blue-btn"},[e._v("本月互动"),a("br"),e._v(e._s(e._formatNum(e.featureData.ago_status.month_interact)))])]),e._v(" "),a("el-col",{staticClass:"text-center",attrs:{xs:12,sm:6,md:6,lg:6,xl:6}},[a("a",{staticClass:"pan-btn light-blue-btn"},[e._v("本月曝光"),a("br"),e._v(e._s(e._formatNum(e.featureData.ago_status.month_expo)))])])],1)])],1):e._e()],1),e._v(" "),a("el-row",[e.featureData.intimacy_status?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"warning",size:"small"}},[e._v("亲密度")])],1),e._v(" "),e._l(e.featureData.intimacy_status,function(t,i){return t?a("el-row",{key:i,staticClass:"thumb-wrap",staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("a",{staticStyle:{display:"inline-block","font-size":"12px",color:"#606266"},attrs:{title:"进入<"+t.name+">的主页",href:"//weibo.com/u/"+t.uid,target:"_blank"}},[a("span",{staticStyle:{position:"relative",top:"-8px",display:"inline-block",width:"50px"}},[e._v("NO."+e._s(i+1))]),e._v(" "),a("pan-thumb",{staticClass:"thumb-content",attrs:{image:t.head,width:"30px",height:"30px"}},[e._v(e._s(t.name))])],1),e._v(" "),a("a",{staticClass:"author-name",attrs:{title:t.name,href:"//weibo.com/u/"+t.uid,target:"_blank"}},[e._v(e._s(t.name))]),e._v(" "),a("span",[e._v(e._s(e._parsePercent(t.weight)))])]):e._e()})],2)],1):e._e(),e._v(" "),e.featureData.interest_first?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("一级兴趣")])],1),e._v(" "),e._l(e.featureData.interest_first,function(t,i){return a("div",{key:i,staticClass:"progress-item"},[a("span",{staticStyle:{display:"inline-block",width:"50px",color:"#666"}},[e._v("No."+e._s(i+1))]),e._v(" "),a("span",[e._v(e._s(t.name))]),e._v(" "),a("el-progress",{attrs:{percentage:t.weight}})],1)})],2)],1):e._e(),e._v(" "),e.featureData.interest_category?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("二级兴趣")])],1),e._v(" "),e._l(e.featureData.interest_category,function(t,i){return a("div",{key:i,staticClass:"progress-item"},[a("span",{staticStyle:{display:"inline-block",width:"50px",color:"#666"}},[e._v("No."+e._s(i+1))]),e._v(" "),a("span",[e._v(e._s(t.name))]),e._v(" "),a("el-progress",{attrs:{percentage:t.weight}})],1)})],2)],1):e._e(),e._v(" "),e.featureData.interest_tag?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("三级兴趣")])],1),e._v(" "),e._l(e.featureData.interest_tag,function(t,i){return a("div",{key:i,staticClass:"progress-item"},[a("span",{staticStyle:{display:"inline-block",width:"50px",color:"#666"}},[e._v("No."+e._s(i+1))]),e._v(" "),a("span",[e._v(e._s(t.name))]),e._v(" "),a("el-progress",{attrs:{percentage:t.weight}})],1)})],2)],1):e._e(),e._v(" "),e.featureData.ability1?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("一级能力")])],1),e._v(" "),e._l(e.featureData.ability1,function(t,i){return a("div",{key:i,staticClass:"progress-item"},[a("span",{staticStyle:{display:"inline-block",width:"50px",color:"#666"}},[e._v("No."+e._s(i+1))]),e._v(" "),a("span",[e._v(e._s(t.display_name))]),e._v(" "),a("el-progress",{attrs:{percentage:t.weight}})],1)})],2)],1):e._e(),e._v(" "),e.featureData.ability1?a("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("二级能力")])],1),e._v(" "),e._l(e.featureData.ability2,function(t,i){return a("div",{key:i,staticClass:"progress-item"},[a("span",{staticStyle:{display:"inline-block",width:"50px",color:"#666"}},[e._v("No."+e._s(i+1))]),e._v(" "),a("span",[e._v(e._s(t.display_name))]),e._v(" "),a("el-progress",{attrs:{percentage:t.weight}})],1)})],2)],1):e._e()],1)],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var je=a("VU/8")(Fe,Ee,!1,function(e){a("bVVQ"),a("ekW1")},"data-v-203d32e6",null).exports,ze={name:"querymaterial",components:{Auth:x},data:function(){return{formInline:{date:[]},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]},rateData:null}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){if(1===this.pageAuth){var e=F(Date.now()-6912e5,"{y}{m}{d}"),t=F(Date.now()-1728e5,"{y}{m}{d}");this.formInline.date=[e,t],this.onSearch()}},onSearch:function(){var e=this,t={url:"http://172.16.105.67:8091/newtest1011/getUserInterestRateDayTableData.html",param:{dt_start:this.formInline.date[0],dt_end:this.formInline.date[1]}},a={data:A()(t),cip:230};this.$store.dispatch("GetUserRate",a).then(function(t){if(t.code&&200==Number(t.code))e.rateData=t.data;else{var a=t.msg||"查询失败";Object(R.Message)({showClose:!0,message:a,type:"error",duration:3e3})}})},_formatNum:function(e){return E(e)},_parsePercent:function(e){return j(e)},_parseTime:function(e){return e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},email:function(){}}},Ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-phone-outline hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("用户兴趣标签覆盖率")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",[a("el-date-picker",{attrs:{align:"center","unlink-panels":"",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyyMMdd","picker-options":e.pickerOptions},on:{change:function(t){e.getDropList()}},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.rateData?a("el-row",{staticClass:"content-box-wrap"},[a("el-table",{staticStyle:{width:"100%",border:"1px solid #f0f2f5"},attrs:{data:e.rateData,stripe:""}},[a("el-table-column",{attrs:{align:"center",width:"100",prop:"dt",label:"日期",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parseTime(t.row.dt)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"70",prop:"day",label:"星期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"all",sortable:"",label:"总体","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.all)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"long",sortable:"",label:"长期兴趣","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.long)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",sortable:"",label:"短期兴趣","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.short)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"long_level1",sortable:"",label:"长期兴趣一级标签","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.long_level1)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"long_level2",sortable:"",label:"长期兴趣 二级标签","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.long_level2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"long_level3",sortable:"",label:"长期兴趣 三级标签","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.long_level3)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",sortable:"",label:"短期兴趣 一级标签","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.short_level1)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",sortable:"",label:"短期兴趣 二级标签","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.short_level2)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",sortable:"",label:"短期兴趣 三级标签","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._parsePercent(t.row.short_level3)))])]}}])})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Oe=a("VU/8")(ze,Ne,!1,function(e){a("9QtZ")},"data-v-5a3cb55a",null).exports,Pe={name:"itemList",props:["item","index"],data:function(){return{}},methods:{init:function(){},_formatNum:function(e){return E(e)},_parsePercent:function(e,t){return j(e,t)},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{item:function(){this.init()},index:function(){}}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item?a("el-row",[a("el-col",{staticClass:"item-wrapper",attrs:{span:24}},[a("el-row",[a("div",{staticClass:"item-status-box clearfix"},[a("label",{staticClass:"item-mid left"},[e._v("本次刷新第\n                    "),a("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[e._v(e._s(e.item.index||e.index))]),e._v("条 | "+e._s(e.item.mid)+" | "+e._s(e.item.recommend_source)+" | "+e._s(e.item.source))])])]),e._v(" "),a("el-row",{staticClass:"clearfix"},[a("div",{staticClass:"left"},[a("a",{staticClass:"item-avatar",attrs:{target:"_blank",href:e.item.author_uid&&"//weibo.com/u/"+e.item.author_uid||"javascript:void(0)",title:"跳转微博主页"}},[a("img",{attrs:{src:e.item.author_face}})])]),e._v(" "),a("div",{staticClass:"left",staticStyle:{padding:"10px"}},[a("el-row",[a("a",{staticClass:"item-name",attrs:{href:e.item.author_uid&&"//weibo.com/u/"+e.item.author_uid||"javascript:void(0)",target:"_blank",title:"跳转微博主页"}},[e._v(e._s(e.item.author_name||"未知"))])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[a("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("a",{attrs:{href:e.item.mid_link||"javascript:void(0)",target:"_blank"}},[e._v(e._s(e._parseTime(e.item.publish_time)))])]),e._v(" "),e.item.send_from?a("span",{staticClass:"info-box"},[e._v("来自\n                        "),a("label",{staticClass:"item-info",domProps:{innerHTML:e._s(e.item.send_from)}})]):e._e()])],1)]),e._v(" "),a("el-row",{staticClass:"content-text"},[a("a",{attrs:{href:e.item.mid_link||"javascript:void(0)",target:"_blank",title:"查看微博详情"}},[e._v(e._s(e.item.content_text))])]),e._v(" "),a("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[a("el-col",{staticClass:"footer-list"},[a("a",{attrs:{href:e.item.mid_link||"javascript:void(0)",target:"_blank"}},[a("i",{staticClass:"el-icon-phone-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("点赞 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.like_num)))])])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("a",{attrs:{href:e.item.mid_link||"javascript:void(0)",target:"_blank"}},[a("i",{staticClass:"el-icon-news hidden-xs-only"}),e._v(" "),a("label",[e._v("转发 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.retweet_num)))])])]),e._v(" "),a("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[a("a",{attrs:{href:e.item.mid_link||"javascript:void(0)",target:"_blank"}},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("评论 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.comment_num)))])])])],1)],1)],1):e._e()},staticRenderFns:[]};var Ve={name:"freshreview",components:{Auth:x,ItemList:a("VU/8")(Pe,Ue,!1,function(e){a("JV6w")},"data-v-28202fcc",null).exports},data:function(){return{formInline:{uid:"1111681197",start_time:"",end_time:""},curUid:"",fresh_count:null,page:1,count:10,datalist:null}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&(this.formInline.start_time=F(Date.now()-864e5,"{y}-{m}-{d}T{h}:{i}"),this.formInline.end_time=F(Date.now(),"{y}-{m}-{d}T{h}:{i}"),this.onSearch())},onSearch:function(){var e=this;if(this.formInline.uid)if(this.formInline.start_time)if(this.formInline.end_time){var t={url:"/dataview/queryFreshReview",params:{intervals:this.formInline.start_time+"/"+this.formInline.end_time,uid:this.formInline.uid,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){isNaN(t.code)||0!==Number(t.code)||(e.curUid=e.formInline.uid,e.page=1,e.fresh_count=t.fresh_count||0,e.datalist=t.fresh_result||null)})}else Object(R.Message)({showClose:!0,message:"请选择结束时间！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择开始时间！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请输入要查询的uid/vid！",type:"error",duration:1e3})},handleCurrentChange:function(e){this.page=e},_formatNum:function(e){return E(e)},_parsePercent:function(e){return j(e)},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},email:function(){}}},Be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-refresh hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("用户回看")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",[a("el-input",{staticStyle:{"max-width":"170px"},attrs:{placeholder:"请输入要查询的uid/vid",clearable:""},model:{value:e.formInline.uid,callback:function(t){e.$set(e.formInline,"uid",t)},expression:"formInline.uid"}})],1),e._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-ddTHH:mm",placeholder:"选择开始时间"},model:{value:e.formInline.start_time,callback:function(t){e.$set(e.formInline,"start_time",t)},expression:"formInline.start_time"}}),e._v(" "),a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-ddTHH:mm",placeholder:"选择结束时间"},model:{value:e.formInline.end_time,callback:function(t){e.$set(e.formInline,"end_time",t)},expression:"formInline.end_time"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.datalist?a("el-row",{staticClass:"content-box-wrap"},[null!==e.fresh_count?a("div",{staticClass:"content-box-title"},[e._v("\n            用户\n            "),a("a",{staticClass:"user-btn",attrs:{href:"//weibo.com/u/"+e.curUid,target:"_blank"}},[e._v(e._s(e.curUid))]),e._v(" 在当前时段内共刷新\n            "),a("el-tag",{attrs:{type:"danger",size:"mini"}},[e._v(e._s(e.fresh_count||0))]),e._v(" 次\n        ")],1):e._e(),e._v(" "),e.datalist[e.page-1]?a("div",[a("span",{staticClass:"data-list-title"},[e._v("本次刷新时间："+e._s(e._parseTime(e.datalist[e.page-1].fresh_timestamp))+"，本次刷新曝光"+e._s(e.datalist[e.page-1].mids_count)+"条")]),e._v(" "),e._l(e.datalist[e.page-1].mids_list,function(e,t){return a("item-list",{key:e.mid,attrs:{item:e,index:t+1}})})],2):e._e(),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{"current-page":e.page,layout:"prev, pager, next, jumper","page-count":e.fresh_count||0},on:{"current-change":e.handleCurrentChange}})],1)]):a("el-row",{staticStyle:{padding:"10px","text-align":"center",color:"#ccc"}},[e._v("暂无数据")])],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Re=a("VU/8")(Ve,Be,!1,function(e){a("0txA")},"data-v-abfb3bc0",null).exports,We={name:"materialPage",components:{Auth:x,ItemChart:B},data:function(){return{formInline:{status:"expose_author_num",item_names:"entire",dt_start:"",dt_end:""},chartData:null,itemsList:null}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.formInline.dt_start=F(Date.now()-6048e5,"{y}{m}{d}"),this.formInline.dt_end=F(Date.now()-864e5,"{y}{m}{d}"),this.onSearch())},onSearch:function(){var e=this;if(this.formInline.dt_start)if(this.formInline.dt_end){var t={url:"http://172.16.105.67:8091/newtest1011/getHotwbMidExposeLine.html",param:this.formInline},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),e.chartData=e.setAnalyData(t.data,"趋势分析"))})}else Object(R.Message)({showClose:!0,message:"请选择结束时间！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请选择开始时间！",type:"error",duration:3e3})},setAnalyData:function(e,t){for(var a=e.series,i=[],n=0;n<a.length;n++)i.push({name:a[n].name,type:"line",data:a[n].data,smooth:!0});return{title:t,width:"100%",height:"400px",legendName:e.legendName,xAxis:[{type:"category",data:e.xAxis.data,name:e.xAxis.name,axisLabel:{rotate:0},axisLine:{symbol:["none","arrow"]},splitLine:{show:!0},axisTick:{show:!1}}],yAxis:[{type:"value",name:e.yAxis.name,axisLine:{symbol:["none","arrow"]},axisTick:{show:!1}}],series:i}}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-printer hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("曝光常规检测")])]),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-form",{attrs:{model:e.formInline,size:"small"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择开始时间"},model:{value:e.formInline.dt_start,callback:function(t){e.$set(e.formInline,"dt_start",t)},expression:"formInline.dt_start"}}),e._v(" "),a("el-date-picker",{staticStyle:{"margin-bottom":"5px",width:"170px"},attrs:{type:"date",format:"yyyy年MM月dd日","value-format":"yyyyMMdd",placeholder:"选择结束时间"},model:{value:e.formInline.dt_end,callback:function(t){e.$set(e.formInline,"dt_end",t)},expression:"formInline.dt_end"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),e.chartData?a("el-row",{staticClass:"content-box-wrap"},[a("el-col",[a("el-row",{staticStyle:{"margin-bottom":"5px"}},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.onSearch},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-radio",{attrs:{label:"expose_author_num",border:""}},[e._v("曝光作者数量")]),e._v(" "),a("el-radio",{attrs:{label:"expose_mid_num",border:""}},[e._v("曝光账号数量")])],1)],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-right":"5px"},attrs:{span:24}},[a("item-chart",{attrs:{data:e.chartData}})],1)],1)],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ge=a("VU/8")(We,qe,!1,function(e){a("wedT")},"data-v-3be935a4",null).exports,He="http://i.hot.weibo.com",Ke="990750541234567890",Je={name:"operatematerial",components:{Auth:x},data:function(){return{tabPosition:"top",searchTimer:null,setBlackPopover:!1,goTopForm:{mid:"",type:["混合流"],flow:{"混合流":1,"访客流":2},upPopover:!1,downPopover:!1},goTopRules:{mid:[{required:!0,message:"mid不能为空",trigger:"blur"}],type:[{type:"array",required:!0,message:"请至少选择一个流",trigger:"change"}]},shieldForm:{isShowCancel:!1,placeholder:"请先选择屏蔽类型",content:"",type:"",addPopover:!1,cancelPopover:!1,options:[{value:"link",label:"微博链接"},{value:"uid",label:"uid"},{value:"mid",label:"mid"},{value:"url",label:"URL"},{value:"tag",label:"标签"},{value:"keyword",label:"关键字"}],placeObj:{link:"请输入微博链接",uid:"请输入uid,使用 , 分隔多个值",mid:"请输入mid,使用 , 分隔多个值",url:"请输入URL,使用 , 分隔多个值",tag:"请输入tag,使用 , 分隔多个值",keyword:"输入keyword,同一组用逗号分隔，不同组用｜分割"}},shieldRules:{content:[{required:!0,message:"物料不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择屏蔽类型",trigger:"blur"}]},operateForm:{loading:!1,user:"",total:0,count:10,currentPage:1},advertForm:{type:"hotmblog_ad_top",data:!0,popover:!1,options:[{value:"hotmblog_ad_top",label:"position为0的广告"},{value:"hotmblog_ad_top_banner",label:"微博之夜"}]}}},computed:l()({},Object(s.b)(["email","materialRecord","pageAuth","blackList"])),methods:{init:function(){1===this.pageAuth&&(this.onSearch(),this.getBlackList())},goTopEvent:function(e,t){var a=this,i=this,n="up"==t?"set19top":"del19top";this.goTopForm.upPopover=!1,this.goTopForm.downPopover=!1,this.$refs[e].validate(function(e){if(!e)return console.log("error "+n),!1;for(var t=i.goTopForm.type,l=[],s=0;s<t.length;s++)l.push(i.goTopForm.flow[t[s]]);var o={url:He+"/3/admin/"+n,param:{staff:i.email,source:Ke,data:i.goTopForm.mid,flow:l.join(",")}},r={data:A()(o),cip:230};a.$store.dispatch("TopMaterial",r)})},shieldEvent:function(e,t){var a=this,i=this;this.shieldForm.addPopover=!1,this.shieldForm.cancelPopover=!1,this.$refs[e].validate(function(e){if(!e)return console.log("error "+t),!1;var n=i.shieldForm.type,l=i.shieldForm.content;"link"==n&&(n="mid",l=i.urlToMid(l));var s={url:He+"/3/admin/apiAgent",param:{staff:i.email,source:Ke,action:t,flow:1,type:n,data:l}},o={data:A()(s),cip:230};a.$store.dispatch("ShieldMaterial",o),"mid"==n&&"add_black"==t&&i.addBlackList(l),"uid"==n&&"add_black"==t&&i.setBlackList(l,2),"uid"==n&&"cancel_black"==t&&i.setBlackList(l,0)})},resetForm:function(e){this.$refs[e].resetFields(),this.shieldForm.placeholder="请先选择屏蔽类型"},shieldChangeEvent:function(){""==this.shieldForm.type?this.shieldForm.placeholder="请先选择屏蔽类型":(this.shieldForm.isShowCancel="mid"!=this.shieldForm.type&&"link"!=this.shieldForm.type,this.shieldForm.placeholder=this.shieldForm.placeObj[this.shieldForm.type])},urlToMid:function(e){var t=e.split("/");return t[t.length-1]},onSearch:function(){this.operateForm.loading=!0,this.searchTimer||this.setTimer();var e={url:He+"/3/admin/getalllog",param:{staff:this.email,source:Ke,user:this.operateForm.user,page:this.operateForm.currentPage,count:this.operateForm.count}},t={data:A()(e),cip:230};this.$store.dispatch("GetRecord",t)},getBlackList:function(){var e={username:this.email,cip:230};this.$store.dispatch("GetBlackList",e)},addBlackList:function(e){var t=this,a={cip:230,mid:e,username:this.email};this.$store.dispatch("AddBlackList",a).then(function(){t.getBlackList()})},setBlackEvent:function(e,t){var a=this;this.$confirm("确定解除定时拉黑？?","解除定时拉黑",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){a.setBlackList(e,t)}).catch(function(){a.$message({type:"info",message:"取消操作"})})},setBlackList:function(e,t){var a=this;this.setBlackPopover=!1;var i={cip:230,uid:e,status:t,username:this.email};this.$store.dispatch("SetBlackList",i).then(function(){a.getBlackList()})},operateChangeEvent:function(){this.operateForm.currentPage=1},setTimer:function(){var e=this;this.searchTimer=setTimeout(function(){e.operateForm.loading&&(e.operateForm.loading=!1),e.searchTimer=null},5e3)},focusEvent:function(){this.operateForm.loading&&(this.operateForm.loading=!1)},handleSizeChange:function(e){this.operateForm.count=e,this.onSearch()},handleCurrentChange:function(e){this.operateForm.currentPage=e,this.onSearch()},_formatNum:function(e){return E(e)},advertEvent:function(){this.advertForm.popover=!1,console.log("advertForm:",this.advertForm);var e={url:He+"/3/admin/activeAd",param:{staff:this.email,source:Ke,type:this.advertForm.type,data:this.advertForm.data?2:1}},t={data:A()(e),cip:230};this.$store.dispatch("FilterAdvert",t)}},created:function(){this.init()},watch:{dataInfo:function(){},materialRecord:function(){this.operateForm.loading=!1,this.operateForm.total=Number(this.materialRecord.total)},email:function(){},pageAuth:function(){this.init()},blackList:function(){}}},Qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{staticStyle:{"padding-top":"18px","padding-left":"14px"},attrs:{"tab-position":e.tabPosition}},[a("el-tab-pane",{attrs:{label:"操作记录"}},[a("h6",{staticClass:"pane-title hidden-xs-only"},[a("i",{staticClass:"el-icon-goods"}),e._v("物料操作记录查询")]),e._v(" "),a("el-row",{attrs:{type:"flex",align:"middle",justify:"center"}},[a("el-col",{attrs:{xs:24,span:24}},[a("el-form",{attrs:{inline:!0,size:"small"}},[a("el-form-item",[a("el-input",{staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"查询指定用户, 为空则查询所有记录",clearable:""},on:{change:function(t){e.operateChangeEvent()}},model:{value:e.operateForm.user,callback:function(t){e.$set(e.operateForm,"user",t)},expression:"operateForm.user"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.operateForm.loading},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("搜索")])])],1)],1),e._v(" "),a("el-table",{staticClass:"pane-table",staticStyle:{width:"100%"},attrs:{data:e.materialRecord&&e.materialRecord.list,border:""}},[a("el-table-column",{attrs:{align:"left",width:"190",sortable:"",prop:"time",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time hidden-xs-only"}),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.time))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"120",prop:"name",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{align:"left","min-width":"300",prop:"content",label:"内容"}})],1),e._v(" "),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{"current-page":e.operateForm.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.operateForm.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"置顶操作"}},[a("h6",{staticClass:"pane-title hidden-xs-only"},[a("i",{staticClass:"el-icon-goods"}),e._v("置顶操作")]),e._v(" "),a("el-row",{attrs:{type:"flex",align:"middle",justify:"start"}},[a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"goTopForm",staticClass:"pane-form",attrs:{model:e.goTopForm,rules:e.goTopRules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"微博mid",prop:"mid"}},[a("el-input",{attrs:{"suffix-icon":"el-icon-edit",placeholder:"请输入mid",clearable:""},model:{value:e.goTopForm.mid,callback:function(t){e.$set(e.goTopForm,"mid",t)},expression:"goTopForm.mid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物料类型",prop:"type"}},[a("el-checkbox-group",{model:{value:e.goTopForm.type,callback:function(t){e.$set(e.goTopForm,"type",t)},expression:"goTopForm.type"}},[a("el-checkbox",{attrs:{label:"混合流",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"访客流",name:"type"}})],1)],1),e._v(" "),a("el-form-item",[a("el-popover",{ref:"popoverUp",attrs:{placement:"bottom",width:"200"},model:{value:e.goTopForm.upPopover,callback:function(t){e.$set(e.goTopForm,"upPopover",t)},expression:"goTopForm.upPopover"}},[a("p",[e._v("确定上榜？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.goTopForm.upPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.goTopEvent("goTopForm","up")}}},[e._v("确定")])],1)]),e._v(" "),a("el-popover",{ref:"popoverDown",attrs:{placement:"bottom",width:"200"},model:{value:e.goTopForm.downPopover,callback:function(t){e.$set(e.goTopForm,"downPopover",t)},expression:"goTopForm.downPopover"}},[a("p",[e._v("确定下榜？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.goTopForm.downPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.goTopEvent("goTopForm","down")}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUp",arg:"popoverUp"}],attrs:{type:"success",size:"small"}},[e._v("上榜")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverDown",arg:"popoverDown"}],attrs:{type:"warning",size:"small"}},[e._v("下榜")])],1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"屏蔽操作"}},[a("h6",{staticClass:"pane-title hidden-xs-only"},[a("i",{staticClass:"el-icon-goods"}),e._v("屏蔽操作")]),e._v(" "),a("el-row",{attrs:{type:"flex",align:"middle",justify:"start"}},[a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"shieldForm",staticClass:"pane-form",attrs:{model:e.shieldForm,rules:e.shieldRules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"屏蔽类型",prop:"type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:function(t){e.shieldChangeEvent()}},model:{value:e.shieldForm.type,callback:function(t){e.$set(e.shieldForm,"type",t)},expression:"shieldForm.type"}},e._l(e.shieldForm.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"输入物料",prop:"content"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},"suffix-icon":"el-icon-edit",placeholder:e.shieldForm.placeholder,clearable:!0},model:{value:e.shieldForm.content,callback:function(t){e.$set(e.shieldForm,"content",t)},expression:"shieldForm.content"}})],1),e._v(" "),a("el-form-item",[a("el-popover",{ref:"addBlack",attrs:{placement:"bottom",width:"200"},model:{value:e.shieldForm.addPopover,callback:function(t){e.$set(e.shieldForm,"addPopover",t)},expression:"shieldForm.addPopover"}},[a("p",[e._v("确定屏蔽？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.shieldForm.addPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.shieldEvent("shieldForm","add_black")}}},[e._v("确定")])],1)]),e._v(" "),a("el-popover",{ref:"cancelBlack",attrs:{placement:"bottom",width:"200"},model:{value:e.shieldForm.cancelPopover,callback:function(t){e.$set(e.shieldForm,"cancelPopover",t)},expression:"shieldForm.cancelPopover"}},[a("p",[e._v("取消屏蔽？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.shieldForm.cancelPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.shieldEvent("shieldForm","cancel_black")}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:addBlack",arg:"addBlack"}],attrs:{type:"success",size:"small"}},[e._v("屏蔽物料")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.shieldForm.isShowCancel,expression:"shieldForm.isShowCancel"},{name:"popover",rawName:"v-popover:cancelBlack",arg:"cancelBlack"}],attrs:{type:"warning",size:"small"}},[e._v("取消屏蔽")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm("shieldForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,span:23}},[a("div",{staticClass:"table-title left"},[e._v("24小时内拉黑mid关联的uid审核")]),e._v(" "),a("el-table",{staticClass:"table-wrap",staticStyle:{width:"100%"},attrs:{data:e.blackList,border:"","max-height":"600"}},[a("el-table-column",{attrs:{width:"50",type:"index",align:"center",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{label:"Uid",prop:"uid",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v(e._s(t.row.uid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"昵称",prop:"name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"领域(最高分能力领域)",prop:"tagName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(e._s(t.row.tagName||"未知"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"历史拉黑微博数(条)",prop:"num",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"warning",size:"medium"}},[e._v(e._s(e._formatNum(t.row.num))+"条")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"今日拉黑微博",prop:"list",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.list,function(t,i){return a("div",{key:i},[a("a",{staticClass:"link-btn",attrs:{target:"_blank",href:t.link}},[e._v(e._s(t.mid))])])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.setBlackEvent(t.row.uid,0)}}},[e._v("解除定时拉黑\n                    ")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"首位广告"}},[a("h6",{staticClass:"pane-title hidden-xs-only"},[a("i",{staticClass:"el-icon-goods"}),e._v("首位广告开关")]),e._v(" "),a("el-row",{attrs:{type:"flex",align:"middle",justify:"start"}},[a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"advertForm",staticClass:"pane-form",attrs:{model:e.advertForm,"label-width":"60px",size:"small"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.advertForm.type,callback:function(t){e.$set(e.advertForm,"type",t)},expression:"advertForm.type"}},e._l(e.advertForm.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{prop:"data"}},[a("el-switch",{attrs:{"active-text":"开启过滤生效"},model:{value:e.advertForm.data,callback:function(t){e.$set(e.advertForm,"data",t)},expression:"advertForm.data"}})],1),e._v(" "),a("el-form-item",[a("el-popover",{ref:"advertPop",attrs:{placement:"bottom",width:"200"},model:{value:e.advertForm.popover,callback:function(t){e.$set(e.advertForm,"popover",t)},expression:"advertForm.popover"}},[a("p",[e._v("确定保存？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.advertForm.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.advertEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:advertPop",arg:"advertPop"}],attrs:{type:"success",size:"small"}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm("advertForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ye=a("VU/8")(Je,Qe,!1,function(e){a("gSAR")},"data-v-6f7fa0c2",null).exports,Ze={name:"operateMixture",components:{Auth:x},data:function(){return{configForm:null,percentList:[{label:"0%",value:0},{label:"25%",value:1},{label:"50%",value:2},{label:"75%",value:3},{label:"100%",value:4}],operateText:"",tips:"loading…"}},computed:l()({},Object(s.b)(["email","pageAuth"])),methods:{init:function(){1===this.pageAuth&&this.getConfig()},getConfig:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/get",param:{source:"990750541234567890"}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t?e.configForm=t:e.tips="混合流降级配置获取失败"})},resetForm:function(e){this.$refs[e].resetFields()},saveEvent:function(){var e=this;""!==this.configForm.max_mix_backend_retry?""!==this.configForm.max_mix_backend_mhf?""!==this.configForm.max_mix_backend_mlf?this.$prompt("请输入操作说明","确认修改配置",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPattern:/[\s\S]/,inputErrorMessage:"输入内容不能为空",beforeClose:function(t,a,i){"confirm"===t&&(e.operateText=a.inputValue),i()}}).then(function(){e.saveConfig()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(R.Message)({showClose:!0,message:"请填写低频限流，且值大于等于0！",type:"error",duration:3e3}):Object(R.Message)({showClose:!0,message:"请填写中高频限流，且值大于等于0！",type:"error",duration:3e3}):Object(R.Message)({showClose:!0,message:"请填写重试限流，且值大于等于0！",type:"error",duration:3e3})},saveConfig:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/set",param:{staff:this.email,source:"990750541234567890",ext:this.operateText,data:this.configForm.bigdata+","+this.configForm.show_batch+","+this.configForm.uve+","+this.configForm.max_mix_backend_retry+","+this.configForm.max_mix_backend_mhf+","+this.configForm.max_mix_backend_mlf+","+this.configForm.switch_platform_ifce}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t&&"设置成功!"===t.msg?(e.getConfig(),Object(R.Message)({showClose:!0,message:"设置成功!",type:"success",duration:1e3})):Object(R.Message)({showClose:!0,message:t&&t.msg||"设置失败",type:"error",duration:0})})}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()}}},Xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-date hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("混合流降级配置")])]),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[e.configForm?a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"configForm",staticClass:"pane-form",attrs:{model:e.configForm,"label-width":"160px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"混合流接口",prop:"bigdata",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.configForm.bigdata,callback:function(t){e.$set(e.configForm,"bigdata",t)},expression:"configForm.bigdata"}},e._l(e.percentList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"平台show_batch接口",prop:"show_batch",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.configForm.show_batch,callback:function(t){e.$set(e.configForm,"show_batch",t)},expression:"configForm.show_batch"}},e._l(e.percentList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"广告",prop:"uve",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.configForm.uve,callback:function(t){e.$set(e.configForm,"uve",t)},expression:"configForm.uve"}},e._l(e.percentList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"平台接口调用类型",prop:"switch_platform_ifce",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.configForm.switch_platform_ifce,callback:function(t){e.$set(e.configForm,"switch_platform_ifce",t)},expression:"configForm.switch_platform_ifce"}},[a("el-option",{attrs:{label:"RPC",value:0}}),e._v(" "),a("el-option",{attrs:{label:"HTTP",value:1}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"重试限流",prop:"max_mix_backend_retry",required:""}},[a("el-input",{attrs:{placeholder:"请输入"},on:{change:function(t){e.configForm.max_mix_backend_retry=e.configForm.max_mix_backend_retry>0?e.configForm.max_mix_backend_retry:0}},model:{value:e.configForm.max_mix_backend_retry,callback:function(t){e.$set(e.configForm,"max_mix_backend_retry",e._n(t))},expression:"configForm.max_mix_backend_retry"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中高频限流",prop:"max_mix_backend_mhf",required:""}},[a("el-input",{attrs:{placeholder:"请输入"},on:{change:function(t){e.configForm.max_mix_backend_mhf=e.configForm.max_mix_backend_mhf>0?e.configForm.max_mix_backend_mhf:0}},model:{value:e.configForm.max_mix_backend_mhf,callback:function(t){e.$set(e.configForm,"max_mix_backend_mhf",e._n(t))},expression:"configForm.max_mix_backend_mhf"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"低频限流",prop:"max_mix_backend_mlf",required:""}},[a("el-input",{attrs:{placeholder:"请输入"},on:{change:function(t){e.configForm.max_mix_backend_mlf=e.configForm.max_mix_backend_mlf>0?e.configForm.max_mix_backend_mlf:0}},model:{value:e.configForm.max_mix_backend_mlf,callback:function(t){e.$set(e.configForm,"max_mix_backend_mlf",e._n(t))},expression:"configForm.max_mix_backend_mlf"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"success",size:"small"},on:{click:e.saveEvent}},[e._v("保存设置")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm("configForm")}}},[e._v("重置")])],1)],1)],1):a("p",{staticClass:"none-tips"},[e._v(e._s(e.tips))])],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var et=a("VU/8")(Ze,Xe,!1,function(e){a("awKx")},"data-v-d75e68e2",null).exports,tt={name:"operatematerial",components:{Auth:x},data:function(){return{configForm:{users:"",triggers:""},userList:null,tempTriggers:"",tips:"loading…"}},computed:l()({},Object(s.b)(["email","pageAuth"])),methods:{init:function(){1===this.pageAuth&&this.getUserList()},getUserList:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/gettriggeruserlist",param:{source:"990750541234567890"}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t&&h()(t)[0]?(e.userList=t,e.configForm.users=h()(t)[0],e.getConfig()):e.tips="trigger白名单获取失败"})},getConfig:function(){var e=this;if(this.configForm.users){var t=[];t.push(this.configForm.users);var a={url:"http://i.hot.weibo.com/3/admin/gettriggers",param:{source:"990750541234567890",users:A()(t)}},i={data:A()(a),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){t?(e.configForm.triggers=t&&t.data&&t.data[e.configForm.users]||"",e.tempTriggers=t&&t.data&&t.data[e.configForm.users]||""):Object(R.Message)({showClose:!0,message:"trigger配置获取失败",type:"error",duration:3e3})})}},resetForm:function(e){this.configForm.triggers=this.tempTriggers},saveEvent:function(){var e=this;this.configForm.users?this.$confirm("保存当前配置, 是否继续?","确认修改配置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.saveConfig()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(R.Message)({showClose:!0,message:"请选择需要配置的用户！",type:"error",duration:3e3})},saveConfig:function(){var e=this,t={};t[this.configForm.users]=this.configForm.triggers;var a={url:"http://i.hot.weibo.com/3/admin/settriggers",param:{staff:this.email,source:"990750541234567890",triggers:A()(t)}},i={data:A()(a),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){t&&"ok"===t.data?(e.tempTriggers=e.configForm.triggers,Object(R.Message)({showClose:!0,message:"设置成功",type:"success",duration:1e3})):Object(R.Message)({showClose:!0,message:t&&t.data||"设置失败",type:"error",duration:0})})}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()}}},at={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-date hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("trigger配置")])]),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[e.userList?a("el-col",{attrs:{xs:24,span:23}},[a("el-form",{ref:"configForm",staticClass:"pane-form",attrs:{model:e.configForm,"label-width":"70px","label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"用户",prop:"users",required:""}},[a("el-select",{staticClass:"left",staticStyle:{width:"100%"},attrs:{placeholder:"请选择用户，可输入搜索",filterable:""},on:{change:e.getConfig},model:{value:e.configForm.users,callback:function(t){e.$set(e.configForm,"users",t)},expression:"configForm.users"}},e._l(e.userList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),e._v(" "),a("span",{staticClass:"info-tips left hidden-xs-only"},[e._v("（可输入搜索选择用户）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"trigger值",prop:"triggers"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4},clearable:"",placeholder:"请输入"},model:{value:e.configForm.triggers,callback:function(t){e.$set(e.configForm,"triggers",e._n(t))},expression:"configForm.triggers"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.saveEvent}},[e._v("保存配置")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm("configForm")}}},[e._v("重置")])],1)],1)],1):a("p",{staticClass:"none-tips"},[e._v(e._s(e.tips))])],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var it=a("VU/8")(tt,at,!1,function(e){a("9X5G")},"data-v-fe3faa02",null).exports,nt={name:"operateMixture",components:{Auth:x},data:function(){return{configForm:{data:null},tempDegrade:!1,tips:"loading…"}},computed:l()({},Object(s.b)(["email","pageAuth"])),methods:{init:function(){1===this.pageAuth&&this.getConfig()},getConfig:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/getChannel",param:{source:"990750541234567890",t:Date.now()}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){t?(e.configForm.data=1===t.channel_degrade,e.tempDegrade=1===t.channel_degrade,e.tips="success"):e.tips="频道流降级配置获取失败"})},resetForm:function(e){this.configForm.data=this.tempDegrade},saveEvent:function(){var e=this;this.$confirm("保存当前配置, 是否继续?","确认修改配置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.saveConfig()}).catch(function(){e.$message({type:"info",message:"消通操作"})})},saveConfig:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/setChannel",param:{staff:this.email,source:"990750541234567890",t:Date.now(),data:this.configForm.data?1:0}},a={data:A()(t),cip:230};console.log(t),this.$store.dispatch("ProxyGet",a).then(function(t){t&&"设置成功!"===t.msg?(e.tempDegrade=e.configForm.data,Object(R.Message)({showClose:!0,message:"设置成功!",type:"success",duration:1e3})):Object(R.Message)({showClose:!0,message:t&&t.msg||"设置失败",type:"error",duration:0})})}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()}}},lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-date hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("频道流降级开关")])]),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},["success"===e.tips?a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"configForm",staticClass:"pane-form",attrs:{model:e.configForm,size:"small"}},[a("el-form-item",{attrs:{prop:"data"}},[a("el-switch",{attrs:{"active-text":"开启降级"},model:{value:e.configForm.data,callback:function(t){e.$set(e.configForm,"data",t)},expression:"configForm.data"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.saveEvent}},[e._v("保存设置")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm()}}},[e._v("重置")])],1)],1)],1):a("p",{staticClass:"none-tips"},[e._v(e._s(e.tips))])],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var st=a("VU/8")(nt,lt,!1,function(e){a("MVCm")},"data-v-1b33cf08",null).exports,ot={name:"minePage",components:{Auth:x},data:function(){return{cname:"",formInline:{ckey:""}}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelData","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.setChannelList()},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},onSearch:function(){var e=this.formInline.ckey.split(":"),t={url:"/channel/getDetailByCid",params:{cid:e[1],channel_history:e[0],username:this.email,cip:230}};this.$store.dispatch("GetChannelData",t)},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},channelList:function(){this.channelList&&this.channelList[0]&&this.channelList[0].cid&&(this.formInline.ckey=this.channelList[0].channel_history+":"+this.channelList[0].cid,this.onSearch())},channelData:function(){this.channelData&&(this.cname=this.channelData[0].channel_name)}}},rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-service hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("我的频道 "+e._s(e.cname))])])],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[e.channelList&&e.channelList.length>0?a("el-col",{attrs:{span:23}},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"选择频道"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},on:{change:e.onSearch},model:{value:e.formInline.ckey,callback:function(t){e.$set(e.formInline,"ckey",t)},expression:"formInline.ckey"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1)],1),e._v(" "),e.channelData&&e.channelData[0]?a("div",[a("div",{staticClass:"item-box"},[a("label",[e._v("【频道名称】")]),e._v(" "),a("el-tag",[e._v(e._s(e.channelData[0].channel_name))])],1),e._v(" "),a("div",{staticClass:"item-box"},[a("label",[e._v("【繁体名称】")]),e._v(" "),a("el-tag",[e._v(e._s(e.channelData[0].channel_name_tw||"暂无"))])],1),e._v(" "),a("div",{staticClass:"item-box"},[a("label",[e._v("【英文名称】")]),e._v(" "),a("el-tag",[e._v(e._s(e.channelData[0].channel_name_us||"暂无"))])],1),e._v(" "),a("div",{staticClass:"item-box"},[a("label",[e._v("【频道属性】")]),e._v(" "),a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(1===e.channelData[0].channel_history?"历史频道":"自定义频道"))])],1),e._v(" "),e.channelData[0].channel_type?a("div",{staticClass:"item-box"},[a("label",[e._v("【频道类型】")]),e._v(" "),a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.channelData[0].channel_type))])],1):e._e(),e._v(" "),e.channelData[0].stat_time?a("div",{staticClass:"item-box"},[a("label",[e._v("【运营时间】")]),e._v(" "),a("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e._parseTime(e.channelData[0].stat_time,"{y}-{m}-{d}"))+" 到 "+e._s(e._parseTime(e.channelData[0].end_time,"{y}-{m}-{d}")))])],1):e._e(),e._v(" "),e.channelData[0].source?a("div",{staticClass:"item-box"},[a("label",[e._v("【内容来源】")]),e._v(" "),a("el-tag",[e._v(e._s(e.channelData[0].source))])],1):e._e(),e._v(" "),e.channelData[0].tag_id?a("div",{staticClass:"item-box"},[a("label",[e._v("【分类选择】")]),e._v(" "),a("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.channelData[0].tag_id))])],1):e._e(),e._v(" "),e.channelData[0].order?a("div",{staticClass:"item-box"},[a("label",[e._v("【排序方式】")]),e._v(" "),a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.channelData[0].order))])],1):e._e(),e._v(" "),e.channelData[0].channel_id?a("div",{staticClass:"item-box"},[a("label",[e._v("【频道 ID】")]),e._v(" "),a("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.channelData[0].channel_id))])],1):e._e(),e._v(" "),0===e.channelData[0].channel_history&&e.channelData[0].channel_id?a("div",{staticClass:"item-box"},[a("label",[e._v("【在线预览】")]),e._v(" "),a("a",{staticClass:"link-btn",attrs:{target:"_blank",href:"/hot/#/hotcenter/channel/material?cname="+e.channelData[0].channel_name+"&containerid=102803_ctg1_"+e.channelData[0].channel_id+"_-_ctg1_"+e.channelData[0].channel_id}},[e._v(e._s("在线预览"+e.channelData[0].channel_name+"频道"))])]):e._e()]):e._e()],1):null==e.channelApi?a("el-col",{attrs:{span:23}},[e._v("\n      loading……\n    ")]):"response failed"==e.channelApi?a("el-col",{attrs:{span:23}},[a("el-alert",{attrs:{title:"网络请求异常，请重试~",type:"warning","show-icon":"",closable:!1}})],1):1==e.channelApi?a("el-col",{attrs:{span:23}},[a("el-alert",{attrs:{title:"暂无有权限的频道",type:"warning","show-icon":"",closable:!1}})],1):e._e()],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ct=a("VU/8")(ot,rt,!1,function(e){a("b6/i")},"data-v-610a62b8",null).exports,dt={name:"addChannel",components:{Auth:x},data:function(){return{cname:"",formInline:{channel_name:"",channel_name_tw:"",channel_name_us:"",channel_type:1,stat_time:"",end_time:"",source:0,tag_id:"",order:1,popover:!1},pickerOptions:{disabledDate:function(e){return e.getTime()+864e5<Date.now()}}}},computed:l()({},Object(s.b)(["pageAuth","email","channelType","channelTag"])),methods:{init:function(){1===this.pageAuth&&this.getChannelDrop()},getChannelDrop:function(){var e={url:"/channel/getList",params:{username:this.email,cip:230}};this.$store.dispatch("GetChannelDrop",e)},onSubmit:function(){var e=this;if(this.formInline.popover=!1,this.formInline.channel_name)if(this.formInline.channel_name_tw)if(this.formInline.channel_name_us)if(this.formInline.stat_time&&this.formInline.end_time)if(this.formInline.stat_time!==this.formInline.end_time){if(0===this.formInline.source)this.formInline.tag_id="";else if(!this.formInline.tag_id)return void Object(R.Message)({showClose:!0,message:"请选择分类！",type:"error",duration:1e3});var t={url:"/channel/addChannel",params:{channel_name:this.formInline.channel_name,channel_name_tw:this.formInline.channel_name_tw,channel_name_us:this.formInline.channel_name_us,channel_type:this.formInline.channel_type,stat_time:this.formInline.stat_time,end_time:this.formInline.end_time,source:this.formInline.source,tag_id:this.formInline.tag_id,order:this.formInline.order,username:this.email,cip:230}};this.$store.dispatch("SetChannelData",t).then(function(t){t.code&&200==Number(t.code)?e.$alert("系统正在紧张的创建中，请一个小时后再来查看！","【"+e.formInline.channel_name+"】频道的创建已经申请成功！",{confirmButtonText:"确定",callback:function(e){location.reload()}}):Object(R.Message)({showClose:!0,message:t.msg||"频道创建失败！",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"运营时间必须大于1天！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择运营时间！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请输入频道英文名称！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请输入频道繁体字名称！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请输入频道名称！",type:"error",duration:1e3})}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},email:function(){this.init()},channelType:function(){this.channelType&&(this.formInline.channel_type=this.channelType[0].tid)},channelTag:function(){}}},mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("频道创建")])])],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{model:e.formInline,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"频道名称",required:""}},[a("el-input",{staticStyle:{"max-width":"350px"},attrs:{placeholder:"请输入频道名称",clearable:"",autofocus:""},model:{value:e.formInline.channel_name,callback:function(t){e.$set(e.formInline,"channel_name",t)},expression:"formInline.channel_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"繁体名称",required:""}},[a("el-input",{staticStyle:{"max-width":"350px"},attrs:{placeholder:"请输入频道繁体字名称",clearable:"",autofocus:""},model:{value:e.formInline.channel_name_tw,callback:function(t){e.$set(e.formInline,"channel_name_tw",t)},expression:"formInline.channel_name_tw"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称",required:""}},[a("el-input",{staticStyle:{"max-width":"350px"},attrs:{placeholder:"请输入频道英文名称",clearable:"",autofocus:""},model:{value:e.formInline.channel_name_us,callback:function(t){e.$set(e.formInline,"channel_name_us",t)},expression:"formInline.channel_name_us"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"频道类型",required:""}},[a("el-select",{attrs:{placeholder:"请选择频道类型"},model:{value:e.formInline.channel_type,callback:function(t){e.$set(e.formInline,"channel_type",t)},expression:"formInline.channel_type"}},e._l(e.channelType,function(e,t){return a("el-option",{key:t,attrs:{label:e.type_name,value:e.tid}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"运营时间",required:""}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期",format:"yyyy年MM月dd日","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.formInline.stat_time,callback:function(t){e.$set(e.formInline,"stat_time",t)},expression:"formInline.stat_time"}}),e._v(" "),a("span",{staticClass:"hidden-xs-only"},[e._v("-")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期",format:"yyyy年MM月dd日","value-format":"timestamp","picker-options":e.pickerOptions},model:{value:e.formInline.end_time,callback:function(t){e.$set(e.formInline,"end_time",t)},expression:"formInline.end_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容来源",required:""}},[a("el-select",{attrs:{placeholder:"请选择内容来源"},model:{value:e.formInline.source,callback:function(t){e.$set(e.formInline,"source",t)},expression:"formInline.source"}},[a("el-option",{attrs:{label:"白名单",value:0}}),e._v(" "),a("el-option",{attrs:{label:"分类",value:1}}),e._v(" "),a("el-option",{attrs:{label:"白名单+分类",value:2}})],1)],1),e._v(" "),0!==e.formInline.source&&e.channelTag?a("el-form-item",{attrs:{label:"分类选择",required:""}},[a("el-select",{attrs:{placeholder:"请选择分类，支持搜索",filterable:"",clearable:""},model:{value:e.formInline.tag_id,callback:function(t){e.$set(e.formInline,"tag_id",t)},expression:"formInline.tag_id"}},e._l(e.channelTag,function(e,t){return a("el-option",{key:t,attrs:{label:e.tag_name,value:e.tag_id}})})),e._v(" "),a("span",{staticStyle:{color:"#e6a23c"}},[e._v("（只有内容来源选择了分类才可选）")])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"排序方式",required:""}},[a("el-select",{attrs:{placeholder:"请选择排序方式"},model:{value:e.formInline.order,callback:function(t){e.$set(e.formInline,"order",t)},expression:"formInline.order"}},[a("el-option",{attrs:{label:"时间序",value:1}}),e._v(" "),a("el-option",{attrs:{label:"模型序",value:2}})],1)],1),e._v(" "),a("el-form-item",[a("el-popover",{ref:"popoverAdd",attrs:{placement:"right",width:"200"},model:{value:e.formInline.popover,callback:function(t){e.$set(e.formInline,"popover",t)},expression:"formInline.popover"}},[a("p",[e._v("确定创建新频道？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formInline.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.onSubmit()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary"}},[e._v("立即创建")])],1)],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ut=a("VU/8")(dt,mt,!1,function(e){a("zE76")},"data-v-2f1f4640",null).exports,pt=[{tagid:"1042015:tagCategory_055",name:"家装家居"},{tagid:"1042015:tagCategory_100004",name:"电信"},{tagid:"1042015:tagCategory_1004",name:"其他"},{tagid:"1042015:tagCategory_009",name:"动漫"},{tagid:"1042015:tagCategory_027",name:"星座命理"},{tagid:"1042015:tagCategory_029",name:"汽车"},{tagid:"1042015:tagCategory_028",name:"母婴育儿"},{tagid:"1042015:tagCategory_001",name:"互联网"},{tagid:"1042015:tagCategory_026",name:"时尚"},{tagid:"1042015:tagCategory_025",name:"旅游出行"},{tagid:"1042015:tagCategory_024",name:"教育"},{tagid:"1042015:tagCategory_023",name:"政府政务"},{tagid:"1042015:tagCategory_004",name:"人文艺术"},{tagid:"1042015:tagCategory_021",name:"摄影拍照"},{tagid:"1042015:tagCategory_020",name:"搞笑幽默"},{tagid:"1042015:tagCategory_016",name:"媒体传播"},{tagid:"1042015:tagCategory_017",name:"宗教"},{tagid:"1042015:tagCategory_014",name:"奢侈品"},{tagid:"1042015:tagCategory_015",name:"婚庆服务"},{tagid:"1042015:tagCategory_012",name:"体育"},{tagid:"1042015:tagCategory_010",name:"动物宠物"},{tagid:"1042015:tagCategory_011",name:"美妆"},{tagid:"1042015:tagCategory_005",name:"健康养生"},{tagid:"1042015:tagCategory_050",name:"娱乐明星"},{tagid:"1042015:tagCategory_057",name:"休闲娱乐"},{tagid:"1042015:tagCategory_018",name:"情感两性"},{tagid:"1042015:tagCategory_019",name:"财经"},{tagid:"1042015:tagCategory_007",name:"军事"},{tagid:"1042015:tagCategory_006",name:"健康医疗"},{tagid:"1042015:tagCategory_002",name:"交通服务"},{tagid:"1042015:tagCategory_058",name:"房地产"},{tagid:"1042015:tagCategory_039",name:"美女帅哥"},{tagid:"1042015:tagCategory_10001",name:"收藏"},{tagid:"1042015:tagCategory_034",name:"电视剧"},{tagid:"1042015:tagCategory_035",name:"科学科普"},{tagid:"1042015:tagCategory_036",name:"综艺节目"},{tagid:"1042015:tagCategory_030",name:"法律"},{tagid:"1042015:tagCategory_031",name:"数码"},{tagid:"1042015:tagCategory_032",name:"游戏"},{tagid:"1042015:tagCategory_033",name:"电影"},{tagid:"1042015:tagCategory_062",name:"广播电台"},{tagid:"1042015:tagCategory_061",name:"历史"},{tagid:"1042015:tagCategory_060",name:"时事"},{tagid:"1042015:tagCategory_049",name:"日化"},{tagid:"1042015:tagCategory_048",name:"公益"},{tagid:"1042015:tagCategory_045",name:"运动健身"},{tagid:"1042015:tagCategory_044",name:"读书作家"},{tagid:"1042015:tagCategory_047",name:"家政"},{tagid:"1042015:tagCategory_046",name:"音乐"},{tagid:"1042015:tagCategory_041",name:"美食"},{tagid:"1042015:tagCategory_043",name:"设计美学"},{tagid:"1042015:tagCategory_042",name:"职场"},{tagid:"1042015:tagCategory_10003",name:"IT技术"},{tagid:"1042015:tagCategory_11501",name:"文化"},{tagid:"1042015:tagCategory_11502",name:"社会"},{tagid:"1042015:tagCategory_11503",name:"国际"},{tagid:"1042015:tagCategory_11504",name:"娱乐"},{tagid:"1042015:tagCategory_11505",name:"健康"},{tagid:"1042015:tagCategory_11506",name:"科技"}],ht=[{tagid:"1042015:abilityTag_11451",name:"阿里巴巴"},{tagid:"1042015:abilityTag_11452",name:"百度"},{tagid:"1042015:abilityTag_11453",name:"微信"},{tagid:"1042015:abilityTag_643",name:"互联网公司"},{tagid:"1042015:abilityTag_642",name:"互联网人物"},{tagid:"1042015:abilityTag_1082",name:"互联网金融"},{tagid:"1042015:abilityTag_1083",name:"互联网安全"},{tagid:"1042015:abilityTag_154",name:"社交媒体"},{tagid:"1042015:abilityTag_153",name:"电子商务"},{tagid:"1042015:abilityTag_10284",name:"移动支付"},{tagid:"1042015:abilityTag_10286",name:"O2O"},{tagid:"1042015:abilityTag_1050",name:"互联网高管"},{tagid:"1042015:abilityTag_10274",name:"物联网"},{tagid:"1042015:abilityTag_10264",name:"云计算"},{tagid:"1042015:abilityTag_10749",name:"移动交通"},{tagid:"1042015:abilityTag_10750",name:"在线医疗"},{tagid:"1042015:abilityTag_10751",name:"在线旅游"},{tagid:"1042015:abilityTag_1172",name:"在线教育"},{tagid:"1042015:abilityTag_10753",name:"互联网创业"},{tagid:"1042015:abilityTag_10847",name:"互联网产品"},{tagid:"1042015:abilityTag_10754",name:"互联网融资"},{tagid:"1042015:abilityTag_10279",name:"互联网资讯"},{tagid:"1042015:abilityTag_155",name:"互联网营销"},{tagid:"1042015:abilityTag_156",name:"互联网技术"},{tagid:"1042015:abilityTag_644",name:"移动互联网"},{tagid:"1042015:abilityTag_1053",name:"产品经理"},{tagid:"1042015:abilityTag_158",name:"开发者"},{tagid:"1042015:abilityTag_1104",name:"公路交通"},{tagid:"1042015:abilityTag_1105",name:"水路交通"},{tagid:"1042015:abilityTag_10810",name:"交通信息"},{tagid:"1042015:abilityTag_405",name:"航空"},{tagid:"1042015:abilityTag_406",name:"铁路交通"},{tagid:"1042015:abilityTag_408",name:"出租车"},{tagid:"1042015:abilityTag_409",name:"公共交通"},{tagid:"1042015:abilityTag_410",name:"物流"},{tagid:"1042015:abilityTag_411",name:"快递"},{tagid:"1042015:abilityTag_1041",name:"空姐"},{tagid:"1042015:abilityTag_11301",name:"艺术"},{tagid:"1042015:abilityTag_11443",name:"国学"},{tagid:"1042015:abilityTag_11444",name:"戏曲"},{tagid:"1042015:abilityTag_11445",name:"文物"},{tagid:"1042015:abilityTag_11446",name:"古诗"},{tagid:"1042015:abilityTag_11437",name:"小品"},{tagid:"1042015:abilityTag_1080",name:"舞蹈"},{tagid:"1042015:abilityTag_1098",name:"茶道"},{tagid:"1042015:abilityTag_443",name:"曲艺"},{tagid:"1042015:abilityTag_444",name:"魔术"},{tagid:"1042015:abilityTag_445",name:"杂技"},{tagid:"1042015:abilityTag_447",name:"舞台剧"},{tagid:"1042015:abilityTag_448",name:"芭蕾"},{tagid:"1042015:abilityTag_450",name:"绘画"},{tagid:"1042015:abilityTag_451",name:"书法"},{tagid:"1042015:abilityTag_453",name:"工艺"},{tagid:"1042015:abilityTag_706",name:"现代舞"},{tagid:"1042015:abilityTag_707",name:"相声小品"},{tagid:"1042015:abilityTag_712",name:"话剧"},{tagid:"1042015:abilityTag_10798",name:"博物馆"},{tagid:"1042015:abilityTag_11101",name:"胃癌"},{tagid:"1042015:abilityTag_11102",name:"乳腺癌"},{tagid:"1042015:abilityTag_11103",name:"肾病"},{tagid:"1042015:abilityTag_10849",name:"心血管科"},{tagid:"1042015:abilityTag_11435",name:"焦虑症"},{tagid:"1042015:abilityTag_11436",name:"自闭症"},{tagid:"1042015:abilityTag_057",name:"中医养生"},{tagid:"1042015:abilityTag_012",name:"膳食营养"},{tagid:"1042015:abilityTag_062",name:"针灸"},{tagid:"1042015:abilityTag_063",name:"推拿"},{tagid:"1042015:abilityTag_011",name:"中医"},{tagid:"1042015:abilityTag_004",name:"妇科"},{tagid:"1042015:abilityTag_007",name:"整容整形"},{tagid:"1042015:abilityTag_10500",name:"急救知识"},{tagid:"1042015:abilityTag_10757",name:"癌症"},{tagid:"1042015:abilityTag_10759",name:"传染科"},{tagid:"1042015:abilityTag_001",name:"外科"},{tagid:"1042015:abilityTag_002",name:"内科"},{tagid:"1042015:abilityTag_003",name:"儿科"},{tagid:"1042015:abilityTag_005",name:"产科"},{tagid:"1042015:abilityTag_006",name:"肿瘤科"},{tagid:"1042015:abilityTag_008",name:"皮肤科"},{tagid:"1042015:abilityTag_009",name:"心理咨询"},{tagid:"1042015:abilityTag_010",name:"口腔科"},{tagid:"1042015:abilityTag_1140",name:"精神科"},{tagid:"1042015:abilityTag_1141",name:"护理"},{tagid:"1042015:abilityTag_1142",name:"泌尿科"},{tagid:"1042015:abilityTag_1143",name:"男科"},{tagid:"1042015:abilityTag_1144",name:"眼科"},{tagid:"1042015:abilityTag_1145",name:"耳鼻喉科"},{tagid:"1042015:abilityTag_502",name:"骨科"},{tagid:"1042015:abilityTag_638",name:"西医"},{tagid:"1042015:abilityTag_1046",name:"整形师"},{tagid:"1042015:abilityTag_1110",name:"营养师"},{tagid:"1042015:abilityTag_11201",name:"战斗机"},{tagid:"1042015:abilityTag_11202",name:"航母"},{tagid:"1042015:abilityTag_11203",name:"南海问题"},{tagid:"1042015:abilityTag_11204",name:"抗日战争"},{tagid:"1042015:abilityTag_346",name:"武器装备"},{tagid:"1042015:abilityTag_1091",name:"中国军事"},{tagid:"1042015:abilityTag_10509",name:"俄罗斯军事"},{tagid:"1042015:abilityTag_10510",name:"美国军事"},{tagid:"1042015:abilityTag_10511",name:"国际军事"},{tagid:"1042015:abilityTag_10513",name:"军演"},{tagid:"1042015:abilityTag_10514",name:"空军"},{tagid:"1042015:abilityTag_10515",name:"海军"},{tagid:"1042015:abilityTag_10516",name:"陆军"},{tagid:"1042015:abilityTag_10512",name:"军事人物"},{tagid:"1042015:abilityTag_10517",name:"领土争端"},{tagid:"1042015:abilityTag_1038",name:"军事专家"},{tagid:"1042015:abilityTag_10687",name:"军事历史"},{tagid:"1042015:abilityTag_10764",name:"日本军事"},{tagid:"1042015:abilityTag_10765",name:"韩国军事"},{tagid:"1042015:abilityTag_10766",name:"朝鲜军事"},{tagid:"1042015:abilityTag_10767",name:"欧洲军事"},{tagid:"1042015:abilityTag_345",name:"军旅"},{tagid:"1042015:abilityTag_603",name:"军事新闻"},{tagid:"1042015:abilityTag_269",name:"日本动漫"},{tagid:"1042015:abilityTag_271",name:"欧美动漫"},{tagid:"1042015:abilityTag_268",name:"国产动漫"},{tagid:"1042015:abilityTag_270",name:"港台动漫"},{tagid:"1042015:abilityTag_1178",name:"宅腐动漫"},{tagid:"1042015:abilityTag_10148",name:"搞笑漫画"},{tagid:"1042015:abilityTag_10149",name:"新番动漫"},{tagid:"1042015:abilityTag_272",name:"动漫声优"},{tagid:"1042015:abilityTag_497",name:"动漫周边"},{tagid:"1042015:abilityTag_498",name:"cosplay"},{tagid:"1042015:abilityTag_10723",name:"热血动漫"},{tagid:"1042015:abilityTag_501",name:"动漫资讯"},{tagid:"1042015:abilityTag_032",name:"动漫摄影"},{tagid:"1042015:abilityTag_10725",name:"古风动漫"},{tagid:"1042015:abilityTag_10727",name:"治愈系动漫"},{tagid:"1042015:abilityTag_10728",name:"同人动漫"},{tagid:"1042015:abilityTag_499",name:"动漫作者"},{tagid:"1042015:abilityTag_10726",name:"画手"},{tagid:"1042015:abilityTag_244",name:"宠物狗"},{tagid:"1042015:abilityTag_243",name:"宠物猫"},{tagid:"1042015:abilityTag_245",name:"萌宠"},{tagid:"1042015:abilityTag_250",name:"水族"},{tagid:"1042015:abilityTag_254",name:"飞禽"},{tagid:"1042015:abilityTag_1099",name:"宠物用品"},{tagid:"1042015:abilityTag_246",name:"宠物美容"},{tagid:"1042015:abilityTag_247",name:"宠物医疗"},{tagid:"1042015:abilityTag_249",name:"爬行动物"},{tagid:"1042015:abilityTag_252",name:"宠物食品"},{tagid:"1042015:abilityTag_715",name:"领养救助"},{tagid:"1042015:abilityTag_015",name:"化妆"},{tagid:"1042015:abilityTag_018",name:"护肤"},{tagid:"1042015:abilityTag_710",name:"美甲"},{tagid:"1042015:abilityTag_10221",name:"美容"},{tagid:"1042015:abilityTag_1167",name:"美体"},{tagid:"1042015:abilityTag_014",name:"彩妆"},{tagid:"1042015:abilityTag_016",name:"新娘妆"},{tagid:"1042015:abilityTag_020",name:"整形"},{tagid:"1042015:abilityTag_1049",name:"丰胸"},{tagid:"1042015:abilityTag_017",name:"发型"},{tagid:"1042015:abilityTag_10785",name:"明星造型"},{tagid:"1042015:abilityTag_013",name:"造型"},{tagid:"1042015:abilityTag_1169",name:"香氛"},{tagid:"1042015:abilityTag_11410",name:"中国男足"},{tagid:"1042015:abilityTag_11411",name:"户外运动"},{tagid:"1042015:abilityTag_175",name:"足球"},{tagid:"1042015:abilityTag_174",name:"篮球"},{tagid:"1042015:abilityTag_176",name:"网球"},{tagid:"1042015:abilityTag_177",name:"台球"},{tagid:"1042015:abilityTag_180",name:"排球"},{tagid:"1042015:abilityTag_554",name:"棒球"},{tagid:"1042015:abilityTag_553",name:"羽毛球"},{tagid:"1042015:abilityTag_631",name:"乒乓球"},{tagid:"1042015:abilityTag_556",name:"高尔夫球"},{tagid:"1042015:abilityTag_555",name:"游泳"},{tagid:"1042015:abilityTag_1128",name:"田径"},{tagid:"1042015:abilityTag_10329",name:"体操"},{tagid:"1042015:abilityTag_10330",name:"武术"},{tagid:"1042015:abilityTag_10331",name:"短道速滑"},{tagid:"1042015:abilityTag_10332",name:"跆拳道"},{tagid:"1042015:abilityTag_178",name:"棋牌"},{tagid:"1042015:abilityTag_10333",name:"拳击"},{tagid:"1042015:abilityTag_1129",name:"冰雪项目"},{tagid:"1042015:abilityTag_183",name:"中超"},{tagid:"1042015:abilityTag_184",name:"英超"},{tagid:"1042015:abilityTag_187",name:"意甲"},{tagid:"1042015:abilityTag_186",name:"西甲"},{tagid:"1042015:abilityTag_185",name:"德甲"},{tagid:"1042015:abilityTag_10341",name:"法甲"},{tagid:"1042015:abilityTag_181",name:"NBA"},{tagid:"1042015:abilityTag_182",name:"CBA"},{tagid:"1042015:abilityTag_10342",name:"欧冠"},{tagid:"1042015:abilityTag_10830",name:"亚冠"},{tagid:"1042015:abilityTag_10831",name:"举重"},{tagid:"1042015:abilityTag_10832",name:"橄榄球"},{tagid:"1042015:abilityTag_10833",name:"自行车运动"},{tagid:"1042015:abilityTag_10834",name:"铁人三项"},{tagid:"1042015:abilityTag_10835",name:"射击"},{tagid:"1042015:abilityTag_10836",name:"击剑"},{tagid:"1042015:abilityTag_10837",name:"跳水"},{tagid:"1042015:abilityTag_1130",name:"体育资讯"},{tagid:"1042015:abilityTag_10679",name:"赛车"},{tagid:"1042015:abilityTag_1020",name:"运动员"},{tagid:"1042015:abilityTag_1021",name:"体育教练"},{tagid:"1042015:abilityTag_1022",name:"体育名嘴解说"},{tagid:"1042015:abilityTag_1023",name:"国内体育明星"},{tagid:"1042015:abilityTag_1024",name:"国外体育明星"},{tagid:"1042015:abilityTag_087",name:"名表"},{tagid:"1042015:abilityTag_090",name:"豪华酒店"},{tagid:"1042015:abilityTag_091",name:"豪宅家居"},{tagid:"1042015:abilityTag_092",name:"私飞游艇"},{tagid:"1042015:abilityTag_093",name:"珠宝"},{tagid:"1042015:abilityTag_094",name:"名包"},{tagid:"1042015:abilityTag_095",name:"艺术收藏品"},{tagid:"1042015:abilityTag_630",name:"名酒"},{tagid:"1042015:abilityTag_464",name:"婚庆司仪"},{tagid:"1042015:abilityTag_465",name:"婚礼策划"},{tagid:"1042015:abilityTag_466",name:"婚庆用品"},{tagid:"1042015:abilityTag_470",name:"婚庆摄影"},{tagid:"1042015:abilityTag_575",name:"婚纱礼服"},{tagid:"1042015:abilityTag_1025",name:"体育媒体人"},{tagid:"1042015:abilityTag_1059",name:"电视媒体人"},{tagid:"1042015:abilityTag_1060",name:"报纸媒体人"},{tagid:"1042015:abilityTag_1061",name:"财经媒体人"},{tagid:"1042015:abilityTag_1062",name:"杂志媒体人"},{tagid:"1042015:abilityTag_455",name:"媒体评论"},{tagid:"1042015:abilityTag_456",name:"娱记"},{tagid:"1042015:abilityTag_457",name:"记者"},{tagid:"1042015:abilityTag_462",name:"媒体营销"},{tagid:"1042015:abilityTag_324",name:"佛教"},{tagid:"1042015:abilityTag_328",name:"道教"},{tagid:"1042015:abilityTag_326",name:"伊斯兰教"},{tagid:"1042015:abilityTag_325",name:"基督教"},{tagid:"1042015:abilityTag_10581",name:"印度教"},{tagid:"1042015:abilityTag_10582",name:"犹太教"},{tagid:"1042015:abilityTag_1092",name:"天主教"},{tagid:"1042015:abilityTag_1093",name:"藏传佛教"},{tagid:"1042015:abilityTag_395",name:"情感婚姻"},{tagid:"1042015:abilityTag_393",name:"婆媳关系"},{tagid:"1042015:abilityTag_10625",name:"心灵鸡汤"},{tagid:"1042015:abilityTag_1103",name:"人生感悟"},{tagid:"1042015:abilityTag_392",name:"八卦杂谈"},{tagid:"1042015:abilityTag_397",name:"恋爱"},{tagid:"1042015:abilityTag_398",name:"性爱"},{tagid:"1042015:abilityTag_717",name:"同性"},{tagid:"1042015:abilityTag_1026",name:"情感咨询师"},{tagid:"1042015:abilityTag_11412",name:"宏观经济"},{tagid:"1042015:abilityTag_11413",name:"理财"},{tagid:"1042015:abilityTag_11414",name:"IPO"},{tagid:"1042015:abilityTag_11415",name:"能源"},{tagid:"1042015:abilityTag_11416",name:"信用卡"},{tagid:"1042015:abilityTag_117",name:"投资"},{tagid:"1042015:abilityTag_10544",name:"众筹"},{tagid:"1042015:abilityTag_10545",name:"货币"},{tagid:"1042015:abilityTag_626",name:"经济政策"},{tagid:"1042015:abilityTag_108",name:"股票"},{tagid:"1042015:abilityTag_577",name:"保险"},{tagid:"1042015:abilityTag_624",name:"债券"},{tagid:"1042015:abilityTag_118",name:"基金"},{tagid:"1042015:abilityTag_10548",name:"贷款"},{tagid:"1042015:abilityTag_110",name:"美股"},{tagid:"1042015:abilityTag_111",name:"港股"},{tagid:"1042015:abilityTag_116",name:"期货"},{tagid:"1042015:abilityTag_119",name:"外汇"},{tagid:"1042015:abilityTag_112",name:"贵金属"},{tagid:"1042015:abilityTag_625",name:"信托"},{tagid:"1042015:abilityTag_1016",name:"财经高管"},{tagid:"1042015:abilityTag_1137",name:"经济学家"},{tagid:"1042015:abilityTag_109",name:"A股"},{tagid:"1042015:abilityTag_10708",name:"创业板"},{tagid:"1042015:abilityTag_10710",name:"上市公司"},{tagid:"1042015:abilityTag_10711",name:"国外宏观经济"},{tagid:"1042015:abilityTag_10712",name:"国内宏观经济"},{tagid:"1042015:abilityTag_10556",name:"财经资讯"},{tagid:"1042015:abilityTag_578",name:"银行服务"},{tagid:"1042015:abilityTag_1138",name:"投资顾问"},{tagid:"1042015:abilityTag_579",name:"理财师"},{tagid:"1042015:abilityTag_1100",name:"搞笑视频"},{tagid:"1042015:abilityTag_1101",name:"搞笑图片"},{tagid:"1042015:abilityTag_1102",name:"搞笑段子"},{tagid:"1042015:abilityTag_276",name:"三俗"},{tagid:"1042015:abilityTag_277",name:"重口味"},{tagid:"1042015:abilityTag_279",name:"新闻趣事"},{tagid:"1042015:abilityTag_278",name:"段子手"},{tagid:"1042015:abilityTag_028",name:"婚纱摄影"},{tagid:"1042015:abilityTag_024",name:"风景摄影"},{tagid:"1042015:abilityTag_029",name:"摄影器材"},{tagid:"1042015:abilityTag_021",name:"人像摄影"},{tagid:"1042015:abilityTag_537",name:"摄影技巧"},{tagid:"1042015:abilityTag_10558",name:"动物摄影"},{tagid:"1042015:abilityTag_10560",name:"植物摄影"},{tagid:"1042015:abilityTag_033",name:"儿童摄影"},{tagid:"1042015:abilityTag_022",name:"时尚摄影"},{tagid:"1042015:abilityTag_023",name:"纪实摄影"},{tagid:"1042015:abilityTag_026",name:"商业摄影"},{tagid:"1042015:abilityTag_030",name:"手机摄影"},{tagid:"1042015:abilityTag_031",name:"新闻摄影"},{tagid:"1042015:abilityTag_1125",name:"广告摄影"},{tagid:"1042015:abilityTag_1018",name:"摄影师"},{tagid:"1042015:abilityTag_1019",name:"摄影机构"},{tagid:"1042015:abilityTag_1065",name:"教育部门"},{tagid:"1042015:abilityTag_412",name:"外交部门"},{tagid:"1042015:abilityTag_413",name:"国防部门"},{tagid:"1042015:abilityTag_414",name:"发改委"},{tagid:"1042015:abilityTag_416",name:"工信部门"},{tagid:"1042015:abilityTag_417",name:"公安部门"},{tagid:"1042015:abilityTag_421",name:"财政部门"},{tagid:"1042015:abilityTag_423",name:"国土资源部"},{tagid:"1042015:abilityTag_424",name:"环保部门"},{tagid:"1042015:abilityTag_425",name:"住建部门"},{tagid:"1042015:abilityTag_426",name:"交通运输部门"},{tagid:"1042015:abilityTag_427",name:"水利部门"},{tagid:"1042015:abilityTag_428",name:"农业部门"},{tagid:"1042015:abilityTag_429",name:"商务部门"},{tagid:"1042015:abilityTag_430",name:"文化部门"},{tagid:"1042015:abilityTag_690",name:"团委"},{tagid:"1042015:abilityTag_694",name:"宣传部"},{tagid:"1042015:abilityTag_697",name:"市政"},{tagid:"1042015:abilityTag_10660",name:"纪检监察部门"},{tagid:"1042015:abilityTag_10656",name:"医疗卫生部门"},{tagid:"1042015:abilityTag_10657",name:"司法部门"},{tagid:"1042015:abilityTag_703",name:"涉外官员"},{tagid:"1042015:abilityTag_10677",name:"政协代表部门"},{tagid:"1042015:abilityTag_10676",name:"人大代表部门"},{tagid:"1042015:abilityTag_10675",name:"旅游部门"},{tagid:"1042015:abilityTag_10674",name:"工商税务部门"},{tagid:"1042015:abilityTag_708",name:"组织部"},{tagid:"1042015:abilityTag_11441",name:"升学考试"},{tagid:"1042015:abilityTag_11442",name:"资格考试"},{tagid:"1042015:abilityTag_10530",name:"出国留学"},{tagid:"1042015:abilityTag_1171",name:"成人教育"},{tagid:"1042015:abilityTag_034",name:"小升初"},{tagid:"1042015:abilityTag_035",name:"中考"},{tagid:"1042015:abilityTag_036",name:"高考"},{tagid:"1042015:abilityTag_037",name:"考研"},{tagid:"1042015:abilityTag_633",name:"海外学校"},{tagid:"1042015:abilityTag_635",name:"培训机构"},{tagid:"1042015:abilityTag_038",name:"英语口语"},{tagid:"1042015:abilityTag_039",name:"四六级"},{tagid:"1042015:abilityTag_040",name:"雅思"},{tagid:"1042015:abilityTag_041",name:"托福"},{tagid:"1042015:abilityTag_042",name:"GRE"},{tagid:"1042015:abilityTag_043",name:"GMAT"},{tagid:"1042015:abilityTag_044",name:"SAT"},{tagid:"1042015:abilityTag_046",name:"公务员考试"},{tagid:"1042015:abilityTag_047",name:"司法考试"},{tagid:"1042015:abilityTag_069",name:"英国留学"},{tagid:"1042015:abilityTag_070",name:"澳新留学"},{tagid:"1042015:abilityTag_071",name:"美国留学"},{tagid:"1042015:abilityTag_072",name:"加拿大留学"},{tagid:"1042015:abilityTag_1170",name:"高等教育"},{tagid:"1042015:abilityTag_1174",name:"小语种"},{tagid:"1042015:abilityTag_634",name:"留学机构"},{tagid:"1042015:abilityTag_686",name:"中小学"},{tagid:"1042015:abilityTag_692",name:"高校"},{tagid:"1042015:abilityTag_1039",name:"校长"},{tagid:"1042015:abilityTag_1173",name:"教育专家"},{tagid:"1042015:abilityTag_637",name:"名师"},{tagid:"1042015:abilityTag_304",name:"游记攻略"},{tagid:"1042015:abilityTag_10681",name:"旅游美食"},{tagid:"1042015:abilityTag_571",name:"旅游景点"},{tagid:"1042015:abilityTag_311",name:"沙发客"},{tagid:"1042015:abilityTag_309",name:"境外游"},{tagid:"1042015:abilityTag_1134",name:"境内游"},{tagid:"1042015:abilityTag_305",name:"自助游"},{tagid:"1042015:abilityTag_10443",name:"自驾游"},{tagid:"1042015:abilityTag_10445",name:"邮轮游"},{tagid:"1042015:abilityTag_10774",name:"穷游"},{tagid:"1042015:abilityTag_10775",name:"旅游购物"},{tagid:"1042015:abilityTag_10776",name:"海岛游"},{tagid:"1042015:abilityTag_10777",name:"都市游"},{tagid:"1042015:abilityTag_10778",name:"日本旅游"},{tagid:"1042015:abilityTag_10779",name:"东南亚旅游"},{tagid:"1042015:abilityTag_10780",name:"韩国旅游"},{tagid:"1042015:abilityTag_10781",name:"美国旅游"},{tagid:"1042015:abilityTag_10782",name:"欧洲游"},{tagid:"1042015:abilityTag_1136",name:"旅游资讯"},{tagid:"1042015:abilityTag_306",name:"户外旅行"},{tagid:"1042015:abilityTag_307",name:"旅游风光"},{tagid:"1042015:abilityTag_1037",name:"导游"},{tagid:"1042015:abilityTag_1135",name:"旅行机构"},{tagid:"1042015:abilityTag_310",name:"旅行团"},{tagid:"1042015:abilityTag_570",name:"酒店住宿"},{tagid:"1042015:abilityTag_10783",name:"机票"},{tagid:"1042015:abilityTag_083",name:"时尚服饰"},{tagid:"1042015:abilityTag_084",name:"时尚首饰"},{tagid:"1042015:abilityTag_10220",name:"穿衣搭配"},{tagid:"1042015:abilityTag_601",name:"时尚杂志"},{tagid:"1042015:abilityTag_10217",name:"时尚品牌"},{tagid:"1042015:abilityTag_027",name:"街拍"},{tagid:"1042015:abilityTag_10218",name:"时装周"},{tagid:"1042015:abilityTag_10805",name:"明星时尚"},{tagid:"1042015:abilityTag_10806",name:"时尚腕表"},{tagid:"1042015:abilityTag_085",name:"时尚设计"},{tagid:"1042015:abilityTag_600",name:"潮流"},{tagid:"1042015:abilityTag_10807",name:"时尚资讯"},{tagid:"1042015:abilityTag_1175",name:"时尚买手"},{tagid:"1042015:abilityTag_1176",name:"时尚名博"},{tagid:"1042015:abilityTag_188",name:"星座"},{tagid:"1042015:abilityTag_10615",name:"命理"},{tagid:"1042015:abilityTag_189",name:"风水"},{tagid:"1042015:abilityTag_191",name:"相学"},{tagid:"1042015:abilityTag_550",name:"生肖"},{tagid:"1042015:abilityTag_190",name:"周易"},{tagid:"1042015:abilityTag_193",name:"运势"},{tagid:"1042015:abilityTag_192",name:"血型"},{tagid:"1042015:abilityTag_551",name:"塔罗牌"},{tagid:"1042015:abilityTag_552",name:"测字算名"},{tagid:"1042015:abilityTag_1014",name:"占卜师"},{tagid:"1042015:abilityTag_538",name:"孕事"},{tagid:"1042015:abilityTag_10206",name:"产检"},{tagid:"1042015:abilityTag_10207",name:"备孕"},{tagid:"1042015:abilityTag_10208",name:"孕期"},{tagid:"1042015:abilityTag_10209",name:"产后"},{tagid:"1042015:abilityTag_10210",name:"人工喂养"},{tagid:"1042015:abilityTag_10211",name:"母乳喂养"},{tagid:"1042015:abilityTag_10205",name:"优生知识"},{tagid:"1042015:abilityTag_1184",name:"儿童健康"},{tagid:"1042015:abilityTag_052",name:"儿童心理"},{tagid:"1042015:abilityTag_10683",name:"儿童饮食"},{tagid:"1042015:abilityTag_049",name:"亲子活动"},{tagid:"1042015:abilityTag_050",name:"早教"},{tagid:"1042015:abilityTag_539",name:"母婴用品"},{tagid:"1042015:abilityTag_11430",name:"用车"},{tagid:"1042015:abilityTag_11431",name:"国产车"},{tagid:"1042015:abilityTag_11432",name:"韩国汽车"},{tagid:"1042015:abilityTag_11433",name:"商用车"},{tagid:"1042015:abilityTag_510",name:"车展"},{tagid:"1042015:abilityTag_163",name:"赛车"},{tagid:"1042015:abilityTag_161",name:"汽车养护"},{tagid:"1042015:abilityTag_507",name:"跑车"},{tagid:"1042015:abilityTag_506",name:"SUV"},{tagid:"1042015:abilityTag_10163",name:"MPV"},{tagid:"1042015:abilityTag_1166",name:"新能源车"},{tagid:"1042015:abilityTag_10168",name:"纯电动汽车"},{tagid:"1042015:abilityTag_086",name:"豪车"},{tagid:"1042015:abilityTag_10171",name:"购车指南"},{tagid:"1042015:abilityTag_162",name:"汽车维修"},{tagid:"1042015:abilityTag_10156",name:"汽车租赁"},{tagid:"1042015:abilityTag_164",name:"汽车改装"},{tagid:"1042015:abilityTag_160",name:"汽车评测"},{tagid:"1042015:abilityTag_10157",name:"德系汽车"},{tagid:"1042015:abilityTag_10158",name:"日系汽车"},{tagid:"1042015:abilityTag_10159",name:"法系汽车"},{tagid:"1042015:abilityTag_10160",name:"英系汽车"},{tagid:"1042015:abilityTag_10161",name:"美系汽车"},{tagid:"1042015:abilityTag_10789",name:"汽车产业"},{tagid:"1042015:abilityTag_10790",name:"二手车"},{tagid:"1042015:abilityTag_10791",name:"新车"},{tagid:"1042015:abilityTag_10792",name:"开车技巧"},{tagid:"1042015:abilityTag_167",name:"汽车资讯"},{tagid:"1042015:abilityTag_505",name:"轿车"},{tagid:"1042015:abilityTag_509",name:"节能车"},{tagid:"1042015:abilityTag_10694",name:"摩托车"},{tagid:"1042015:abilityTag_10794",name:"车友会"},{tagid:"1042015:abilityTag_10795",name:"汽车模型"},{tagid:"1042015:abilityTag_1027",name:"汽车高管"},{tagid:"1042015:abilityTag_1163",name:"汽车发烧友"},{tagid:"1042015:abilityTag_1165",name:"汽车经销商"},{tagid:"1042015:abilityTag_165",name:"车手"},{tagid:"1042015:abilityTag_166",name:"汽车厂商"},{tagid:"1042015:abilityTag_319",name:"保险理赔"},{tagid:"1042015:abilityTag_10738",name:"行政法"},{tagid:"1042015:abilityTag_10739",name:"经济法"},{tagid:"1042015:abilityTag_10740",name:"诉讼法"},{tagid:"1042015:abilityTag_10744",name:"合同法"},{tagid:"1042015:abilityTag_10736",name:"刑法"},{tagid:"1042015:abilityTag_10737",name:"民法"},{tagid:"1042015:abilityTag_315",name:"知识产权"},{tagid:"1042015:abilityTag_10742",name:"物权法"},{tagid:"1042015:abilityTag_10741",name:"婚姻法"},{tagid:"1042015:abilityTag_10743",name:"劳动法"},{tagid:"1042015:abilityTag_323",name:"医疗纠纷"},{tagid:"1042015:abilityTag_1181",name:"法官"},{tagid:"1042015:abilityTag_1182",name:"检察官"},{tagid:"1042015:abilityTag_1183",name:"法律机构"},{tagid:"1042015:abilityTag_312",name:"律师"},{tagid:"1042015:abilityTag_11422",name:"电脑"},{tagid:"1042015:abilityTag_11423",name:"iPhone"},{tagid:"1042015:abilityTag_11424",name:"华为"},{tagid:"1042015:abilityTag_11425",name:"魅族"},{tagid:"1042015:abilityTag_11426",name:"三星"},{tagid:"1042015:abilityTag_11427",name:"联想"},{tagid:"1042015:abilityTag_11428",name:"若基亚"},{tagid:"1042015:abilityTag_11429",name:"HTC"},{tagid:"1042015:abilityTag_143",name:"手机"},{tagid:"1042015:abilityTag_147",name:"平板电脑"},{tagid:"1042015:abilityTag_146",name:"笔记本电脑"},{tagid:"1042015:abilityTag_144",name:"相机"},{tagid:"1042015:abilityTag_589",name:"摄像机"},{tagid:"1042015:abilityTag_622",name:"可穿戴设备"},{tagid:"1042015:abilityTag_1094",name:"智能硬件"},{tagid:"1042015:abilityTag_590",name:"电子书"},{tagid:"1042015:abilityTag_10309",name:"台式机"},{tagid:"1042015:abilityTag_148",name:"智能家电"},{tagid:"1042015:abilityTag_10823",name:"耳机"},{tagid:"1042015:abilityTag_10824",name:"酷玩"},{tagid:"1042015:abilityTag_10825",name:"音响"},{tagid:"1042015:abilityTag_10826",name:"智能家居"},{tagid:"1042015:abilityTag_1095",name:"数码资讯"},{tagid:"1042015:abilityTag_145",name:"数码配件"},{tagid:"1042015:abilityTag_152",name:"数码测评"},{tagid:"1042015:abilityTag_1015",name:"数码高管"},{tagid:"1042015:abilityTag_11417",name:"地下城与勇士"},{tagid:"1042015:abilityTag_11418",name:"最终幻想"},{tagid:"1042015:abilityTag_11419",name:"梦幻西游"},{tagid:"1042015:abilityTag_11420",name:"游戏机"},{tagid:"1042015:abilityTag_11421",name:"电玩"},{tagid:"1042015:abilityTag_255",name:"电子竞技"},{tagid:"1042015:abilityTag_518",name:"桌游"},{tagid:"1042015:abilityTag_261",name:"游戏攻略"},{tagid:"1042015:abilityTag_517",name:"单机游戏"},{tagid:"1042015:abilityTag_256",name:"网络游戏"},{tagid:"1042015:abilityTag_620",name:"网页游戏"},{tagid:"1042015:abilityTag_263",name:"手机游戏"},{tagid:"1042015:abilityTag_159",name:"游戏应用"},{tagid:"1042015:abilityTag_1012",name:"游戏战队"},{tagid:"1042015:abilityTag_1013",name:"游戏选手"},{tagid:"1042015:abilityTag_1179",name:"游戏公司"},{tagid:"1042015:abilityTag_1180",name:"炉石传说"},{tagid:"1042015:abilityTag_257",name:"星际争霸"},{tagid:"1042015:abilityTag_258",name:"魔兽世界"},{tagid:"1042015:abilityTag_259",name:"dota"},{tagid:"1042015:abilityTag_260",name:"lol"},{tagid:"1042015:abilityTag_262",name:"游戏解说"},{tagid:"1042015:abilityTag_264",name:"电视游戏"},{tagid:"1042015:abilityTag_521",name:"赛车游戏"},{tagid:"1042015:abilityTag_519",name:"棋牌游戏"},{tagid:"1042015:abilityTag_10843",name:"游戏主播"},{tagid:"1042015:abilityTag_197",name:"欧美电影"},{tagid:"1042015:abilityTag_198",name:"日韩电影"},{tagid:"1042015:abilityTag_1124",name:"东南亚电影"},{tagid:"1042015:abilityTag_525",name:"恐怖电影"},{tagid:"1042015:abilityTag_650",name:"爱情电影"},{tagid:"1042015:abilityTag_524",name:"科幻电影"},{tagid:"1042015:abilityTag_651",name:"动作电影"},{tagid:"1042015:abilityTag_523",name:"喜剧电影"},{tagid:"1042015:abilityTag_10011",name:"文艺电影"},{tagid:"1042015:abilityTag_196",name:"港台电影"},{tagid:"1042015:abilityTag_656",name:"战争电影"},{tagid:"1042015:abilityTag_10007",name:"悬疑电影"},{tagid:"1042015:abilityTag_10714",name:"动画电影"},{tagid:"1042015:abilityTag_194",name:"影评"},{tagid:"1042015:abilityTag_199",name:"影讯"},{tagid:"1042015:abilityTag_200",name:"微电影"},{tagid:"1042015:abilityTag_653",name:"纪实电影"},{tagid:"1042015:abilityTag_654",name:"传记电影"},{tagid:"1042015:abilityTag_195",name:"国产电影"},{tagid:"1042015:abilityTag_10671",name:"电影导演"},{tagid:"1042015:abilityTag_224",name:"港台剧"},{tagid:"1042015:abilityTag_227",name:"日剧"},{tagid:"1042015:abilityTag_228",name:"韩剧"},{tagid:"1042015:abilityTag_225",name:"美剧"},{tagid:"1042015:abilityTag_226",name:"英剧"},{tagid:"1042015:abilityTag_10040",name:"欧美剧"},{tagid:"1042015:abilityTag_229",name:"泰剧"},{tagid:"1042015:abilityTag_10041",name:"东南亚剧"},{tagid:"1042015:abilityTag_667",name:"偶像剧"},{tagid:"1042015:abilityTag_668",name:"宫廷剧"},{tagid:"1042015:abilityTag_664",name:"警匪剧"},{tagid:"1042015:abilityTag_10052",name:"古装剧"},{tagid:"1042015:abilityTag_10054",name:"喜剧"},{tagid:"1042015:abilityTag_10069",name:"科幻剧"},{tagid:"1042015:abilityTag_666",name:"谍战剧"},{tagid:"1042015:abilityTag_658",name:"战争剧"},{tagid:"1042015:abilityTag_659",name:"穿越剧"},{tagid:"1042015:abilityTag_661",name:"武侠剧"},{tagid:"1042015:abilityTag_662",name:"言情剧"},{tagid:"1042015:abilityTag_201",name:"字幕翻译"},{tagid:"1042015:abilityTag_222",name:"剧评"},{tagid:"1042015:abilityTag_223",name:"内地剧"},{tagid:"1042015:abilityTag_561",name:"电视剧资讯"},{tagid:"1042015:abilityTag_660",name:"年代剧"},{tagid:"1042015:abilityTag_663",name:"都市剧"},{tagid:"1042015:abilityTag_665",name:"青春剧"},{tagid:"1042015:abilityTag_669",name:"家庭剧"},{tagid:"1042015:abilityTag_10673",name:"电视剧导演"},{tagid:"1042015:abilityTag_10672",name:"电视剧演员"},{tagid:"1042015:abilityTag_11438",name:"神经科学"},{tagid:"1042015:abilityTag_11439",name:"火星探测"},{tagid:"1042015:abilityTag_11440",name:"天文"},{tagid:"1042015:abilityTag_374",name:"天文航天"},{tagid:"1042015:abilityTag_10768",name:"地质运动"},{tagid:"1042015:abilityTag_10769",name:"南极科考"},{tagid:"1042015:abilityTag_10770",name:"大气环境"},{tagid:"1042015:abilityTag_1084",name:"社会科学"},{tagid:"1042015:abilityTag_375",name:"动物植物"},{tagid:"1042015:abilityTag_376",name:"自然科学"},{tagid:"1042015:abilityTag_377",name:"生命医学"},{tagid:"1042015:abilityTag_378",name:"物理科学"},{tagid:"1042015:abilityTag_379",name:"心理学"},{tagid:"1042015:abilityTag_380",name:"数理科学"},{tagid:"1042015:abilityTag_10771",name:"生活百科"},{tagid:"1042015:abilityTag_1121",name:"港台综艺"},{tagid:"1042015:abilityTag_1120",name:"内地综艺"},{tagid:"1042015:abilityTag_1122",name:"日韩综艺"},{tagid:"1042015:abilityTag_1123",name:"欧美综艺"},{tagid:"1042015:abilityTag_213",name:"脱口秀"},{tagid:"1042015:abilityTag_212",name:"真人秀"},{tagid:"1042015:abilityTag_1116",name:"自制节目"},{tagid:"1042015:abilityTag_1118",name:"情感类节目"},{tagid:"1042015:abilityTag_211",name:"曲艺类节目"},{tagid:"1042015:abilityTag_214",name:"音乐类节目"},{tagid:"1042015:abilityTag_215",name:"时尚类节目"},{tagid:"1042015:abilityTag_216",name:"选秀类节目"},{tagid:"1042015:abilityTag_217",name:"访谈类节目"},{tagid:"1042015:abilityTag_610",name:"职场类节目"},{tagid:"1042015:abilityTag_611",name:"播报类节目"},{tagid:"1042015:abilityTag_612",name:"生活类节目"},{tagid:"1042015:abilityTag_613",name:"亲子类节目"},{tagid:"1042015:abilityTag_614",name:"益智类节目"},{tagid:"1042015:abilityTag_615",name:"美食类节目"},{tagid:"1042015:abilityTag_616",name:"舞蹈类节目"},{tagid:"1042015:abilityTag_617",name:"旅游类节目"},{tagid:"1042015:abilityTag_618",name:"纪实类节目"},{tagid:"1042015:abilityTag_1119",name:"搞笑类节目"},{tagid:"1042015:abilityTag_619",name:"相亲类节目"},{tagid:"1042015:abilityTag_1001",name:"综艺主持人"},{tagid:"1042015:abilityTag_097",name:"平面模特"},{tagid:"1042015:abilityTag_098",name:"车模"},{tagid:"1042015:abilityTag_099",name:"网络模特"},{tagid:"1042015:abilityTag_100",name:"影视模特"},{tagid:"1042015:abilityTag_101",name:"时装模特"},{tagid:"1042015:abilityTag_102",name:"美女图片"},{tagid:"1042015:abilityTag_103",name:"校花"},{tagid:"1042015:abilityTag_104",name:"网红草根"},{tagid:"1042015:abilityTag_105",name:"T台模特"},{tagid:"1042015:abilityTag_477",name:"模特"},{tagid:"1042015:abilityTag_558",name:"帅哥图片"},{tagid:"1042015:abilityTag_640",name:"美胸"},{tagid:"1042015:abilityTag_641",name:"美腿"},{tagid:"1042015:abilityTag_11434",name:"葡萄酒"},{tagid:"1042015:abilityTag_353",name:"川菜"},{tagid:"1042015:abilityTag_355",name:"粤菜"},{tagid:"1042015:abilityTag_358",name:"湘菜"},{tagid:"1042015:abilityTag_352",name:"鲁菜"},{tagid:"1042015:abilityTag_354",name:"苏菜"},{tagid:"1042015:abilityTag_10450",name:"家常菜"},{tagid:"1042015:abilityTag_544",name:"日本料理"},{tagid:"1042015:abilityTag_545",name:"韩国料理"},{tagid:"1042015:abilityTag_543",name:"西餐"},{tagid:"1042015:abilityTag_597",name:"饮料"},{tagid:"1042015:abilityTag_599",name:"咖啡"},{tagid:"1042015:abilityTag_596",name:"茶"},{tagid:"1042015:abilityTag_10457",name:"美酒"},{tagid:"1042015:abilityTag_364",name:"小吃"},{tagid:"1042015:abilityTag_362",name:"厨艺"},{tagid:"1042015:abilityTag_548",name:"烘培"},{tagid:"1042015:abilityTag_363",name:"美食点评"},{tagid:"1042015:abilityTag_547",name:"甜点"},{tagid:"1042015:abilityTag_10784",name:"零食"},{tagid:"1042015:abilityTag_1131",name:"中餐"},{tagid:"1042015:abilityTag_372",name:"酒具"},{tagid:"1042015:abilityTag_1034",name:"餐厅"},{tagid:"1042015:abilityTag_1132",name:"厨师"},{tagid:"1042015:abilityTag_10628",name:"人力资源管理"},{tagid:"1042015:abilityTag_10629",name:"企业管理"},{tagid:"1042015:abilityTag_10633",name:"职业规划"},{tagid:"1042015:abilityTag_10634",name:"职场交际"},{tagid:"1042015:abilityTag_10646",name:"求职就业"},{tagid:"1042015:abilityTag_10649",name:"创业"},{tagid:"1042015:abilityTag_045",name:"职业培训"},{tagid:"1042015:abilityTag_1004",name:"招聘机构"},{tagid:"1042015:abilityTag_433",name:"互联网招聘"},{tagid:"1042015:abilityTag_434",name:"房地产招聘"},{tagid:"1042015:abilityTag_435",name:"制造业招聘"},{tagid:"1042015:abilityTag_436",name:"金融投资招聘"},{tagid:"1042015:abilityTag_437",name:"广告传媒招聘"},{tagid:"1042015:abilityTag_438",name:"医药行业招聘"},{tagid:"1042015:abilityTag_439",name:"外贸行业招聘"},{tagid:"1042015:abilityTag_440",name:"消费零售业招聘"},{tagid:"1042015:abilityTag_10846",name:"实习兼职"},{tagid:"1042015:abilityTag_1003",name:"猎头"},{tagid:"1042015:abilityTag_381",name:"平面设计"},{tagid:"1042015:abilityTag_382",name:"工业设计"},{tagid:"1042015:abilityTag_383",name:"建筑设计"},{tagid:"1042015:abilityTag_384",name:"插画艺术"},{tagid:"1042015:abilityTag_385",name:"网页UI"},{tagid:"1042015:abilityTag_386",name:"景观设计"},{tagid:"1042015:abilityTag_387",name:"室内设计"},{tagid:"1042015:abilityTag_388",name:"服饰设计"},{tagid:"1042015:abilityTag_391",name:"创意设计"},{tagid:"1042015:abilityTag_685",name:"艺术设计"},{tagid:"1042015:abilityTag_10801",name:"手工设计"},{tagid:"1042015:abilityTag_10802",name:"实用设计"},{tagid:"1042015:abilityTag_10803",name:"广告设计"},{tagid:"1042015:abilityTag_285",name:"散文"},{tagid:"1042015:abilityTag_281",name:"诗歌"},{tagid:"1042015:abilityTag_284",name:"小说"},{tagid:"1042015:abilityTag_302",name:"言情小说"},{tagid:"1042015:abilityTag_301",name:"同人小说"},{tagid:"1042015:abilityTag_10089",name:"惊悚小说"},{tagid:"1042015:abilityTag_10090",name:"推理小说"},{tagid:"1042015:abilityTag_10091",name:"武侠小说"},{tagid:"1042015:abilityTag_295",name:"玄幻小说"},{tagid:"1042015:abilityTag_289",name:"科幻小说"},{tagid:"1042015:abilityTag_10092",name:"穿越小说"},{tagid:"1042015:abilityTag_10684",name:"耽美小说"},{tagid:"1042015:abilityTag_10088",name:"网络文学"},{tagid:"1042015:abilityTag_1146",name:"影视文学"},{tagid:"1042015:abilityTag_280",name:"文学"},{tagid:"1042015:abilityTag_283",name:"书评"},{tagid:"1042015:abilityTag_286",name:"纪实文学"},{tagid:"1042015:abilityTag_287",name:"青春文学"},{tagid:"1042015:abilityTag_288",name:"少儿文学"},{tagid:"1042015:abilityTag_290",name:"寓言"},{tagid:"1042015:abilityTag_602",name:"作家"},{tagid:"1042015:abilityTag_10733",name:"治愈系小说"},{tagid:"1042015:abilityTag_10734",name:"古风小说"},{tagid:"1042015:abilityTag_10735",name:"宅腐小说"},{tagid:"1042015:abilityTag_458",name:"编辑"},{tagid:"1042015:abilityTag_10429",name:"有氧运动"},{tagid:"1042015:abilityTag_10430",name:"无氧运动"},{tagid:"1042015:abilityTag_179",name:"极限运动"},{tagid:"1042015:abilityTag_168",name:"跑步"},{tagid:"1042015:abilityTag_172",name:"瑜伽"},{tagid:"1042015:abilityTag_1127",name:"攀岩"},{tagid:"1042015:abilityTag_716",name:"骑行"},{tagid:"1042015:abilityTag_1081",name:"滑冰"},{tagid:"1042015:abilityTag_1078",name:"普拉提"},{tagid:"1042015:abilityTag_10432",name:"健美操"},{tagid:"1042015:abilityTag_10433",name:"太极拳"},{tagid:"1042015:abilityTag_10434",name:"徒步"},{tagid:"1042015:abilityTag_10435",name:"滑雪"},{tagid:"1042015:abilityTag_10436",name:"潜水"},{tagid:"1042015:abilityTag_10437",name:"登山"},{tagid:"1042015:abilityTag_1005",name:"健身教练"},{tagid:"1042015:abilityTag_170",name:"减肥"},{tagid:"1042015:abilityTag_171",name:"塑形"},{tagid:"1042015:abilityTag_10439",name:"增肌"},{tagid:"1042015:abilityTag_1079",name:"壁球"},{tagid:"1042015:abilityTag_169",name:"健身"},{tagid:"1042015:abilityTag_173",name:"户外健身"},{tagid:"1042015:abilityTag_236",name:"华语流行音乐"},{tagid:"1042015:abilityTag_238",name:"港台流行音乐"},{tagid:"1042015:abilityTag_240",name:"日韩流行音乐"},{tagid:"1042015:abilityTag_237",name:"欧美流行音乐"},{tagid:"1042015:abilityTag_233",name:"摇滚"},{tagid:"1042015:abilityTag_235",name:"民谣"},{tagid:"1042015:abilityTag_1114",name:"说唱"},{tagid:"1042015:abilityTag_241",name:"古典音乐"},{tagid:"1042015:abilityTag_234",name:"电子音乐"},{tagid:"1042015:abilityTag_530",name:"爵士乐"},{tagid:"1042015:abilityTag_529",name:"乡村音乐"},{tagid:"1042015:abilityTag_1115",name:"演奏家"},{tagid:"1042015:abilityTag_488",name:"指挥家"},{tagid:"1042015:abilityTag_1113",name:"美声"},{tagid:"1042015:abilityTag_239",name:"乐评"},{tagid:"1042015:abilityTag_534",name:"音乐资讯"},{tagid:"1042015:abilityTag_532",name:"乐器"},{tagid:"1042015:abilityTag_10841",name:"翻唱"},{tagid:"1042015:abilityTag_242",name:"音乐制作"},{tagid:"1042015:abilityTag_476",name:"小提琴家"},{tagid:"1042015:abilityTag_485",name:"钢琴家"},{tagid:"1042015:abilityTag_487",name:"大提琴家"},{tagid:"1042015:abilityTag_536",name:"作词"},{tagid:"1042015:abilityTag_535",name:"作曲"},{tagid:"1042015:abilityTag_1058",name:"月嫂"},{tagid:"1042015:abilityTag_675",name:"电脑维修"},{tagid:"1042015:abilityTag_676",name:"鲜花绿植"},{tagid:"1042015:abilityTag_677",name:"家居清洗"},{tagid:"1042015:abilityTag_678",name:"保姆"},{tagid:"1042015:abilityTag_679",name:"家居养护"},{tagid:"1042015:abilityTag_680",name:"搬家"},{tagid:"1042015:abilityTag_681",name:"二手回收"},{tagid:"1042015:abilityTag_682",name:"手机维修"},{tagid:"1042015:abilityTag_683",name:"家电维修"},{tagid:"1042015:abilityTag_684",name:"管道疏通"},{tagid:"1042015:abilityTag_670",name:"公益机构"},{tagid:"1042015:abilityTag_1147",name:"环境保护"},{tagid:"1042015:abilityTag_1153",name:"志愿服务"},{tagid:"1042015:abilityTag_316",name:"法律援助"},{tagid:"1042015:abilityTag_1156",name:"灾难救助"},{tagid:"1042015:abilityTag_1148",name:"社会福利"},{tagid:"1042015:abilityTag_671",name:"微公益"},{tagid:"1042015:abilityTag_1155",name:"文化体育"},{tagid:"1042015:abilityTag_1157",name:"扶贫济困"},{tagid:"1042015:abilityTag_1149",name:"儿童保护"},{tagid:"1042015:abilityTag_1150",name:"妇女权益"},{tagid:"1042015:abilityTag_1151",name:"教育科学"},{tagid:"1042015:abilityTag_1152",name:"动物福利"},{tagid:"1042015:abilityTag_1154",name:"公共卫生"},{tagid:"1042015:abilityTag_1158",name:"国际援助"},{tagid:"1042015:abilityTag_672",name:"洗涤用品"},{tagid:"1042015:abilityTag_673",name:"驱虫用品"},{tagid:"1042015:abilityTag_674",name:"口腔用品"},{tagid:"1042015:abilityTag_11409",name:"好莱坞"},{tagid:"1042015:abilityTag_1009",name:"港台明星"},{tagid:"1042015:abilityTag_1008",name:"内地明星"},{tagid:"1042015:abilityTag_1010",name:"欧美明星"},{tagid:"1042015:abilityTag_203",name:"影视演员"},{tagid:"1042015:abilityTag_481",name:"相声演员"},{tagid:"1042015:abilityTag_489",name:"舞蹈演员"},{tagid:"1042015:abilityTag_10112",name:"韩国明星"},{tagid:"1042015:abilityTag_478",name:"歌手"},{tagid:"1042015:abilityTag_10844",name:"日本明星"},{tagid:"1042015:abilityTag_1011",name:"日韩明星"},{tagid:"1042015:abilityTag_204",name:"导演"},{tagid:"1042015:abilityTag_471",name:"DJ"},{tagid:"1042015:abilityTag_472",name:"主持人"},{tagid:"1042015:abilityTag_10670",name:"电影演员"},{tagid:"1042015:abilityTag_10845",name:"娱乐资讯"},{tagid:"1042015:abilityTag_11001",name:"多肉植物"},{tagid:"1042015:abilityTag_11002",name:"厨卫电器"},{tagid:"1042015:abilityTag_10568",name:"美式家装"},{tagid:"1042015:abilityTag_10569",name:"日式家装"},{tagid:"1042015:abilityTag_10570",name:"欧式家装"},{tagid:"1042015:abilityTag_10571",name:"中式家装"},{tagid:"1042015:abilityTag_10572",name:"古典家装"},{tagid:"1042015:abilityTag_10573",name:"地中海家装"},{tagid:"1042015:abilityTag_10574",name:"简约家装"},{tagid:"1042015:abilityTag_10575",name:"田园风家装"},{tagid:"1042015:abilityTag_564",name:"家具"},{tagid:"1042015:abilityTag_10578",name:"建材"},{tagid:"1042015:abilityTag_10756",name:"家装行业动态"},{tagid:"1042015:abilityTag_566",name:"家居设计"},{tagid:"1042015:abilityTag_567",name:"家居装修"},{tagid:"1042015:abilityTag_1112",name:"茶座棋牌"},{tagid:"1042015:abilityTag_1111",name:"桌游吧"},{tagid:"1042015:abilityTag_202",name:"电影院"},{tagid:"1042015:abilityTag_490",name:"k歌"},{tagid:"1042015:abilityTag_491",name:"酒吧活动"},{tagid:"1042015:abilityTag_492",name:"演出"},{tagid:"1042015:abilityTag_493",name:"展会"},{tagid:"1042015:abilityTag_494",name:"剧院"},{tagid:"1042015:abilityTag_1055",name:"房地产高管"},{tagid:"1042015:abilityTag_647",name:"房地产政策"},{tagid:"1042015:abilityTag_10476",name:"住房公积金"},{tagid:"1042015:abilityTag_1160",name:"房地产资讯"},{tagid:"1042015:abilityTag_649",name:"保障性住房"},{tagid:"1042015:abilityTag_10747",name:"楼市"},{tagid:"1042015:abilityTag_583",name:"新盘"},{tagid:"1042015:abilityTag_584",name:"租房"},{tagid:"1042015:abilityTag_585",name:"二手房"},{tagid:"1042015:abilityTag_705",name:"物业"},{tagid:"1042015:abilityTag_1054",name:"开发商"},{tagid:"1042015:abilityTag_646",name:"房产中介"},{tagid:"1042015:abilityTag_11401",name:"奇闻轶事"},{tagid:"1042015:abilityTag_11402",name:"民用航空"},{tagid:"1042015:abilityTag_11403",name:"民俗"},{tagid:"1042015:abilityTag_11405",name:"中东局势"},{tagid:"1042015:abilityTag_11406",name:"中俄关系"},{tagid:"1042015:abilityTag_11407",name:"中美关系"},{tagid:"1042015:abilityTag_11408",name:"日本文化"},{tagid:"1042015:abilityTag_11404",name:"广场舞"},{tagid:"1042015:abilityTag_604",name:"国际资讯"},{tagid:"1042015:abilityTag_605",name:"国内资讯"},{tagid:"1042015:abilityTag_606",name:"海台两岸"},{tagid:"1042015:abilityTag_10525",name:"灾难灾害"},{tagid:"1042015:abilityTag_10526",name:"社会民生"},{tagid:"1042015:abilityTag_10527",name:"食品安全"},{tagid:"1042015:abilityTag_628",name:"时政人物"},{tagid:"1042015:abilityTag_10808",name:"反腐倡廉"},{tagid:"1042015:abilityTag_10809",name:"事故"},{tagid:"1042015:abilityTag_10811",name:"气象信息"},{tagid:"1042015:abilityTag_10812",name:"环境保护"},{tagid:"1042015:abilityTag_10813",name:"计划生育"},{tagid:"1042015:abilityTag_10814",name:"医患关系"},{tagid:"1042015:abilityTag_10815",name:"慈善事业"},{tagid:"1042015:abilityTag_10816",name:"扫黄打黑"},{tagid:"1042015:abilityTag_10817",name:"政府政务"},{tagid:"1042015:abilityTag_1096",name:"时事评论"},{tagid:"1042015:abilityTag_1097",name:"社会调查"},{tagid:"1042015:abilityTag_629",name:"政府机构"},{tagid:"1042015:abilityTag_10524",name:"本地资讯"},{tagid:"1042015:abilityTag_342",name:"中国古代史"},{tagid:"1042015:abilityTag_343",name:"中国近代史"},{tagid:"1042015:abilityTag_344",name:"中国现代史"},{tagid:"1042015:abilityTag_341",name:"世界历史"},{tagid:"1042015:abilityTag_339",name:"轶闻秘档"},{tagid:"1042015:abilityTag_340",name:"历史人物"},{tagid:"1042015:abilityTag_10772",name:"考古"},{tagid:"1042015:abilityTag_1086",name:"民国史"},{tagid:"1042015:abilityTag_1089",name:"明清史"},{tagid:"1042015:abilityTag_1088",name:"党史"},{tagid:"1042015:abilityTag_1085",name:"古希腊史"},{tagid:"1042015:abilityTag_452",name:"历史学家"},{tagid:"1042015:abilityTag_687",name:"交通广播"},{tagid:"1042015:abilityTag_688",name:"体育广播"},{tagid:"1042015:abilityTag_699",name:"故事广播"},{tagid:"1042015:abilityTag_700",name:"文艺广播"},{tagid:"1042015:abilityTag_701",name:"新闻广播"},{tagid:"1042015:abilityTag_702",name:"旅游广播"},{tagid:"1042015:abilityTag_709",name:"经济广播"},{tagid:"1042015:abilityTag_713",name:"都市广播"},{tagid:"1042015:abilityTag_691",name:"外语广播"},{tagid:"1042015:abilityTag_714",name:"音乐广播"},{tagid:"1042015:abilityTag_157",name:"运营商"},{tagid:"1042015:abilityTag_10713",name:"电信资讯"},{tagid:"1042015:abilityTag_10584",name:"玉石"},{tagid:"1042015:abilityTag_10586",name:"字画"},{tagid:"1042015:abilityTag_10589",name:"紫砂陶瓷"},{tagid:"1042015:abilityTag_10590",name:"邮票票据"},{tagid:"1042015:abilityTag_10585",name:"古币钱币"},{tagid:"1042015:abilityTag_10593",name:"拍卖机构"},{tagid:"1042015:abilityTag_10591",name:"金银珠宝"},{tagid:"1042015:abilityTag_10818",name:"雕塑"},{tagid:"1042015:abilityTag_10819",name:"漆器"},{tagid:"1042015:abilityTag_10821",name:"铜器铜雕"},{tagid:"1042015:abilityTag_10822",name:"古董家具"},{tagid:"1042015:abilityTag_1066",name:"黄花梨"},{tagid:"1042015:abilityTag_1067",name:"紫檀"},{tagid:"1042015:abilityTag_1068",name:"南红"},{tagid:"1042015:abilityTag_1070",name:"文玩核桃"},{tagid:"1042015:abilityTag_1071",name:"琥珀蜜蜡"},{tagid:"1042015:abilityTag_1072",name:"绿松石"},{tagid:"1042015:abilityTag_1074",name:"橄榄核"},{tagid:"1042015:abilityTag_1075",name:"翡翠"},{tagid:"1042015:abilityTag_1076",name:"和田玉"},{tagid:"1042015:abilityTag_11447",name:"通信"},{tagid:"1042015:abilityTag_11448",name:"软件"},{tagid:"1042015:abilityTag_11449",name:"无人机"},{tagid:"1042015:abilityTag_11450",name:"虚拟现实"},{tagid:"1042015:abilityTag_10254",name:"数据挖掘"},{tagid:"1042015:abilityTag_10255",name:"机器学习"},{tagid:"1042015:abilityTag_10261",name:"人工智能"},{tagid:"1042015:abilityTag_10260",name:"推荐系统"},{tagid:"1042015:abilityTag_10262",name:"搜索引擎"},{tagid:"1042015:abilityTag_10263",name:"游戏引擎"},{tagid:"1042015:abilityTag_645",name:"大数据"},{tagid:"1042015:abilityTag_10265",name:"前端技术"},{tagid:"1042015:abilityTag_10266",name:"开发工具"},{tagid:"1042015:abilityTag_10267",name:"开发语言"},{tagid:"1042015:abilityTag_10268",name:"移动开发"},{tagid:"1042015:abilityTag_10272",name:"数据库"},{tagid:"1042015:abilityTag_10273",name:"流计算"},{tagid:"1042015:abilityTag_10275",name:"系统架构"},{tagid:"1042015:abilityTag_10276",name:"设计模式"},{tagid:"1042015:abilityTag_1185",name:"神总结"},{tagid:"1042015:abilityTag_10704",name:"小技巧"},{tagid:"1042015:abilityTag_1186",name:"涨知识"}],ft={name:"itemList",props:["item"],data:function(){return{loading:!1,isEditable:!1,videoSrc:"",categoryList:[],secondTagList:[],thirdTagList:[],cate:"",second_tag:"",third_tag:[],deleteReason:"",controls:!1,logList:[{content:"删除",operator:"tester",create_time:1524672798,description:"内容有待审核"},{content:"通过审核",operator:"tester",create_time:1524672598}]}},computed:l()({},Object(s.b)(["curvideo"])),methods:{togglePlay:function(){this.$store.dispatch("updateVideo",this.item.mblog.mid),this.videoSrc||(this.videoSrc=this.item.mblog.page_info.media_info.stream_url,this.controls=!0)},formartText:function(e){return e.replace("href='/n/","href='//m.weibo.cn/n/")},_formatNum:function(e){return E(e)},_parsePercent:function(e,t){return j(e,t)},_parseTime:function(e,t){return F(e,t)}},watch:{item:function(){},curvideo:function(){9==this.item.card_type&&this.curvideo!=this.item.mblog.mid&&(this.videoSrc="",this.controls=!1)}}},_t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 9==e.item.card_type&&e.item.mblog?a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{staticClass:"item-wrapper",attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("el-row",{staticClass:"clearfix"},[a("div",{staticClass:"left"},[a("a",{staticClass:"item-avatar",attrs:{target:"_blank",href:e.item.mblog.user.profile_url,title:"跳转微博主页"}},[a("img",{attrs:{src:e.item.mblog.user.profile_image_url}})])]),e._v(" "),a("div",{staticClass:"left",staticStyle:{padding:"10px"}},[a("el-row",[a("a",{staticClass:"item-name",attrs:{href:e.item.mblog.user.profile_url,target:"_blank",title:"跳转微博主页"}},[e._v(e._s(e.item.mblog.user.screen_name))])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[a("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("a",{attrs:{href:"//weibo.com/"+e.item.mblog.user.id+"/"+e.item.mblog.bid,target:"_blank"}},[e._v(e._s(e.item.mblog.created_at))])]),e._v(" "),e.item.mblog.source?a("span",{staticClass:"info-box"},[e._v("来自\n            "),a("label",{staticClass:"item-info"},[e._v(e._s(e.item.mblog.source))])]):e._e()])],1)]),e._v(" "),a("el-row",{staticClass:"content-text"},[a("a",{staticClass:"text-box",attrs:{href:"//weibo.com/"+e.item.mblog.user.id+"/"+e.item.mblog.bid,target:"_blank",title:"查看微博详情"}},[a("div",{domProps:{innerHTML:e._s(e.formartText(e.item.mblog.text))}})])]),e._v(" "),e.item.mblog.pics&&e.item.mblog.pics.length>0?a("el-row",{staticClass:"img-wrapper"},e._l(e.item.mblog.pics,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"2px"},attrs:{span:7}},[a("div",{staticClass:"img-box"},[a("div",{staticClass:"bg-img",style:"background-image: url("+t.url+");"},[e._v(e._s(t.url?"":"图片加载失败"))])])])})):e._e(),e._v(" "),e.item.mblog.page_info&&"video"==e.item.mblog.page_info.type?a("el-row",{staticClass:"video-wrapper"},[e.videoSrc?e._e():a("span",{staticClass:"play-btn",on:{click:function(t){e.togglePlay()}}},[a("i",{staticClass:"el-icon-caret-right play-btn-icon"})]),e._v(" "),a("video",{attrs:{poster:e.item.mblog.page_info.page_pic.url,controls:e.controls,src:e.videoSrc,autoplay:""}},[e._v("您的浏览器不支持HTML5")])]):e._e(),e._v(" "),a("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("转发 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.mblog.reposts_count)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-view hidden-xs-only"}),e._v(" "),a("label",[e._v("评论 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.mblog.comments_count)))])]),e._v(" "),a("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[a("i",{staticClass:"el-icon-phone-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("点赞 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.mblog.attitudes_count)))])])],1)],1)],1):e._e()},staticRenderFns:[]};var gt={name:"datamonitor",components:{ItemList:a("VU/8")(ft,_t,!1,function(e){a("DNBH"),a("vuZo")},"data-v-ae5499b6",null).exports,Auth:x},data:function(){return{list:null,cname:"热门",containerid:"102803",page:1}},methods:{init:function(){this.cname=this.$route.query.cname||"热门",this.containerid=this.$route.query.containerid||"102803",this.getList()},getList:function(){var e=this,t={url:"https://m.weibo.cn/api/container/getIndex",param:{containerid:this.containerid,openApp:0,since_id:this.page}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){1==t.ok&&(e.list=t.data&&t.data.cards||[])})},handleLoadMore:function(){this.page++,this.getList()}},created:function(){this.init()}},vt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("h2",{staticClass:"channel-title"},[a("label",[e._v(e._s(e.cname)+"频道")])]),e._v(" "),e.list&&e.list.length>0?a("div",e._l(e.list,function(e,t){return a("item-list",{key:t,attrs:{item:e}})})):a("p",{staticClass:"none-tips"},[e._v("暂无数据")])])},staticRenderFns:[]};var bt=a("VU/8")(gt,vt,!1,function(e){a("5v0z")},"data-v-53275cad",null).exports,yt={name:"operateWhite",data:function(){return{dialogVisible:!1,delBtnPopover:!1,updatePopover:!1,addBtnPopover:!1,new_v:!1,frequency_loss:!1,mcn:!1,account_type:[],originList:[{value:5,label:"极好｜81%－100%为原创"},{value:4,label:"良好｜61%－80%为原创"},{value:3,label:"一般｜41％－60%为原创"},{value:2,label:"较低｜21%－40%为原创"},{value:1,label:"极低｜20%以下为原创"}],verticalList:[{value:5,label:"极好｜同领域匹配度81%－100％"},{value:4,label:"良好｜同领域匹配度 61%-80%"},{value:3,label:"一般｜同领域匹配度 41%-60%"},{value:2,label:"较低｜同领域匹配度21%-40%"},{value:1,label:"极低｜同领域匹配度20%以下"}],healthList:[{value:5,label:"极好｜不健康内容占比0%-4%"},{value:4,label:"良好｜不健康内容占比5%-10%"},{value:3,label:"一般｜不健康内容占比11%-20%"},{value:2,label:"较低｜不健康内容占比21%-50%"},{value:1,label:"极低｜不健康内容占比51%以上"}],accountMap:{1:"个人账号",2:"自媒体",3:"媒体",4:"企业",5:"营销号",6:"纯明星",7:"政府",8:"其他机构"},whiteList:null,logList:null,ability1:null,ability2:null,clevel:0}},computed:l()({},Object(s.b)(["email"])),props:["data","callback"],methods:{_parseTime:function(e,t){return F(e,t)},showEditDialog:function(){var e=this,t={url:"/Channel/editChannelWhiteList",params:{wid:this.data.id,channel_history:this.data.channel_history,username:this.email,cip:230}};this.$store.dispatch("editWhiteList",t).then(function(t){t.code&&200==Number(t.code)&&(e.whiteList=t.result&&t.result.whiteList[0],e.whiteList.origin_degree=e.whiteList.origin_degree||"",e.whiteList.vertical_degree=e.whiteList.vertical_degree||"",e.whiteList.health_degree=e.whiteList.health_degree||"",e.new_v=1==e.whiteList.new_v,e.frequency_loss=1==e.whiteList.frequency_loss,e.mcn=1==e.whiteList.mcn,e.account_type=e.whiteList.account_type&&e.whiteList.account_type.toString().split(",")||[],e.logList=t.result&&t.result.logList,e.dialogVisible=!0)});var a={url:"/feature/getFeature",params:{input:this.data.uid,flag:1,username:this.email,cip:230}};this.$store.dispatch("GetFeature",a).then(function(t){if(t.code&&200==Number(t.code)){var a=t.result;e.ability1=a.ability1,e.ability2=a.ability2,e.clevel=a.acount_status&&(0===a.acount_status.user_C_level?0:a.acount_status.user_C_level||"未知"),e.dialogVisible=!0}})},deleteEvent:function(){var e=this;this.delBtnPopover=!1;var t={url:"/Channel/delChannelWhiteList",params:{wid:this.data.id,channel_history:this.data.channel_history,username:this.email,cip:230}};this.$store.dispatch("delWhiteList",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:3e3})})},updateEvent:function(){var e=this;this.updatePopover=!1;var t=this.account_type.join(",");if(t)if(this.whiteList.origin_degree)if(this.whiteList.vertical_degree)if(this.whiteList.health_degree){var a={url:"/Channel/editSaveChannelWhiteList",params:{wid:this.data.id,channel_history:this.data.channel_history,health_degree:this.whiteList.health_degree,vertical_degree:this.whiteList.vertical_degree,origin_degree:this.whiteList.origin_degree,new_v:Number(this.new_v),frequency_loss:Number(this.frequency_loss),mcn:Number(this.mcn),account_type:t||0,mark:1,username:this.email,cip:230}};this.$store.dispatch("updateWhiteList",a).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"请选择健康度！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择垂直度！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择原创度！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择账号类型！",type:"error",duration:3e3})},setEvent:function(){var e=this;this.addBtnPopover=!1;var t={url:"/channel/setCWLStatus",params:{wid:this.data.id,channel_history:this.data.channel_history,status:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"上线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"上线失败!",type:"error",duration:0})})},setStatusEvent:function(e,t){var a=this;this.$confirm("确定"+t+"?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){a.setStatusAction(e,t)}).catch(function(){a.$message({type:"info",message:"取消操作"})})},setStatusAction:function(e,t){var a=this,i={url:"/channel/setCWLStatus",params:{wid:this.data.id,channel_history:this.data.channel_history,status:e,username:this.email,cip:230}};this.$store.dispatch("SetWhiteList",i).then(function(e){e.code&&200==Number(e.code)?(Object(R.Message)({showClose:!0,message:t+"成功！",type:"success",duration:1e3}),a.dialogVisible=!1,a.callback()):Object(R.Message)({showClose:!0,message:e.msg||t+"失败!",type:"error",duration:0})})},formartAbility:function(e){if(!e||e.length<1)return"暂无";for(var t=[],a=0;a<e.length;a++)t.push(e[a].display_name);return t.join("、")},getFLevel:function(e){var t="未知";switch(e){case"F0":t="F0";break;case"F1":t="F1";break;case"F2":t="F2";break;default:t="未知"}return t}},watch:{data:function(){}}},wt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"【"+e.data.channel_name+"】频道 白名单编辑",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.whiteList?a("el-form",{attrs:{inline:!0,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"作者UID","label-width":"64px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.whiteList.uid))])],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名","label-width":"54px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.whiteList.username||"未知"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"认证信息","label-width":"70px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.whiteList.verified_reason||"暂无"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"一级能力标签","label-width":"100px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.formartAbility(e.ability1)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"二级能力标签","label-width":"100px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.formartAbility(e.ability2)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"F层级","label-width":"52px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.getFLevel(e.whiteList.F_level)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"C层级","label-width":"52px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.clevel))])],1),e._v(" "),a("el-form-item",{attrs:{label:"添加时间","label-width":"70px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._parseTime(e.whiteList.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"table-title left"},[e._v("【操作区域】")])]),e._v(" "),e.whiteList?a("el-form",{attrs:{"label-position":"left",size:"small"}},[a("el-form-item",[a("el-checkbox",{model:{value:e.new_v,callback:function(t){e.new_v=t},expression:"new_v"}},[e._v("是新拓展的大V")]),e._v(" "),a("el-checkbox",{model:{value:e.frequency_loss,callback:function(t){e.frequency_loss=t},expression:"frequency_loss"}},[e._v("有降频流失的风险")]),e._v(" "),a("el-checkbox",{model:{value:e.mcn,callback:function(t){e.mcn=t},expression:"mcn"}},[e._v("已加入MCN机构")])],1),e._v(" "),a("el-form-item",{attrs:{label:"账号类型（可多选）",required:""}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.account_type,callback:function(t){e.account_type=t},expression:"account_type"}},e._l(e.accountMap,function(t,i){return a("el-checkbox",{key:i,staticStyle:{"margin-left":"10px"},attrs:{label:i}},[e._v(e._s(t))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"原创度","label-width":"70px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择原创度",clearable:""},model:{value:e.whiteList.origin_degree,callback:function(t){e.$set(e.whiteList,"origin_degree",t)},expression:"whiteList.origin_degree"}},e._l(e.originList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，原创和搬运内容的比例）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"垂直度","label-width":"70px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择垂直度",clearable:""},model:{value:e.whiteList.vertical_degree,callback:function(t){e.$set(e.whiteList,"vertical_degree",t)},expression:"whiteList.vertical_degree"}},e._l(e.verticalList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，其内容是否跟当前垂直领域一致）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"健康度","label-width":"70px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择健康度",clearable:""},model:{value:e.whiteList.health_degree,callback:function(t){e.$set(e.whiteList,"health_degree",t)},expression:"whiteList.health_degree"}},e._l(e.healthList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量发布微博中，违规、不良或广告营销信息的比例）")])],1)],1):e._e(),e._v(" "),e.logList?a("el-row",[a("div",{staticClass:"table-title left"},[e._v("【操作日志】")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.logList,"max-height":"200",border:"",stripe:""}},[a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"content",label:"内容"}})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存当前修改？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary",size:"small"}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.showEditDialog()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]),e._v(" "),1!==e.data.status?a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"success",icon:"el-icon-check",plain:"",size:"mini",title:"上线"},on:{click:function(t){e.setStatusEvent(1,"上线")}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("上线")])]):e._e(),e._v(" "),0!==e.data.status?a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"},on:{click:function(t){e.setStatusEvent(0,"下线")}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("下线")])]):e._e(),e._v(" "),-1!==e.data.status?a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning",icon:"el-icon-remove-outline",plain:"",size:"mini",title:"拉黑"},on:{click:function(t){e.setStatusEvent(-1,"拉黑")}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("拉黑")])]):e._e()],1):e._e()},staticRenderFns:[]};var xt=a("VU/8")(yt,wt,!1,function(e){a("x8nZ")},"data-v-6464dd9e",null).exports,kt=a("uXZL"),Ct=a.n(kt),Tt={props:["example","showexample"],data:function(){return{loading:!1,excelData:{header:null,results:null},isShowExample:!0}},methods:{generateDate:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.$emit("on-selected-file",this.excelData)},handleDrop:function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;if(1===t.length){var a=t[0];a&&this.readerData(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){document.getElementById("excel-upload-input").click()},handkeFileChange:function(e){var t=e.target.files[0];t&&this.readerData(t)},readerData:function(e){var t=this,a=new FileReader;a.onload=function(e){var a=e.target.result,i=t.fixdata(a),n=Ct.a.read(btoa(i),{type:"base64"}),l=n.SheetNames[0],s=n.Sheets[l],o=t.get_header_row(s),r=Ct.a.utils.sheet_to_json(s);t.generateDate({header:o,results:r})},a.readAsArrayBuffer(e)},fixdata:function(e){for(var t="",a=0,i=10240;a<e.byteLength/i;++a)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*i,a*i+i)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*i)))},get_header_row:function(e){var t=[],a=Ct.a.utils.decode_range(e["!ref"]),i=void 0,n=a.s.r;for(i=a.s.c;i<=a.e.c;++i){var l=e[Ct.a.utils.encode_cell({c:i,r:n})],s="UNKNOWN "+i;l&&l.t&&(s=Ct.a.utils.format_cell(l)),t.push(s)}return t}},created:function(){this.isShowExample=this.showexample||!1},watch:{example:function(){}}},St={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{staticClass:"c-hide",attrs:{id:"excel-upload-input",type:"file",accept:".xlsx, .xls"},on:{change:e.handkeFileChange}}),e._v(" "),a("div",{attrs:{id:"drop"},on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v("\n    将excel文件拖拽到此处或\n    "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v("浏览")])],1),e._v(" "),a("div",[a("a",{staticClass:"example-title",on:{click:function(t){e.isShowExample=!e.isShowExample}}},[e._v(e._s(e.isShowExample?"隐藏":"查看")+"样例")]),e._v(" "),a("span",{staticClass:"excel-upload-tips"},[e._v("（excel表格中，一条数据一行，请不要整行留空）")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowExample,expression:"isShowExample"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.example.tableData,border:"",size:"mini"}},e._l(e.example.tableHeader,function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})}))],1)])},staticRenderFns:[]};var Lt=a("VU/8")(Tt,St,!1,function(e){a("HKJv")},"data-v-4fc5878d",null).exports,At={name:"uploadExcel",components:{UploadExcelComponent:Lt},props:["callback","initdata","example","showexample"],data:function(){return{tableData:[],tableHeader:[]}},methods:{selected:function(e){this.tableData=e.results,this.tableHeader=e.header,this.callback(e.results)}},watch:{initdata:function(){this.initdata||(this.tableData=[],this.tableHeader=[])},example:function(){}}},It={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{example:e.example,showexample:e.showexample},on:{"on-selected-file":e.selected}}),e._v(" "),a("el-table",{staticClass:"tableBox",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","max-height":"200"}},e._l(e.tableHeader,function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),e._v(" "),e.tableData&&e.tableData.length>0?a("div",{staticClass:"excel-upload-tips"},[e._v("共上传 "),a("span",[e._v(e._s(e.tableData.length))]),e._v(" 条数据")]):e._e()],1)},staticRenderFns:[]};var Dt=[{email:"hongjiao"},{email:"likun1"},{email:"yaxing1"},{email:"weifei3"},{email:"wangyang29"},{email:"juanmin"}],$t={name:"whiteList",components:{Auth:x,OperateWhite:xt,UploadExcel:a("VU/8")(At,It,!1,function(e){a("DND2")},"data-v-378df4ce",null).exports},data:function(){return{readonly:!0,whiteList:null,isUpload:!1,downloadAllLoading:!1,downloadCurLoading:!1,dialogVisible:!1,defaultChannel:"",formInline:{ckey:"all:all",uid:"",mark:"",flevel:"",curPage:1,count:10,total:0},formWhite:{uid:"",ckey:"",popover:!1,status:1},formUpload:{ckey:"",uids:null},new_v:!1,frequency_loss:!1,mcn:!1,account_type:[],checkList:["1"],health_degree:"",vertical_degree:"",origin_degree:"",originList:[{value:"5",label:"极好｜81%－100%为原创"},{value:"4",label:"良好｜61%－80%为原创"},{value:"3",label:"一般｜41％－60%为原创"},{value:"2",label:"较低｜21%－40%为原创"},{value:"1",label:"极低｜20%以下为原创"}],verticalList:[{value:"5",label:"极好｜同领域匹配度81%－100％"},{value:"4",label:"良好｜同领域匹配度 61%-80%"},{value:"3",label:"一般｜同领域匹配度 41%-60%"},{value:"2",label:"较低｜同领域匹配度21%-40%"},{value:"1",label:"极低｜同领域匹配度20%以下"}],healthList:[{value:5,label:"极好｜不健康内容占比0%-4%"},{value:4,label:"良好｜不健康内容占比5%-10%"},{value:3,label:"一般｜不健康内容占比11%-20%"},{value:2,label:"较低｜不健康内容占比21%-50%"},{value:1,label:"极低｜不健康内容占比51%以上"}],markList:[{value:"",label:"所有状态"},{value:"1",label:"已编辑"},{value:"0",label:"未编辑"}],flevelList:[{value:"",label:"全部"},{value:"F0",label:"F0"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"NULL",label:"其他"}],accountMap:{1:"个人账号",2:"自媒体",3:"媒体",4:"企业",5:"营销号",6:"纯明星",7:"政府",8:"其他机构"},uploadExample:{tableHeader:["uid"],tableData:[{uid:"2675435273"}]}}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&(this.setChannelList(),this.setReadonly())},setReadonly:function(){var e=this;Dt.map(function(t,a){e.email&&e.email==t.email&&(e.readonly=!1)})},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},onSearch:function(){var e=this,t=this.formInline.ckey.split(":"),a={cid:t[1],channel_history:t[0],uid:this.formInline.uid,username:this.email,page:this.formInline.curPage,count:this.formInline.count,cip:230};""!=this.formInline.mark&&(a.mark=this.formInline.mark),""!=this.formInline.flevel&&(a.F_level=this.formInline.flevel);var i={url:"/channel/getWhiteListByCid",params:a};this.$store.dispatch("GetWhiteList",i).then(function(t){t.code&&200==Number(t.code)&&(e.whiteList=t.result)})},showAdd:function(){this.formWhite.ckey="all:all"==this.formInline.ckey?this.defaultChannel:this.formInline.ckey,this.dialogVisible=!0},addEvent:function(){var e=this;this.formWhite.popover=!1;var t=this.account_type.join(",");if(this.formWhite.ckey)if(this.formWhite.uid)if(t)if(this.origin_degree)if(this.vertical_degree)if(this.health_degree){this.dialogVisible=!1;var a=this.formWhite.ckey.split(":"),i={url:"/channel/addChannelWhiteList",params:{status:this.formWhite.status,cid:a[1],channel_history:a[0],uid:this.formWhite.uid,health_degree:this.health_degree,vertical_degree:this.vertical_degree,origin_degree:this.origin_degree,new_v:Number(this.new_v),frequency_loss:Number(this.frequency_loss),mcn:Number(this.mcn),account_type:t||0,mark:1,username:this.email,cip:230}};this.$store.dispatch("AddWhiteList",i).then(function(){e.cancelEvent(),e.onSearch()})}else Object(R.Message)({showClose:!0,message:"请选择健康度！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请选择垂直度！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请选择原创度！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请选择账号类型！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请输入作者UID！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:3e3})},cancelEvent:function(){this.dialogVisible=!1,this.formWhite={uid:"",ckey:"",popover:!1,status:1},this.health_degree="",this.vertical_degree="",this.origin_degree="",this.new_v=!1,this.frequency_loss=!1,this.mcn=!1,this.account_type=[]},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.curPage=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)},showUpload:function(){this.formUpload.ckey="all:all"==this.formInline.ckey?this.defaultChannel:this.formInline.ckey,this.isUpload=!0},addsEvent:function(){var e=this;this.formUpload.ckey?this.formUpload.uids?this.$confirm("将批量添加用户到白名单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setUids()}).catch(function(){e.$message({type:"info",message:"已取消批量添加！"})}):Object(R.Message)({showClose:!0,message:"请导入用户uid！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},cancelUpload:function(){this.isUpload=!1,this.formUpload.uids=null},setUids:function(){var e=this,t=this.formUpload.ckey.split(":"),a=new URLSearchParams;a.append("cid",t[1]),a.append("channel_history",t[0]),a.append("channel_whitelist",A()(this.formUpload.uids)),a.append("username",this.email),a.append("cip",230);var i={url:"/channel/importChannelWhiteList",params:a};this.$store.dispatch("AddChannelUids",i).then(function(t){if(t.code&&200==Number(t.code)){var a=t.msg||"success";Object(R.Message)({showClose:!0,message:a,type:"success",duration:0}),e.onSearch()}else Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:0})})},getExcel:function(e){this.formUpload.uids=e},handleDownloadAll:function(){var e=this;this.downloadAllLoading=!0;var t=this.formInline.ckey.split(":"),a={cid:t[1],channel_history:t[0],uid:this.formInline.uid,username:this.email,page:1,count:this.formInline.total,cip:230};""!=this.formInline.mark&&(a.mark=this.formInline.mark),""!=this.formInline.flevel&&(a.F_level=this.formInline.flevel);var i={url:"/channel/getWhiteListByCid",params:a};this.$store.dispatch("GetWhiteList",i).then(function(t){t.code&&200==Number(t.code)?e.downloadAll(t.result.data):e.downloadAllLoading=!1})},downloadAll:function(e){var t=this;a.e(0).then(a.bind(null,"zWO4")).then(function(a){var i=t.formatJson(["index","uid","channel_name","mark","origin_degree","vertical_degree","health_degree","modify_time","operator","status","new_v","frequency_loss","mcn","account_type"],e);a.export_json_to_excel(["序号","uid","频道","编辑状态","原创度","垂直度","健康度","操作时间","操作人","状态","新拓展的大V","有降频流失的风险","已加入MCN机构","账号类型"],i,"whitelist"),t.downloadAllLoading=!1})},handleDownloadCur:function(){var e=this;this.downloadCurLoading=!0,a.e(0).then(a.bind(null,"zWO4")).then(function(t){var a=e.whiteList.data,i=e.formatJson(["index","uid","username","channel_name","mark","origin_degree","vertical_degree","health_degree","modify_time","operator","status","new_v","frequency_loss","mcn","account_type"],a);t.export_json_to_excel(["序号","uid","昵称","频道","编辑状态","原创度","垂直度","健康度","操作时间","操作人","状态","新拓展的大V","有降频流失的风险","已加入MCN机构","账号类型"],i,"whitelist"),e.downloadCurLoading=!1})},formatJson:function(e,t){var a=this;return t.map(function(t,i){return e.map(function(e){return"index"===e?i+1:"mark"===e?1===t[e]?"已编辑":"未编辑":"status"===e?a.getStatusCN(t[e]):"origin_degree"===e||"vertical_degree"===e||"health_degree"===e?t[e]&&t[e]+"级"||"暂无":"new_v"===e||"frequency_loss"===e||"mcn"===e?1===t[e]?"是":"否":"account_type"===e?a.getAccountList(t[e]):t[e]})})},getAccountList:function(e){if(0==e)return"暂无";for(var t=e.toString().split(","),a=[],i=0;i<t.length;i++)a.push(this.accountMap[t[i]]);return a.join("、")},getStatusCN:function(e){var t="已下线";return 1===e?t="在线上":-1===e&&(t="已拉黑"),t}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},channelList:function(){this.channelList&&this.channelList.length>0&&(this.defaultChannel=this.channelList[0].channel_history+":"+this.channelList[0].cid,this.formInline.ckey=this.defaultChannel,this.onSearch())},whiteList:function(){this.whiteList&&(this.formInline.total=this.whiteList.total||0)}}},Mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{staticClass:"clearfix",attrs:{span:24}},[a("h6",{staticClass:"pane-title left"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("用户管理")]),e._v(" "),a("a",{staticClass:"help-doc-tips left",attrs:{href:"/hot/#/channel/user/whitelist/document",target:"_blank"}},[a("i",{staticClass:"el-icon-question"}),e._v("\n        用户分级标准与编辑手册\n      ")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.channelList&&e.channelList.length>0?a("el-col",{attrs:{span:24}},[e.channelList?a("el-form",{attrs:{inline:"",model:e.formInline,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"UID","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入作者UID",clearable:""},model:{value:e.formInline.uid,callback:function(t){e.$set(e.formInline,"uid",t)},expression:"formInline.uid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编辑状态","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择编辑状态"},model:{value:e.formInline.mark,callback:function(t){e.$set(e.formInline,"mark",t)},expression:"formInline.mark"}},e._l(e.markList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"F层级","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择F层级"},model:{value:e.formInline.flevel,callback:function(t){e.$set(e.formInline,"flevel",t)},expression:"formInline.flevel"}},e._l(e.flevelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"选择频道","label-width":"70px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},model:{value:e.formInline.ckey,callback:function(t){e.$set(e.formInline,"ckey",t)},expression:"formInline.ckey"}},[a("el-option",{attrs:{label:"所有频道",value:"all:all"}}),e._v(" "),e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):null==e.channelApi?a("el-col",{attrs:{span:24}},[e._v("\n      loading……\n    ")]):"response failed"==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"网络请求异常，请重试~",type:"warning","show-icon":"",closable:!1}})],1):1==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"暂无有权限的频道",type:"warning","show-icon":"",closable:!1}})],1):e._e()],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{attrs:{title:"Excel批量操作",visible:e.isUpload},on:{"update:visible":function(t){e.isUpload=t}}},[a("el-form",{attrs:{model:e.formUpload}},[e.channelList?a("el-form-item",{attrs:{label:"选择频道","label-width":"90px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:e.formUpload.ckey,callback:function(t){e.$set(e.formUpload,"ckey",t)},expression:"formUpload.ckey"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1):e._e(),e._v(" "),a("el-form-item",[a("upload-excel",{attrs:{callback:e.getExcel,initdata:e.formUpload.uids,example:e.uploadExample,showexample:!0}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addsEvent()}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelUpload()}}},[e._v("取 消")])],1)],1),e._v(" "),e.channelList&&e.channelList.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加用户")]),e._v(" "),e.readonly?e._e():a("el-button",{staticClass:"left",attrs:{type:"primary",size:"mini",title:"Excel批量导入uid"},on:{click:function(t){e.showUpload()}}},[a("span",[e._v("uid导入")])]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"danger",size:"mini",title:"批量导出全部 Excel",loading:e.downloadAllLoading},on:{click:e.handleDownloadAll}},[a("span",[e._v("导出全部")])]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"warning",size:"mini",title:"批量导出当前页数据 Excel",loading:e.downloadCurLoading},on:{click:e.handleDownloadCur}},[a("span",[e._v("导出当前页")])])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加用户账号",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formWhite,"label-position":"left"}},[a("el-form-item",{attrs:{label:"用户类型","label-width":"80px",required:""}},[a("el-radio-group",{model:{value:e.formWhite.status,callback:function(t){e.$set(e.formWhite,"status",t)},expression:"formWhite.status"}},[a("el-radio",{attrs:{label:1}},[e._v("白名单")]),e._v(" "),a("el-radio",{attrs:{label:-1}},[e._v("黑名单")])],1)],1),e._v(" "),e.channelList?a("el-form-item",{attrs:{label:"选择频道","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item",attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:e.formWhite.ckey,callback:function(t){e.$set(e.formWhite,"ckey",t)},expression:"formWhite.ckey"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"作者UID","label-width":"80px",required:""}},[a("el-input",{staticClass:"white-item",attrs:{"auto-complete":"off",placeholder:"请输入作者UID",clearable:""},model:{value:e.formWhite.uid,callback:function(t){e.$set(e.formWhite,"uid",t)},expression:"formWhite.uid"}})],1),e._v(" "),a("el-form-item",[a("el-checkbox",{model:{value:e.new_v,callback:function(t){e.new_v=t},expression:"new_v"}},[e._v("是新拓展的大V")]),e._v(" "),a("el-checkbox",{model:{value:e.frequency_loss,callback:function(t){e.frequency_loss=t},expression:"frequency_loss"}},[e._v("有降频流失的风险")]),e._v(" "),a("el-checkbox",{model:{value:e.mcn,callback:function(t){e.mcn=t},expression:"mcn"}},[e._v("已加入MCN机构")])],1),e._v(" "),a("el-form-item",{attrs:{label:"账号类型（可多选）",required:""}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.account_type,callback:function(t){e.account_type=t},expression:"account_type"}},e._l(e.accountMap,function(t,i){return a("el-checkbox",{key:i,staticStyle:{"margin-left":"10px"},attrs:{label:i}},[e._v(e._s(t))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"原创度","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择原创度",clearable:""},model:{value:e.origin_degree,callback:function(t){e.origin_degree=t},expression:"origin_degree"}},e._l(e.originList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，原创和搬运内容的比例）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"垂直度","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择垂直度",clearable:""},model:{value:e.vertical_degree,callback:function(t){e.vertical_degree=t},expression:"vertical_degree"}},e._l(e.verticalList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，其内容是否跟当前垂直领域一致）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"健康度","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择健康度",clearable:""},model:{value:e.health_degree,callback:function(t){e.health_degree=t},expression:"health_degree"}},e._l(e.healthList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量发布微博中，违规、不良或广告营销信息的比例）")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formWhite.popover,callback:function(t){e.$set(e.formWhite,"popover",t)},expression:"formWhite.popover"}},[a("p",[e._v("确定添加到用户列表？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formWhite.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.whiteList&&e.whiteList.data?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteList.data,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",width:"120",align:"left",prop:"uid",label:"uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.uid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"username",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{class:t.row.username?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.username||"未知"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"channel_name",label:"频道"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",align:"left",prop:"",label:"编辑状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:1==t.row.mark?"":"errorBtn"},[e._v(e._s(1==t.row.mark?"已编辑":"未编辑"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"原创度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.origin_degree?a("span",[e._v(e._s(t.row.origin_degree)+"级")]):a("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"垂直度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.vertical_degree?a("span",[e._v(e._s(t.row.vertical_degree)+"级")]):a("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"健康度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.health_degree?a("span",[e._v(e._s(t.row.health_degree)+"级")]):a("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",align:"left",prop:"modify_time",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getStatusCN(t.row.status)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-white",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.curPage,"page-sizes":[5,10,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ft=a("VU/8")($t,Mt,!1,function(e){a("DIVH")},"data-v-1c7ce3ec",null).exports,Et=a("2+0d"),jt=a.n(Et),zt={name:"whiteListDocument",data:function(){return{title:"用户分级标准与编辑手册",img_doc:jt.a,originData:[{degree:"原创度1级",value:"极低",info:"直发微博原创比例20%以下"},{degree:"原创度2级",value:"较低",info:"直发微博原创比例21%-40%"},{degree:"原创度3级",value:"一般",info:"直发微博原创比例41%-60%"},{degree:"原创度4级",value:"良好",info:"直发微博原创比例61%-80%"},{degree:"原创度5级",value:"极好",info:"直发微博原创比例81%-100%"}],verticalhData:[{degree:"垂直度1级",value:"极低",info:"同领域匹配度20%以下"},{degree:"垂直度2级",value:"较低",info:"同领域匹配度21%-40%"},{degree:"垂直度3级",value:"一般",info:"同领域匹配度41%-60%"},{degree:"垂直度4级",value:"良好",info:"同领域匹配度61%-80%"},{degree:"垂直度5级",value:"极好",info:"同领域匹配度81%-100%"}],healthData:[{degree:"健康度1级",value:"极低",info:"不健康内容占比51%以上"},{degree:"健康度2级",value:"较低",info:"不健康内容占比21%-50%"},{degree:"健康度3级",value:"一般",info:"不健康内容占比11%-20%"},{degree:"健康度4级",value:"良好",info:"不健康内容占比5%-10%"},{degree:"健康度5级",value:"极好",info:"不健康内容占比0%-4%"}]}}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-row",{staticClass:"pane-title-wrap",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:23}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document",staticStyle:{"margin-right":"6px"}}),e._v(e._s(e.title))])])],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{"font-size":"14px",color:"#606266"},attrs:{span:23}},[a("p",[e._v("白名单管理后台，是提供给各垂直领域业务方，针对头部白名单账号的管理与运营工具，同时应用于热门流的作者特征挖掘。")]),a("br"),e._v(" "),a("p",[e._v("目标是促进用户可持续的稳定的生产健康的专业的内容，将流量资源计算分配给更有成长性和收益性的作者，提升兴趣消费的效率与规模。")]),a("br"),e._v(" "),a("h3",[e._v("管理后台功能概括：")]),e._v(" "),a("ol",{staticStyle:{"padding-left":"20px"}},[a("li",[e._v("更新领域白名单，包括：增加单个UID、批量上传UID、将UID从白名单中踢出（下线）。")]),e._v(" "),a("li",[e._v("筛选白名单，包括：编辑状态、F层级")]),e._v(" "),a("li",[e._v("编辑单个白名单账号，包括：\n          "),a("ul",{staticStyle:{"padding-left":"20px"}},[a("li",[e._v("针对受保护账号的选项：是否为新拓展大V，是否为有降频流失风险，是否已签MCN机构；")]),e._v(" "),a("li",[e._v("选择账号类型：个人账号、自媒体、媒体、企业、营销号；依次的示例账号分别为：@李永乐老师 、@互联网的那点事、@人民日报、@爱奇艺、@娱乐搜查")]),e._v(" "),a("li",[e._v("选择账号级别：用户生产内容的原创度、垂直度、健康度。分五个档。运营根据经验、观察、理解进行判断选择。")])])])]),e._v(" "),a("p",[e._v("以下针对用户分级标准做详细说明和举例。")]),a("br"),e._v(" "),a("p",[e._v("头部用户分级评估，是从内容生产角度衡量头部用户生产状况的一个划分机制。")]),a("br"),e._v(" "),a("p",[e._v("考量的维度包括三项：原创度、垂直度、健康度。会从人工和机器两个方向进行交叉评估。")]),a("br"),a("br"),e._v(" "),a("p",[e._v("三个维度的指标定义和分级说明如下")]),a("br"),e._v(" "),a("h3",[e._v("1. 原创度")]),a("br"),e._v(" "),a("h4",{staticStyle:{"padding-left":"20px"}},[e._v("1）定义")]),a("br"),e._v(" "),a("div",{staticStyle:{"padding-left":"40px"}},[a("p",[e._v("鼓励作者原创，优先在微博平台发布。")]),a("br"),e._v(" "),a("p",[e._v("考量直发（区分于转发）微博中，原创和搬运内容的比例。")]),a("br")]),e._v(" "),a("h4",{staticStyle:{"padding-left":"20px"}},[e._v("2）分级")]),a("br"),e._v(" "),a("div",{staticStyle:{"padding-left":"40px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.originData,border:"",stripe:"","show-header":!1}},[a("el-table-column",{attrs:{align:"left",prop:"degree"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"value"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"info"}})],1)],1),e._v(" "),a("h3",[e._v("2. 垂直度")]),a("br"),e._v(" "),a("h4",{staticStyle:{"padding-left":"20px"}},[e._v("1）定义")]),a("br"),e._v(" "),a("div",{staticStyle:{"padding-left":"40px"}},[a("p",[e._v("鼓励作者专注于某专业领域持续深度创作内容。")]),a("br"),e._v(" "),a("p",[e._v("考量直发微博中，其内容是否跟当前垂直领域一致。")]),a("br")]),e._v(" "),a("h4",{staticStyle:{"padding-left":"20px"}},[e._v("2）分级")]),a("br"),e._v(" "),a("div",{staticStyle:{"padding-left":"40px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.verticalhData,border:"",stripe:"","show-header":!1}},[a("el-table-column",{attrs:{align:"left",prop:"degree"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"value"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"info"}})],1)],1),e._v(" "),a("h3",[e._v("3. 健康度")]),a("br"),e._v(" "),a("h4",{staticStyle:{"padding-left":"20px"}},[e._v("1）定义")]),a("br"),e._v(" "),a("div",{staticStyle:{"padding-left":"40px"}},[a("p",[e._v("鼓励作者健康言论，命中垃圾、营销、广告等关键词、敏感词、链接等扣分。")]),a("br"),e._v(" "),a("p",[e._v("考量发布微博中，违规、不良或广告营销信息的比例。")]),a("br")]),e._v(" "),a("h4",{staticStyle:{"padding-left":"20px"}},[e._v("2）分级")]),a("br"),e._v(" "),a("div",{staticStyle:{"padding-left":"40px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.healthData,border:"",stripe:"","show-header":!1}},[a("el-table-column",{attrs:{align:"left",prop:"degree"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"value"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"info"}})],1)],1),e._v(" "),a("br"),e._v(" "),a("h3",[e._v("举例：")]),a("br"),e._v(" "),a("p",[e._v("以下示例仅供参考。")]),a("br"),e._v(" "),a("div",{staticStyle:{width:"100%",overflow:"auto"}},[a("img",{staticStyle:{width:"650px","border-radius":"5px","box-shadow":"0 2px 12px 0 rgba(0,0,0,.1)",border:"1px solid #ebeef5"},attrs:{title:"用户白名单编辑示例",alt:"用户白名单编辑示例",src:e.img_doc}})])])],1)],1)},staticRenderFns:[]};var Ot=a("VU/8")(zt,Nt,!1,function(e){a("U0w1")},"data-v-56833d16",null).exports,Pt={name:"shieldPage",components:{Auth:x},data:function(){return{cname:"",formInline:{popover:!1,content:""}}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{onSubmit:function(){if(this.formInline.popover=!1,this.formInline.content){var e={url:"http://i.hot.weibo.com/3/admin/apiAgent",param:{staff:this.email,source:"990750541234567890",action:"off",flow:3,type:1,data:this.formInline.content}},t={data:A()(e),cip:230};this.$store.dispatch("ShieldMaterial",t)}else Object(R.Message)({showClose:!0,message:"请输入mid！",type:"error",duration:1e3})}},watch:{pageAuth:function(){}}},Ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-goods hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("屏蔽操作")])])],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{model:e.formInline}},[a("el-form-item",{attrs:{label:"输入物料",required:""}},[a("el-input",{staticStyle:{"max-width":"400px"},attrs:{type:"textarea",placeholder:"输入mid 多个值,分隔",autosize:{minRows:2},clearable:!0},model:{value:e.formInline.content,callback:function(t){e.$set(e.formInline,"content",t)},expression:"formInline.content"}})],1),e._v(" "),a("el-form-item",[a("el-popover",{ref:"popover",attrs:{placement:"right",width:"200"},model:{value:e.formInline.popover,callback:function(t){e.$set(e.formInline,"popover",t)},expression:"formInline.popover"}},[a("p",[e._v("确定屏蔽以上物料？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formInline.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.onSubmit()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"success",size:"small"}},[e._v("屏蔽物料")])],1)],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Vt=a("VU/8")(Pt,Ut,!1,function(e){a("wTmW")},"data-v-f9d10782",null).exports,Bt={name:"shieldPage",components:{Auth:x},data:function(){return{typeList:{uid:"UID",url:"URL",keyword:"关键字"},placeholder:{uid:"请输入uid 多个值英文逗号（,）分割",url:"请输入url 多个值英文逗号（,）分割",keyword:"请输入关键字 多个值同组内英文逗号（,）分割 不同组 | 分割"},formInline:{type:"uid",value:""},channel_id:""}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.setChannelList()},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},blackEvent:function(e){var t=this;if(this.formInline.value){var a="channel_black_content_add"===e?"确定屏蔽物料？":"确定取消屏蔽？";this.$confirm(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){t.blackAction(e)}).catch(function(){t.$message({type:"info",message:"已取消操作"})})}else Object(R.Message)({showClose:!0,message:this.placeholder[this.formInline.type],type:"error",duration:3e3})},blackAction:function(e){var t={url:"http://10.75.28.123:7020/channel_business",param:{staff:this.email,type:e,value:A()(this.formInline)}};A()(t);console.log(t)},clearEvent:function(){var e=this;this.channel_id?this.$confirm("确定清除历史库？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.clearAction()}).catch(function(){e.$message({type:"info",message:"已取消操作"})}):Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:3e3})},clearAction:function(){var e=this,t={url:"http://172.16.140.62:9999/clean",param:{staff:this.email,channel_id:this.channel_id}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){e.$alert("正在清除历史库，请稍后验证！","",{confirmButtonText:"确定",callback:function(t){e.channel_id=""}})}).catch(function(e){Object(R.Message)({showClose:!0,message:"操作失败",type:"error",duration:3e3})})},isValid:function(e){return 0===e.channel_history}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},Rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-goods hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("屏蔽操作（活动频道）")])])],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"formInline",staticClass:"pane-form",attrs:{model:e.formInline,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"选择频道",required:""}},[a("el-select",{attrs:{placeholder:"请选择选择频道"},model:{value:e.channel_id,callback:function(t){e.channel_id=t},expression:"channel_id"}},e._l(e.channelList,function(t,i){return e.isValid(t)?a("el-option",{key:i,attrs:{label:t.channel_name,value:t.channel_id}}):e._e()}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.clearEvent()}}},[e._v("清除历史库")])],1)],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Wt=a("VU/8")(Bt,Rt,!1,function(e){a("aogA")},"data-v-d8823a28",null).exports,qt={name:"setTopPage",components:{Auth:x},data:function(){return{cname:"",formInline:{category:"",data:""}}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.setChannelList()},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},setTopEvent:function(){var e=this;this.formInline.category?this.formInline.data?this.$confirm("确定上榜?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setTopAction()}).catch(function(){e.$message({type:"info",message:"已取消上榜操作"})}):Object(R.Message)({showClose:!0,message:"请输入mid！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},setTopAction:function(){var e={url:"http://i.hot.weibo.com/3/admin/categoryTop",param:l()({staff:this.email,source:"990750541234567890",type:"set"},this.formInline)},t={data:A()(e),cip:230};this.$store.dispatch("ProxyGet",t).then(function(e){e&&"success"===e.data?Object(R.Message)({showClose:!0,message:"上榜成功",type:"success",duration:1e3}):Object(R.Message)({showClose:!0,message:e&&e.info||"上榜失败",type:"error",duration:0})})},deleteTopEvent:function(){var e=this;this.formInline.category?this.$confirm("确定下榜?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.deleteTopAction()}).catch(function(){e.$message({type:"info",message:"已取消下榜操作"})}):Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},deleteTopAction:function(){var e={url:"http://i.hot.weibo.com/3/admin/categoryTop",param:{staff:this.email,source:"990750541234567890",type:"set",category:this.formInline.category}},t={data:A()(e),cip:230};this.$store.dispatch("ProxyGet",t).then(function(e){e&&"success"===e.data?Object(R.Message)({showClose:!0,message:"下榜成功",type:"success",duration:1e3}):Object(R.Message)({showClose:!0,message:e&&e.info||"下榜失败",type:"error",duration:0})})},isValid:function(e){return Date.now()<=1e3*e.end_time||1===e.channel_history}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},channelList:function(){}}},Gt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-goods hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("置顶操作")])])],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[e.channelList&&e.channelList.length>0?a("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[a("el-form",{ref:"formInline",staticClass:"pane-form",attrs:{model:e.formInline,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"选择频道",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},model:{value:e.formInline.category,callback:function(t){e.$set(e.formInline,"category",t)},expression:"formInline.category"}},e._l(e.channelList,function(t,i){return e.isValid(t)?a("el-option",{key:i,attrs:{label:t.channel_name,value:t.channel_id}}):e._e()}))],1),e._v(" "),a("el-form-item",{attrs:{label:"微博mid",prop:"mid"}},[a("el-input",{attrs:{"suffix-icon":"el-icon-edit",placeholder:"请输入mid",clearable:""},model:{value:e.formInline.data,callback:function(t){e.$set(e.formInline,"data",t)},expression:"formInline.data"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.setTopEvent()}}},[e._v("上榜")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){e.deleteTopEvent()}}},[e._v("下榜")])],1)],1)],1):null==e.channelApi?a("el-col",{attrs:{span:24}},[e._v("\n            loading……\n        ")]):"response failed"==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"网络请求异常，请重试~",type:"warning","show-icon":"",closable:!1}})],1):1==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"暂无有权限的频道",type:"warning","show-icon":"",closable:!1}})],1):e._e()],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ht=a("VU/8")(qt,Gt,!1,function(e){a("H0O9")},"data-v-a8062d52",null).exports,Kt={name:"operateWhite",data:function(){return{delPopover:!1,delBtnPopover:!1,addBtnPopover:!1}},computed:l()({},Object(s.b)(["email"])),props:["data","kapi","callback"],methods:{deleteEvent:function(){var e=this;this.delPopover=!1,this.delBtnPopover=!1;var t={url:this.kapi.del,params:{kid:this.data.id,channel_history:this.data.channel_history,username:this.email,cip:230}};this.$store.dispatch("delKeywordList",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:3e3})})},setEvent:function(){var e=this;this.addBtnPopover=!1;var t={url:this.kapi.set,params:{kid:this.data.id,channel_history:this.data.channel_history,status:1,username:this.email,cip:230}};this.$store.dispatch("SetKeywordList",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"上线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"上线失败!",type:"error",duration:3e3})})}},watch:{data:function(){}}},Jt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data&&0===e.data.status?a("div",[a("el-popover",{ref:"popAddBtn",attrs:{placement:"top",width:"200"},model:{value:e.addBtnPopover,callback:function(t){e.addBtnPopover=t},expression:"addBtnPopover"}},[a("p",[e._v("确定上线【"+e._s(e.data.keyword)+"】关键词？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.addBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.setEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popAddBtn",arg:"popAddBtn"}],attrs:{type:"success",icon:"el-icon-check",plain:"",size:"mini",title:"上线"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("上线")])])],1):e.data&&1===e.data.status?a("div",[a("el-popover",{ref:"popDelBtn",attrs:{placement:"top",width:"200"},model:{value:e.delBtnPopover,callback:function(t){e.delBtnPopover=t},expression:"delBtnPopover"}},[a("p",[e._v("确定下线【"+e._s(e.data.keyword)+"】关键词？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popDelBtn",arg:"popDelBtn"}],attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("下线")])])],1):e._e()},staticRenderFns:[]};var Qt=a("VU/8")(Kt,Jt,!1,function(e){a("8FNN")},"data-v-7e21a360",null).exports,Yt={name:"keywordList",components:{Auth:x,OperateKeyword:Qt},data:function(){return{title:"关键词白名单",kapi:{get:"/channel/getKeywordByCid",add:"/channel/addChannelKeyword",set:"/channel/setCKeyStatus",del:"/channel/delChannelKeyword"},dialogVisible:!1,defaultChannel:"",formInline:{ckey:"all:all",keyword:"",curPage:1,count:5,total:0},formWord:{keyword:"",ckey:"",popover:!1},keywordList:null}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.setChannelList()},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},onSearch:function(){var e=this,t=this.formInline.ckey.split(":"),a={url:this.kapi.get,params:{cid:t[1],channel_history:t[0],keyword:this.formInline.keyword,username:this.email,page:this.formInline.curPage,count:this.formInline.count,cip:230}};this.$store.dispatch("GetKeywordList",a).then(function(t){e.keywordList=t})},showAdd:function(){this.formWord.ckey="all:all"==this.formInline.ckey?this.defaultChannel:this.formInline.ckey,this.dialogVisible=!0},addEvent:function(){var e=this;if(this.formWord.popover=!1,this.formWord.ckey)if(this.formWord.keyword){this.dialogVisible=!1;var t=this.formWord.ckey.split(":"),a={url:this.kapi.add,params:{cid:t[1],channel_history:t[0],keyword:this.formWord.keyword,username:this.email,cip:230}};this.$store.dispatch("AddKeywordList",a).then(function(){e.cancelEvent(),e.onSearch()})}else Object(R.Message)({showClose:!0,message:"请输入关键词！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formWord={keyword:"",ckey:""}},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.curPage=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},channelList:function(){this.channelList&&this.channelList.length>0&&(this.defaultChannel=this.channelList[0].channel_history+":"+this.channelList[0].cid,this.onSearch())},keywordList:function(){this.keywordList&&(this.formInline.total=this.keywordList.total)}}},Zt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v(e._s(e.title||"关键词"))])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.channelList&&e.channelList.length>0?a("el-col",{attrs:{span:24}},[e.channelList?a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{attrs:{placeholder:"请输入关键词",clearable:""},model:{value:e.formInline.keyword,callback:function(t){e.$set(e.formInline,"keyword",t)},expression:"formInline.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择频道"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},model:{value:e.formInline.ckey,callback:function(t){e.$set(e.formInline,"ckey",t)},expression:"formInline.ckey"}},[a("el-option",{attrs:{label:"所有频道",value:"all:all"}}),e._v(" "),e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):null==e.channelApi?a("el-col",{attrs:{span:24}},[e._v("\n      loading……\n    ")]):"response failed"==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"网络请求异常，请重试~",type:"warning","show-icon":"",closable:!1}})],1):1==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"暂无有权限的频道",type:"warning","show-icon":"",closable:!1}})],1):e._e()],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.channelList&&e.channelList.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加关键词")])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加关键词",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formWord,size:"small"}},[e.channelList?a("el-form-item",{attrs:{label:"选择频道","label-width":"120px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:e.formWord.ckey,callback:function(t){e.$set(e.formWord,"ckey",t)},expression:"formWord.ckey"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"关键词","label-width":"120px",required:""}},[a("el-input",{staticStyle:{"max-width":"194px"},attrs:{"auto-complete":"off",placeholder:"请输入关键词",clearable:""},model:{value:e.formWord.keyword,callback:function(t){e.$set(e.formWord,"keyword",t)},expression:"formWord.keyword"}})],1)],1),e._v(" "),a("div",{staticStyle:{color:"#e6a23c","text-align":"right"}},[e._v("此处只支持单个添加，一次性添加多个请联系\n          "),a("a",{staticClass:"link-btn",attrs:{title:"QQ联系"}},[e._v("@侯雷平（QQ：35675340）、 @李坤（QQ：46163936）")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formWord.popover,callback:function(t){e.$set(e.formWord,"popover",t)},expression:"formWord.popover"}},[a("p",[e._v("确定添加关键词？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formWord.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.keywordList&&e.keywordList.data?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.keywordList.data,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",align:"left",prop:"keyword",label:"关键词"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"channel_name",label:"频道"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"添加时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.status?"在线上":"已下线"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-keyword",{attrs:{data:t.row,kapi:e.kapi,callback:e.onSearch}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.curPage,"page-sizes":[5,10,20,30,40],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Xt=a("VU/8")(Yt,Zt,!1,function(e){a("CWta")},"data-v-45d42e0f",null).exports,ea={name:"keywordList",components:{Auth:x,OperateKeyword:Qt},data:function(){return{title:"关键词黑名单",kapi:{get:"/channel/getKeyBlackByCid",add:"/channel/addCKeyBlack",set:"/channel/setCKeyBlackStatus",del:"/channel/delCKeyBlack"},dialogVisible:!1,defaultChannel:"",formInline:{ckey:"all:all",keyword:"",curPage:1,count:5,total:0},formWord:{keyword:"",ckey:"",popover:!1},keywordList:null}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.setChannelList()},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},onSearch:function(){var e=this,t=this.formInline.ckey.split(":"),a={url:this.kapi.get,params:{cid:t[1],channel_history:t[0],keyword:this.formInline.keyword,username:this.email,page:this.formInline.curPage,count:this.formInline.count,cip:230}};this.$store.dispatch("GetKeywordList",a).then(function(t){e.keywordList=t})},showAdd:function(){this.formWord.ckey="all:all"==this.formInline.ckey?this.defaultChannel:this.formInline.ckey,this.dialogVisible=!0},addEvent:function(){var e=this;if(this.formWord.popover=!1,this.formWord.ckey)if(this.formWord.keyword){this.dialogVisible=!1;var t=this.formWord.ckey.split(":"),a={url:this.kapi.add,params:{cid:t[1],channel_history:t[0],keyword:this.formWord.keyword,username:this.email,cip:230}};this.$store.dispatch("AddKeywordList",a).then(function(){e.cancelEvent(),e.onSearch()})}else Object(R.Message)({showClose:!0,message:"请输入关键词！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formWord={keyword:"",ckey:""}},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.curPage=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},channelList:function(){this.channelList&&this.channelList.length>0&&(this.defaultChannel=this.channelList[0].channel_history+":"+this.channelList[0].cid,this.onSearch())},keywordList:function(){this.keywordList&&(this.formInline.total=this.keywordList.total)}}},ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v(e._s(e.title||"关键词"))])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.channelList&&e.channelList.length>0?a("el-col",{attrs:{span:24}},[e.channelList?a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{attrs:{placeholder:"请输入关键词",clearable:""},model:{value:e.formInline.keyword,callback:function(t){e.$set(e.formInline,"keyword",t)},expression:"formInline.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择频道"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},model:{value:e.formInline.ckey,callback:function(t){e.$set(e.formInline,"ckey",t)},expression:"formInline.ckey"}},[a("el-option",{attrs:{label:"所有频道",value:"all:all"}}),e._v(" "),e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):null==e.channelApi?a("el-col",{attrs:{span:24}},[e._v("\n      loading……\n    ")]):"response failed"==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"网络请求异常，请重试~",type:"warning","show-icon":"",closable:!1}})],1):1==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"暂无有权限的频道",type:"warning","show-icon":"",closable:!1}})],1):e._e()],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.channelList&&e.channelList.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加关键词")])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加关键词",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formWord,size:"small"}},[e.channelList?a("el-form-item",{attrs:{label:"选择频道","label-width":"120px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:e.formWord.ckey,callback:function(t){e.$set(e.formWord,"ckey",t)},expression:"formWord.ckey"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"关键词","label-width":"120px",required:""}},[a("el-input",{staticStyle:{"max-width":"194px"},attrs:{"auto-complete":"off",placeholder:"请输入关键词",clearable:""},model:{value:e.formWord.keyword,callback:function(t){e.$set(e.formWord,"keyword",t)},expression:"formWord.keyword"}})],1)],1),e._v(" "),a("div",{staticStyle:{color:"#e6a23c","text-align":"right"}},[e._v("此处只支持单个添加，一次性添加多个请联系\n          "),a("a",{staticClass:"link-btn",attrs:{title:"QQ联系"}},[e._v("@侯雷平（QQ：35675340）、 @李坤（QQ：46163936）")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formWord.popover,callback:function(t){e.$set(e.formWord,"popover",t)},expression:"formWord.popover"}},[a("p",[e._v("确定添加关键词？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formWord.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.keywordList&&e.keywordList.data?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.keywordList.data,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",align:"left",prop:"keyword",label:"关键词"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"channel_name",label:"频道"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"添加时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.status?"在线上":"已下线"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-keyword",{attrs:{data:t.row,kapi:e.kapi,callback:e.onSearch}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.curPage,"page-sizes":[5,10,20,30,40],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var aa=a("VU/8")(ea,ta,!1,function(e){a("jGJR")},"data-v-2cc63a47",null).exports,ia={name:"operateURL",data:function(){return{delPopover:!1,delBtnPopover:!1,addBtnPopover:!1}},computed:l()({},Object(s.b)(["email"])),props:["data","kapi","callback"],methods:{deleteEvent:function(){var e=this;this.delPopover=!1,this.delBtnPopover=!1;var t={url:this.kapi.del,params:{kid:this.data.id,channel_history:this.data.channel_history,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:3e3})})},setEvent:function(){var e=this;this.addBtnPopover=!1;var t={url:this.kapi.set,params:{kid:this.data.id,channel_history:this.data.channel_history,status:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"上线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"上线失败!",type:"error",duration:3e3})})}},watch:{data:function(){}}},na={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data&&0===e.data.status?a("div",[a("el-popover",{ref:"popAddBtn",attrs:{placement:"top",width:"200"},model:{value:e.addBtnPopover,callback:function(t){e.addBtnPopover=t},expression:"addBtnPopover"}},[a("p",[e._v("确定上线URL？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.addBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.setEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popAddBtn",arg:"popAddBtn"}],attrs:{type:"success",icon:"el-icon-check",plain:"",size:"mini",title:"上线"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("上线")])])],1):e.data&&1===e.data.status?a("div",[a("el-popover",{ref:"popDelBtn",attrs:{placement:"top",width:"200"},model:{value:e.delBtnPopover,callback:function(t){e.delBtnPopover=t},expression:"delBtnPopover"}},[a("p",[e._v("确定下线URL？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popDelBtn",arg:"popDelBtn"}],attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("下线")])])],1):e._e()},staticRenderFns:[]};var la={name:"urlList",components:{Auth:x,OperateLink:a("VU/8")(ia,na,!1,function(e){a("8En6")},"data-v-68b94018",null).exports},data:function(){return{title:"URL黑名单（活动频道）",kapi:{get:"/channel/getUrlBlackByCid",add:"/channel/addCUrlBlack",set:"/channel/setCUrlBlackStatus",del:"/channel/delCUrlBlack"},dialogVisible:!1,defaultChannel:"",formInline:{ckey:"all:all",url:"",curPage:1,count:5,total:0},formAdd:{url:"",ckey:"",popover:!1},urlList:null}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.setChannelList()},setChannelList:function(){var e={url:"/channel/getAuthChannelList",params:{username:this.email,cip:230}};this.$store.dispatch("SetChannelList",e)},onSearch:function(){var e=this,t=this.formInline.ckey.split(":"),a={url:this.kapi.get,params:{cid:t[1],channel_history:t[0],url:this.formInline.url,username:this.email,page:this.formInline.curPage,count:this.formInline.count,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){e.urlList=t&&t.result})},showAdd:function(){this.formAdd.ckey="all:all"==this.formInline.ckey?this.defaultChannel:this.formInline.ckey,this.dialogVisible=!0},addEvent:function(){var e=this;if(this.formAdd.popover=!1,this.formAdd.ckey)if(this.formAdd.url){this.dialogVisible=!1;var t=this.formAdd.ckey.split(":"),a={url:this.kapi.add,params:{cid:t[1],channel_history:t[0],url:this.formAdd.url,username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){if(t.code&&200==Number(t.code)){var a=t.msg||"success";Object(R.Message)({showClose:!0,message:a,type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()}else Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"请输入URL！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formAdd={url:"",ckey:""}},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.curPage=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)},isValid:function(e){return 0===e.channel_history}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},channelList:function(){this.channelList&&this.channelList.length>0&&(this.defaultChannel=this.channelList[0].channel_history+":"+this.channelList[0].cid,this.onSearch())},urlList:function(){this.urlList&&(this.formInline.total=this.urlList.total)}}},sa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v(e._s(e.title))])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.channelList&&e.channelList.length>0?a("el-col",{attrs:{span:24}},[e.channelList?a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{attrs:{placeholder:"请输入URL",clearable:""},model:{value:e.formInline.url,callback:function(t){e.$set(e.formInline,"url",t)},expression:"formInline.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择频道"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},model:{value:e.formInline.ckey,callback:function(t){e.$set(e.formInline,"ckey",t)},expression:"formInline.ckey"}},[a("el-option",{attrs:{label:"所有频道",value:"all:all"}}),e._v(" "),e._l(e.channelList,function(t,i){return e.isValid(t)?a("el-option",{key:i,attrs:{label:t.channel_name,value:t.channel_history+":"+t.cid}}):e._e()})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):null==e.channelApi?a("el-col",{attrs:{span:24}},[e._v("\n      loading……\n    ")]):"response failed"==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"网络请求异常，请重试~",type:"warning","show-icon":"",closable:!1}})],1):1==e.channelApi?a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:"暂无有权限的频道",type:"warning","show-icon":"",closable:!1}})],1):e._e()],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.channelList&&e.channelList.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加URL")])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加URL",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formAdd,size:"small"}},[e.channelList?a("el-form-item",{attrs:{label:"选择频道","label-width":"120px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:e.formAdd.ckey,callback:function(t){e.$set(e.formAdd,"ckey",t)},expression:"formAdd.ckey"}},e._l(e.channelList,function(t,i){return e.isValid(t)?a("el-option",{key:i,attrs:{label:t.channel_name,value:t.channel_history+":"+t.cid}}):e._e()}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"URL","label-width":"120px",required:""}},[a("el-input",{staticStyle:{"max-width":"400px"},attrs:{type:"textarea",autosize:{minRows:4},"auto-complete":"off",placeholder:"请输入URL",clearable:""},model:{value:e.formAdd.url,callback:function(t){e.$set(e.formAdd,"url",t)},expression:"formAdd.url"}})],1)],1),e._v(" "),a("div",{staticStyle:{color:"#e6a23c","text-align":"right"}},[e._v("此处只支持单个添加，一次性添加多个请联系\n          "),a("a",{staticClass:"link-btn",attrs:{title:"QQ联系"}},[e._v("@侯雷平（QQ：35675340）、 @李坤（QQ：46163936）")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formAdd.popover,callback:function(t){e.$set(e.formAdd,"popover",t)},expression:"formAdd.popover"}},[a("p",[e._v("确定添加URL？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formAdd.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.urlList&&e.urlList.data?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.urlList.data,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",align:"left",prop:"url",label:"URL"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"channel_name",label:"频道"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"添加时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.status?"在线上":"已下线"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-link",{attrs:{data:t.row,kapi:e.kapi,callback:e.onSearch}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.curPage,"page-sizes":[5,10,20,30,40],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var oa=a("VU/8")(la,sa,!1,function(e){a("EKro")},"data-v-1b78fc1d",null).exports,ra=a("woOf"),ca=a.n(ra),da={name:"operateWhite",data:function(){return{dialogVisible:!1,delBtnPopover:!1,updatePopover:!1,list:null}},computed:l()({},Object(s.b)(["email"])),props:["data","callback"],methods:{init:function(){this.list=this.data&&ca()({},this.data)||""},_parseTime:function(e,t){return F(e,t)},deleteEvent:function(){var e=this;this.delBtnPopover=!1;var t={url:"/Channel/",params:{channel_id:this.list.channel_id,channel_history:this.list.channel_history,username:this.email,cip:230}};this.$store.dispatch("",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"删除成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"删除失败!",type:"error",duration:3e3})})},updateEvent:function(){var e=this;this.updatePopover=!1;var t={url:"/channel/editChannel",params:{cid:this.list.cid,channel_history:this.list.channel_history,channel_name_tw:this.list.channel_name_tw,channel_name_us:this.list.channel_name_us,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(e.dialogVisible=!1,e.callback(),Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3})):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:0})})},cancelEvent:function(){this.dialogVisible=!1,this.init()}},created:function(){this.init()},watch:{data:function(){this.init()}}},ma={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"编辑【"+e.list.channel_name+"】频道",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{size:"small"}},[a("el-form-item",{attrs:{label:"频道名称","label-width":"120px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入频道名称"},model:{value:e.list.channel_name,callback:function(t){e.$set(e.list,"channel_name",t)},expression:"list.channel_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"频道id","label-width":"120px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入频道id"},model:{value:e.list.channel_id,callback:function(t){e.$set(e.list,"channel_id",t)},expression:"list.channel_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入频道英文名称",clearable:""},model:{value:e.list.channel_name_us,callback:function(t){e.$set(e.list,"channel_name_us",t)},expression:"list.channel_name_us"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"繁体名称","label-width":"120px"}},[a("el-input",{attrs:{placeholder:"请输入频道繁体名称",clearable:""},model:{value:e.list.channel_name_tw,callback:function(t){e.$set(e.list,"channel_name_tw",t)},expression:"list.channel_name_tw"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存当前修改？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary"}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.dialogVisible=!0}}},[a("span",{staticClass:"hidden-xs-only"})])],1):e._e()},staticRenderFns:[]};var ua={name:"channelList",components:{Auth:x,OperateChannel:a("VU/8")(da,ma,!1,function(e){a("Hydg")},"data-v-6dfc5be5",null).exports},data:function(){return{dialogVisible:!1,formInline:{cname:""},channelData:[]}},computed:l()({},Object(s.b)(["pageAuth","email","allChannel"])),methods:{init:function(){1===this.pageAuth&&this.onSearch()},onSearch:function(){var e=this,t={url:"/channel_auth/getChannelList",params:{channel_name:this.formInline.cname,username:this.email,cip:230}};this.$store.dispatch("GetChannelList",t).then(function(t){t.code&&200==Number(t.code)&&(e.channelData=t.result)})},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},pa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("频道列表")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入频道名称",clearable:""},model:{value:e.formInline.cname,callback:function(t){e.$set(e.formInline,"cname",t)},expression:"formInline.cname"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.channelData?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelData,"max-height":"600",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",align:"center",prop:"channel_name",label:"频道名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.channel_history?a("a",[e._v(e._s(t.row.channel_name))]):a("a",{staticClass:"link-btn",attrs:{target:"_blank",href:"/hot/#/hotcenter/channel/material?cname="+t.row.channel_name+"&containerid=102803_ctg1_"+t.row.channel_id+"_-_ctg1_"+t.row.channel_id}},[e._v(e._s(t.row.channel_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channel_id",label:"频道id"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.channel_id||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channel_name_tw",label:"繁体名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.channel_name_tw||"暂无"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channel_name_us",label:"英文名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.channel_name_us||"暂无"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channel_history",label:"频道属性"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1===t.row.channel_history?"历史频道":"自定义频道"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channel_type",label:"频道类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.channel_type||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"200",align:"center",prop:"",label:"运营时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stat_time?a("span",[e._v(e._s(e._parseTime(t.row.stat_time,"{y}-{m}-{d}"))+" 到 "+e._s(e._parseTime(t.row.end_time,"{y}-{m}-{d}")))]):a("span",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"source",label:"内容来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.source||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tag_id",label:"分类选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.tag_id||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"order",label:"排序方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.order||"--"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-channel",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch}})]}}])})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ha=a("VU/8")(ua,pa,!1,function(e){a("qk78")},"data-v-671511fc",null).exports,fa={name:"operateWhite",data:function(){return{dialogVisible:!1,delBtnPopover:!1,updatePopover:!1,selectedChannel:[],tempval:[]}},computed:l()({},Object(s.b)(["email","allChannel"])),props:["data","callback","defaultChannel"],methods:{init:function(){var e=this.data.channellist;if(e&&e.length>0){this.selectedChannel=[];for(var t=0;t<e.length;t++)this.selectedChannel.push(e[t].channel_history+":"+e[t].cid);this.tempval=this.selectedChannel}},_parseTime:function(e,t){return F(e,t)},deleteEvent:function(){var e=this;this.delBtnPopover=!1;var t={url:"/channel_auth/delCAuthByUnames",params:{userids:this.data.username,username:this.email,cip:230}};this.$store.dispatch("DeleteUserChannels",t).then(function(t){t.code&&200==Number(t.code)?(e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"删除失败!",type:"error",duration:3e3})})},updateEvent:function(){var e=this;this.updatePopover=!1;var t={url:"/channel_auth/setCAuthByuserid",params:{channellist:this.selectedChannel.join(","),userid:this.data.username,username:this.email,cip:230}};this.$store.dispatch("SetUserChannels",t).then(function(t){t.code&&200==Number(t.code)?e.callback():Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:3e3})})},cancelEvent:function(){this.dialogVisible=!1,this.selectedChannel=this.tempval}},created:function(){this.init()},watch:{data:function(){this.init()}}},_a={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"【"+e.data.username+"】用户 频道授权",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{size:"small"}},[a("el-form-item",{attrs:{label:"用户名","label-width":"120px"}},[a("el-input",{attrs:{disabled:""},model:{value:e.data.username,callback:function(t){e.$set(e.data,"username",t)},expression:"data.username"}})],1),e._v(" "),e.allChannel?a("el-form-item",{attrs:{label:"授权频道","label-width":"120px",required:""}},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择频道",clearable:""},model:{value:e.selectedChannel,callback:function(t){e.selectedChannel=t},expression:"selectedChannel"}},e._l(e.allChannel,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存当前修改？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary",size:"small"}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-popover",{ref:"popDelBtn",attrs:{placement:"top",width:"200"},model:{value:e.delBtnPopover,callback:function(t){e.delBtnPopover=t},expression:"delBtnPopover"}},[a("p",[e._v("确定删除所有授权频道？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.dialogVisible=!0}}},[a("span",{staticClass:"hidden-xs-only"})]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popDelBtn",arg:"popDelBtn"}],staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"删除授权用户"}},[a("span",{staticClass:"hidden-xs-only"})])],1):e._e()},staticRenderFns:[]};var ga={name:"accredit",components:{Auth:x,OperateAuthuser:a("VU/8")(fa,_a,!1,function(e){a("lZVA")},"data-v-83004f6c",null).exports},data:function(){return{userlist:null,dialogVisible:!1,defaultChannel:"",formInline:{ckey:"all:all",userid:"",curPage:1,count:5,total:0},formWhite:{userids:"",ckey:"",popover:!1}}},computed:l()({},Object(s.b)(["pageAuth","email","allChannel"])),methods:{init:function(){1===this.pageAuth&&this.getAllChannel()},getAllChannel:function(){var e={url:"/channel_auth/getChannelList",params:{channel_name:"",username:this.email,cip:230}};this.$store.dispatch("GetAllChannel",e)},onSearch:function(){var e=this,t=this.formInline.ckey.split(":"),a={url:"/channel_auth/getChannelAuthByCid",params:{cid:t[1],channel_history:t[0],userid:this.formInline.userid,username:this.email,page:this.formInline.curPage,count:this.formInline.count,cip:230}};this.$store.dispatch("GetChannelUsers",a).then(function(t){t.code&&200==Number(t.code)&&(e.userlist=t.result,e.userlist&&(e.formInline.total=e.userlist.total||0),Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}))})},showAdd:function(){this.formWhite.ckey="all:all"==this.formInline.ckey?this.defaultChannel:this.formInline.ckey,this.dialogVisible=!0},addEvent:function(){var e=this;if(this.formWhite.popover=!1,this.formWhite.ckey)if(this.formWhite.userids){this.dialogVisible=!1;var t={url:"/channel_auth/addChannelAuth",params:{channellist:this.formWhite.ckey,userids:this.formWhite.userids,username:this.email,cip:230}};this.$store.dispatch("AddChannelUsers",t).then(function(t){t.code&&200==Number(t.code)?(e.cancelEvent(),e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"请输入用户邮箱前缀！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择频道！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formWhite={userids:"",ckey:""}},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.curPage=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)},getChannelName:function(e){var t="暂无";if(e&&e.length>0){for(var a=[],i=0;i<e.length;i++)a.push(e[i].channel_name);t=a.join("、")}return t}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},allChannel:function(){this.allChannel&&this.allChannel.length>0&&(this.defaultChannel=this.allChannel[0].channel_history+":"+this.allChannel[0].cid,this.onSearch())}}},va={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("频道授权")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.allChannel&&e.allChannel.length>0?a("el-col",{attrs:{span:24}},[e.allChannel?a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"邮箱前缀"}},[a("el-input",{attrs:{placeholder:"请输入用户邮箱前缀",clearable:""},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid",t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择频道"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道"},model:{value:e.formInline.ckey,callback:function(t){e.$set(e.formInline,"ckey",t)},expression:"formInline.ckey"}},[a("el-option",{attrs:{label:"所有频道",value:"all:all"}}),e._v(" "),e._l(e.allChannel,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):e._e()],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.allChannel&&e.allChannel.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加授权用户")])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加授权用户",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formWhite,size:"small"}},[e.allChannel?a("el-form-item",{attrs:{label:"选择频道","label-width":"120px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择频道",clearable:""},model:{value:e.formWhite.ckey,callback:function(t){e.$set(e.formWhite,"ckey",t)},expression:"formWhite.ckey"}},e._l(e.allChannel,function(e,t){return a("el-option",{key:t,attrs:{label:e.channel_name,value:e.channel_history+":"+e.cid}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"邮箱前缀","label-width":"120px",required:""}},[a("el-input",{staticStyle:{"max-width":"194px"},attrs:{type:"textarea","auto-complete":"off",placeholder:"输入用户邮箱前缀 多个值,分隔",clearable:""},model:{value:e.formWhite.userids,callback:function(t){e.$set(e.formWhite,"userids",t)},expression:"formWhite.userids"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formWhite.popover,callback:function(t){e.$set(e.formWhite,"popover",t)},expression:"formWhite.popover"}},[a("p",[e._v("确定授权？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formWhite.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.userlist&&e.userlist.data?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userlist.data,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"left",prop:"username",label:"用户"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"channellist",label:"频道"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getChannelName(t.row.channellist)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",align:"left",prop:"modify_time",label:"授权时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-authuser",{attrs:{data:t.row,"default-channel":e.defaultChannel,callback:e.onSearch}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.curPage,"page-sizes":[5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ba=a("VU/8")(ga,va,!1,function(e){a("MSv8")},"data-v-6a36e230",null).exports,ya=a("lHA8"),wa=a.n(ya),xa=a("Gu7T"),ka=a.n(xa),Ca={name:"operateWhite",data:function(){return{dialogVisible:!1,prefix:[]}},computed:l()({},Object(s.b)(["email"])),props:["data","apiconf","callback"],methods:{init:function(){if(this.prefix=[],this.data.account&&this.data.account.length>0)for(var e=0;e<this.data.account.length;e++)this.prefix.push(this.data.account[e].email_prefix)},setEvent:function(){var e=this,t={url:this.apiconf.setRoleAccount,params:{role_id:this.data.id,prefix:this.prefix.join(","),username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:0})})},cancelEvent:function(){this.dialogVisible=!1,this.init()}},created:function(){this.init()},watch:{data:function(){this.init()}}},Ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"编辑角色用户",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-input",{staticStyle:{"max-width":"400px"},attrs:{disabled:!0},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱前缀"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"输入用户邮箱前缀"},model:{value:e.prefix,callback:function(t){e.prefix=t},expression:"prefix"}},e._l(e.data.account,function(e){return a("el-option",{key:e.id,attrs:{label:e.email_prefix,value:e.email_prefix}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",title:"编辑",size:"small"},on:{click:function(t){e.setEvent()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("保存")])])],1)],1),e._v(" "),0===e.data.role_type?a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",title:"编辑",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]):1===e.data.role_type?a("el-button",{attrs:{type:"primary",title:"查看详情",size:"small"}},[a("a",{attrs:{href:"/hot/#/category/center/show",target:"_blank"}},[e._v("查看详情")])]):e._e()],1):e._e()},staticRenderFns:[]},Sa={name:"roleList",components:{Auth:x,OperateRole:a("VU/8")(Ca,Ta,!1,null,null,null).exports},data:function(){return{apiConf:{getRole:"/role/getRoleList",getUserRole:"/role/getUserRole",addRoleAccount:"/role/addRoleAccount",setRoleAccount:"/role/setRoleAccount",addFieldAccount:"/field/addFieldAccount"},dialogVisible:!1,cateList:null,roleList:null,formAdd:{role_id:1,field_id:"",prefix:""},hasRoleAuth:!1,tips:"loading..."}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var e=this,t={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&t.result&&t.result.permission.indexOf(1)>-1?(e.hasRoleAuth=!0,e.cateList=t.result&&t.result.field||[],e.getRoleList()):e.tips="暂无角色管理页面权限"},function(t){e.tips="接口异常"})},getRoleList:function(){var e=this,t={url:this.apiConf.getRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?e.roleList=t.result:Object(R.Message)({showClose:!0,message:t.msg||"查询失败!",type:"error",duration:3e3})})},addEvent:function(){3!=this.formAdd.role_id||this.formAdd.field_id?this.formAdd.prefix?3==this.formAdd.role_id?this.addFieldAccount():this.addRoleAccount():Object(R.Message)({showClose:!0,message:"请输入用户邮箱前缀！",type:"error",duration:3e3}):Object(R.Message)({showClose:!0,message:"请选择领域业务方！",type:"error",duration:3e3})},addRoleAccount:function(){var e=this,t={url:this.apiConf.addRoleAccount,params:{role_id:this.formAdd.role_id,prefix:this.formAdd.prefix,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"添加成功!",type:"success",duration:1e3}),e.dialogVisible=!1,e.cancelEvent(),e.getRoleList()):Object(R.Message)({showClose:!0,message:t.msg||"添加失败!",type:"error",duration:0})})},addFieldAccount:function(){var e=this,t={url:this.apiConf.addFieldAccount,params:{field_id:this.formAdd.field_id,prefix:this.formAdd.prefix,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"添加成功!",type:"success",duration:1e3}),e.dialogVisible=!1,e.cancelEvent(),e.getRoleList()):Object(R.Message)({showClose:!0,message:t.msg||"添加失败!",type:"error",duration:0})})},cancelEvent:function(){this.dialogVisible=!1,this.$refs.formAdd.resetFields()},formatEmailList:function(e){if(e&&e.length>0){for(var t=[],a=0;a<e.length;a++)t.push(e[a].email_prefix);return[].concat(ka()(new wa.a(t))).join("、")}return"暂无"}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("角色管理")])])],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[e.hasRoleAuth?a("el-col",{attrs:{span:24}},[a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加角色用户")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加角色用户",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formAdd",attrs:{model:e.formAdd,size:"small"}},[e.roleList?a("el-form-item",{attrs:{prop:"role_id",label:"选择角色","label-width":"120px",required:""}},[a("el-select",{attrs:{placeholder:"请选择角色",filterable:""},model:{value:e.formAdd.role_id,callback:function(t){e.$set(e.formAdd,"role_id",t)},expression:"formAdd.role_id"}},e._l(e.roleList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),e.cateList&&3==e.formAdd.role_id?a("el-form-item",{attrs:{prop:"field_id",label:"选择领域","label-width":"120px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择领域"},model:{value:e.formAdd.field_id,callback:function(t){e.$set(e.formAdd,"field_id",t)},expression:"formAdd.field_id"}},e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{prop:"prefix",label:"邮箱前缀","label-width":"120px",required:""}},[a("el-input",{staticStyle:{"max-width":"400px"},attrs:{placeholder:"输入用户邮箱前缀"},model:{value:e.formAdd.prefix,callback:function(t){e.$set(e.formAdd,"prefix",t)},expression:"formAdd.prefix"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addEvent()}}},[e._v("添 加")])],1)],1),e._v(" "),e.roleList?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleList,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",align:"left",prop:"name",label:"角色"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"permission",label:"权限"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.permission,function(t,i){return a("span",{key:i},[e._v("☑"+e._s(t.permission_name)),a("br")])})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"account",label:"邮箱"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatEmailList(t.row.account)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-role",{attrs:{data:t.row,callback:e.getRoleList,apiconf:e.apiConf}})]}}])})],1)],1):e._e()],1):a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Aa=a("VU/8")(Sa,La,!1,function(e){a("WwMY")},"data-v-7611bf80",null).exports,Ia={name:"operateWhite",data:function(){return{dialogVisible:!1,prefix:[]}},computed:l()({},Object(s.b)(["email"])),props:["data","apiconf","callback"],methods:{init:function(){if(this.prefix=[],this.data.account&&this.data.account.length>0)for(var e=0;e<this.data.account.length;e++)this.prefix.push(this.data.account[e].email_prefix)},setEvent:function(){var e=this,t={url:this.apiconf.setFieldAccount,params:{field_id:this.data.id,prefix:this.prefix.join(","),username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:0})})},cancelEvent:function(){this.dialogVisible=!1,this.init()}},created:function(){this.init()},watch:{data:function(){this.init()}}},Da={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"编辑角色用户",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"领域业务方"}},[a("el-input",{staticStyle:{"max-width":"400px"},attrs:{disabled:!0},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱前缀"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"输入用户邮箱前缀"},model:{value:e.prefix,callback:function(t){e.prefix=t},expression:"prefix"}},e._l(e.data.account,function(e){return a("el-option",{key:e.id,attrs:{label:e.email_prefix,value:e.email_prefix}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",title:"编辑",size:"small"},on:{click:function(t){e.setEvent()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("保存")])])],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",title:"编辑",size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])])],1):e._e()},staticRenderFns:[]},$a={name:"categoryList",components:{Auth:x,OperateField:a("VU/8")(Ia,Da,!1,null,null,null).exports},data:function(){return{apiConf:{getField:"/field/getFieldList",getUserRole:"/role/getUserRole",addFieldAccount:"/field/addFieldAccount",setFieldAccount:"/field/setFieldAccount"},dialogVisible:!1,cateList:null,dataList:null,formInline:{field_id:"",prefix:""},formAdd:{field_id:"",prefix:""},tips:"loading..."}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var e=this,t={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&t.result&&t.result.permission.indexOf(4)>-1?(e.cateList=t.result&&t.result.field||[],e.cateList.length>0?(e.formAdd.field_id=e.cateList[0].id,e.onSearch()):e.tips="暂无可授权的领域"):e.tips="暂无可授权的领域"},function(t){e.tips="接口异常"})},onSearch:function(){var e=this,t={url:this.apiConf.getField,params:l()({},this.formInline,{username:this.email,cip:230})};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"success!",type:"success",duration:1e3}),e.dataList=t.result)})},addEvent:function(){var e=this;if(this.formAdd.prefix){var t={url:this.apiConf.addFieldAccount,params:l()({},this.formAdd,{username:this.email,cip:230})};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"添加成功!",type:"success",duration:1e3}),e.dialogVisible=!1,e.cancelEvent(),e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"添加失败!",type:"error",duration:0})})}else Object(R.Message)({showClose:!0,message:"请输入用户邮箱前缀！",type:"error",duration:3e3})},cancelEvent:function(){this.dialogVisible=!1,this.$refs.formAdd.resetFields()},formatEmailList:function(e){if(e&&e.length>0){for(var t=[],a=0;a<e.length;a++)t.push(e[a].email_prefix);return t.join("、")}return"暂无"},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},Ma={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("领域授权")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.cateList&&e.cateList.length>0?a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:"",model:e.formInline,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"邮箱前缀","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入邮箱前缀",clearable:""},model:{value:e.formInline.prefix,callback:function(t){e.$set(e.formInline,"prefix",t)},expression:"formInline.prefix"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择领域","label-width":"70px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择领域"},model:{value:e.formInline.field_id,callback:function(t){e.$set(e.formInline,"field_id",t)},expression:"formInline.field_id"}},[a("el-option",{attrs:{label:"所有领域",value:""}}),e._v(" "),e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1)],1):a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1),e._v(" "),e.cateList&&e.cateList.length>0?a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加领域业务方")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加领域业务方",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formAdd",attrs:{model:e.formAdd,size:"small"}},[e.cateList?a("el-form-item",{attrs:{prop:"field_id",label:"选择领域","label-width":"120px",required:""}},[a("el-select",{attrs:{placeholder:"请选择领域",filterable:""},model:{value:e.formAdd.field_id,callback:function(t){e.$set(e.formAdd,"field_id",t)},expression:"formAdd.field_id"}},e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{prop:"prefix",label:"邮箱前缀","label-width":"120px",required:""}},[a("el-input",{staticStyle:{"max-width":"400px"},attrs:{placeholder:"输入用户邮箱前缀"},model:{value:e.formAdd.prefix,callback:function(t){e.$set(e.formAdd,"prefix",t)},expression:"formAdd.prefix"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addEvent()}}},[e._v("添 加")])],1)],1),e._v(" "),e.dataList?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",align:"left",prop:"name",label:"授权领域"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"account",label:"邮箱"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatEmailList(t.row.account)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"update_time",label:"授权时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((t.row.update_time||t.row.create_time)&&e._parseTime(t.row.update_time||t.row.create_time)||"未知"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-field",{attrs:{data:t.row,callback:e.onSearch,apiconf:e.apiConf}})]}}])})],1)],1):e._e()],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Fa=a("VU/8")($a,Ma,!1,function(e){a("fkUk")},"data-v-32d11180",null).exports,Ea={name:"categoryList",components:{Auth:x},data:function(){return{apiConf:{getUserRole:"/role/getUserRole",getFieldStatisticsList:"/field/getFieldStatisticsList"},dialogVisible:!1,formInline:{field_name:""},categoryData:null,tips:"loading..."}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var e=this,t={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&t.result&&t.result.permission.indexOf(2)>-1?(e.cateList=t.result&&t.result.field||[],e.cateList.length>0?e.onSearch():e.tips="暂无有权限的领域"):e.tips="暂无领域操作记录页面权限"},function(t){e.tips="接口异常"})},onSearch:function(){var e=this,t={url:this.apiConf.getFieldStatisticsList,params:l()({},this.formInline,{username:this.email,cip:230})};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&(e.categoryData=t.result||[])})},_formatNum:function(e){return E(e)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},ja={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("领域操作记录")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.cateList&&e.cateList.length>0?a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入领域名称",clearable:""},model:{value:e.formInline.field_name,callback:function(t){e.$set(e.formInline,"field_name",t)},expression:"formInline.field_name"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.categoryData?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.categoryData,"max-height":"600",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"field_name",label:"领域名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"white_sum",label:"白名单总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.white_sum)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"balck_sum",label:"黑名单总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.balck_sum)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"edit_sum",label:"已编辑总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.edit_sum)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"white_audit_sum",label:"已审核白名单总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.white_audit_sum)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"black_audit_sum",label:"已审核黑名单总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.black_audit_sum)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"new_white",label:"当日新增白名单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.new_white)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"new_balck",label:"当日新增黑名单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.new_balck)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"new_edit",label:"当日新增编辑白名单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.new_edit)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"new_white_audit",label:"当日新增审核白名单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.new_white_audit)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"new_black_audit",label:"当日新增审核黑名单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._formatNum(t.row.new_black_audit)))]}}])})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var za=a("VU/8")(Ea,ja,!1,function(e){a("be5o")},"data-v-4305e830",null).exports,Na={name:"operateWhite",data:function(){return{apiConf:{getFeature:"/feature/getFeature",delFieldWhite:"/field/delFieldWhite",delUserField:"/field/delUserField",updateFieldWhiteList:"/field/updateFieldWhiteList"},dialogVisible:!1,originList:[{value:5,label:"极好｜81%－100%为原创"},{value:4,label:"良好｜61%－80%为原创"},{value:3,label:"一般｜41％－60%为原创"},{value:2,label:"较低｜21%－40%为原创"},{value:1,label:"极低｜20%以下为原创"}],verticalList:[{value:5,label:"极好｜同领域匹配度81%－100％"},{value:4,label:"良好｜同领域匹配度 61%-80%"},{value:3,label:"一般｜同领域匹配度 41%-60%"},{value:2,label:"较低｜同领域匹配度21%-40%"},{value:1,label:"极低｜同领域匹配度20%以下"}],healthList:[{value:5,label:"极好｜不健康内容占比0%-4%"},{value:4,label:"良好｜不健康内容占比5%-10%"},{value:3,label:"一般｜不健康内容占比11%-20%"},{value:2,label:"较低｜不健康内容占比21%-50%"},{value:1,label:"极低｜不健康内容占比51%以上"}],delDialogVisible:!1,deleteCause:"2",delResonList:[{label:"广告营销",value:"2"},{label:"搬运低质",value:"3"},{label:"恶意涨粉涨互动",value:"6"},{label:"博主发博与领域严重不符且低质",value:"1"},{label:"色情",value:"4"},{label:"政治敏感",value:"5"},{label:"不实造谣炒作",value:"7"},{label:"其他",value:"8"}],accountMap:{1:"个人账号",2:"自媒体",3:"媒体",4:"企业",5:"营销号",6:"纯明星",7:"政府",8:"其他机构"},whiteList:null,logList:null,ability1:null,ability2:null,clevel:0}},computed:l()({},Object(s.b)(["email"])),props:["data","callback","hasaudit"],methods:{_parseTime:function(e,t){return F(e,t)},showEditDialog:function(){var e=this;this.whiteList={origin_degree:this.data.origin_degree||"",vertical_degree:this.data.vertical_degree||"",health_degree:this.data.health_degree||"",new_v:1==this.data.new_v,frequency_loss:1==this.data.frequency_loss,mcn:1==this.data.mcn,account_type:this.data.account_type&&this.data.account_type.toString().split(",")||[]},this.dialogVisible=!0;var t={url:this.apiConf.getFeature,params:{input:this.data.uid,flag:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){if(t.code&&200==Number(t.code)){var a=t.result;e.ability1=a.ability1,e.ability2=a.ability2,e.clevel=a.acount_status&&(0===a.acount_status.user_C_level?0:a.acount_status.user_C_level||"未知"),e.dialogVisible=!0}})},deleteEvent:function(){var e=this;this.delDialogVisible=!1,this.$confirm("确定下线?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.deleteAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},deleteAction:function(){var e=this,t={url:this.apiConf.delFieldWhite,params:{cause:this.deleteCause,uid:this.data.uid,audit_type:this.hasaudit?1:0,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:0})})},removeEvent:function(){var e=this;this.$confirm("确定移出本领域?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.removeAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},removeAction:function(){var e=this,t={url:this.apiConf.delUserField,params:{field_id:this.data.field_id,uid:this.data.uid,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"操作成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"操作失败!",type:"error",duration:0})})},updateEvent:function(){var e=this;this.whiteList.account_type.join(",")?this.whiteList.origin_degree?this.whiteList.vertical_degree?this.whiteList.health_degree?this.$confirm("确定保存本次修改?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.updateAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(R.Message)({showClose:!0,message:"请选择健康度！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请选择垂直度！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请选择原创度！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请选择账号类型！",type:"error",duration:3e3})},updateAction:function(){var e=this,t=this.whiteList.account_type.join(","),a={url:this.apiConf.updateFieldWhiteList,params:{id:this.data.id,field_id:this.data.field_id,uid:this.data.uid,user_name:this.data.user_name,health_degree:this.whiteList.health_degree,vertical_degree:this.whiteList.vertical_degree,origin_degree:this.whiteList.origin_degree,new_v:Number(this.whiteList.new_v),frequency_loss:Number(this.whiteList.frequency_loss),mcn:Number(this.whiteList.mcn),account_type:t||0,audit_type:this.data.audit_type,username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:0})})},formartAbility:function(e){if(!e||e.length<1)return"暂无";for(var t=[],a=0;a<e.length;a++)t.push(e[a].display_name);return t.join("、")},getFLevel:function(e){var t="未知";switch(e){case"F0":t="F0";break;case"F1":t="F1";break;case"F2":t="F2";break;default:t="未知"}return t}},watch:{data:function(){},hasaudit:function(){}}},Oa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"【"+e.data.field_name+"】领域 白名单编辑",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{inline:!0,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"作者UID","label-width":"64px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.uid))])],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名","label-width":"54px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.user_name||"未知"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"认证信息","label-width":"70px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.data.verified_reason||"暂无"))])],1),e._v(" "),a("el-form-item",{attrs:{label:"一级能力标签","label-width":"100px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.formartAbility(e.ability1)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"二级能力标签","label-width":"100px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.formartAbility(e.ability2)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"F层级","label-width":"52px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.getFLevel(e.data.F_level)))])],1),e._v(" "),a("el-form-item",{attrs:{label:"C层级","label-width":"52px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.clevel))])],1),e._v(" "),a("el-form-item",{attrs:{label:"添加时间","label-width":"70px"}},[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e._parseTime(e.data.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))])],1)],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"table-title left"},[e._v("【操作区域】")])]),e._v(" "),e.whiteList?a("el-form",{attrs:{"label-position":"left",size:"small"}},[a("el-form-item",[a("el-checkbox",{model:{value:e.whiteList.new_v,callback:function(t){e.$set(e.whiteList,"new_v",t)},expression:"whiteList.new_v"}},[e._v("是新拓展的大V")]),e._v(" "),a("el-checkbox",{model:{value:e.whiteList.frequency_loss,callback:function(t){e.$set(e.whiteList,"frequency_loss",t)},expression:"whiteList.frequency_loss"}},[e._v("有降频流失的风险")]),e._v(" "),a("el-checkbox",{model:{value:e.whiteList.mcn,callback:function(t){e.$set(e.whiteList,"mcn",t)},expression:"whiteList.mcn"}},[e._v("已加入MCN机构")])],1),e._v(" "),a("el-form-item",{attrs:{label:"账号类型（可多选）",required:""}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.whiteList.account_type,callback:function(t){e.$set(e.whiteList,"account_type",t)},expression:"whiteList.account_type"}},e._l(e.accountMap,function(t,i){return a("el-checkbox",{key:i,staticStyle:{"margin-left":"10px"},attrs:{label:i}},[e._v(e._s(t))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"原创度","label-width":"70px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择原创度",clearable:""},model:{value:e.whiteList.origin_degree,callback:function(t){e.$set(e.whiteList,"origin_degree",t)},expression:"whiteList.origin_degree"}},e._l(e.originList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，原创和搬运内容的比例）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"垂直度","label-width":"70px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择垂直度",clearable:""},model:{value:e.whiteList.vertical_degree,callback:function(t){e.$set(e.whiteList,"vertical_degree",t)},expression:"whiteList.vertical_degree"}},e._l(e.verticalList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，其内容是否跟当前垂直领域一致）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"健康度","label-width":"70px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择健康度",clearable:""},model:{value:e.whiteList.health_degree,callback:function(t){e.$set(e.whiteList,"health_degree",t)},expression:"whiteList.health_degree"}},e._l(e.healthList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量发布微博中，违规、不良或广告营销信息的比例）")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.updateEvent()}}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择下线理由",visible:e.delDialogVisible},on:{"update:visible":function(t){e.delDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"博主发布内容："}},[a("el-radio-group",{model:{value:e.deleteCause,callback:function(t){e.deleteCause=t},expression:"deleteCause"}},e._l(e.delResonList,function(t,i){return a("el-radio",{key:i,staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteEvent()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.showEditDialog()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]),e._v(" "),0===e.data.audit_type||e.hasaudit?a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"},on:{click:function(t){e.delDialogVisible=!0,e.deleteCause="2"}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("下线")])]):e._e(),e._v(" "),0!==e.data.field_id?a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning",icon:"el-icon-remove-outline",plain:"",size:"mini",title:"下线"},on:{click:function(t){e.removeEvent()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("非本领域")])]):e._e()],1):e._e()},staticRenderFns:[]};var Pa=a("VU/8")(Na,Oa,!1,function(e){a("DenG")},"data-v-33ddfa5d",null).exports,Ua={name:"operateWhite",data:function(){return{apiConf:{delFieldWhite:"/field/delFieldWhite",whiteAuditPass:"/field/whiteAuditPass"},dialogVisible:!1,delDialogVisible:!1,deleteCause:"2",delResonList:[{label:"广告营销",value:"2"},{label:"搬运低质",value:"3"},{label:"恶意涨粉涨互动",value:"6"},{label:"博主发博与领域严重不符且低质",value:"1"},{label:"色情",value:"4"},{label:"政治敏感",value:"5"},{label:"不实造谣炒作",value:"7"},{label:"其他",value:"8"}]}},computed:l()({},Object(s.b)(["email"])),props:["data","callback"],methods:{_parseTime:function(e,t){return F(e,t)},deleteEvent:function(){var e=this;this.delDialogVisible=!1,this.$confirm("确定下线?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.deleteAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},deleteAction:function(){var e=this,t={url:this.apiConf.delFieldWhite,params:{cause:this.deleteCause,uid:this.data.uid,audit_type:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:0})})},passEvent:function(){var e=this;this.$confirm("确定通过审核?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},passAction:function(){var e=this,t={url:this.apiConf.whiteAuditPass,params:{field_id:this.data.field_id,uid:this.data.uid,audit_type:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"审核成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"审核失败!",type:"error",duration:0})})}},watch:{data:function(){}}},Va={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"选择下线理由",visible:e.delDialogVisible},on:{"update:visible":function(t){e.delDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"博主发布内容："}},[a("el-radio-group",{model:{value:e.deleteCause,callback:function(t){e.deleteCause=t},expression:"deleteCause"}},e._l(e.delResonList,function(t,i){return a("el-radio",{key:i,staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.deleteEvent()}}},[e._v("确 定")])],1)],1),e._v(" "),0===e.data.audit_type?a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"success",icon:"el-icon-check",plain:"",size:"mini",title:"通过审核"},on:{click:function(t){e.passEvent()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("通过")])]):e._e(),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"下线"},on:{click:function(t){e.delDialogVisible=!0,e.deleteCause="2"}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("下线")])])],1):e._e()},staticRenderFns:[]};var Ba=a("VU/8")(Ua,Va,!1,function(e){a("0Xo1")},"data-v-f20b94fc",null).exports,Ra={name:"uploadExcel",components:{UploadExcelComponent:Lt},props:["callback","initdata","example","showexample"],data:function(){return{tableData:[],tableHeader:[]}},methods:{selected:function(e){this.tableData=e.results,this.tableHeader=e.header,this.callback(e.results)}},watch:{initdata:function(){this.initdata||(this.tableData=[],this.tableHeader=[])},example:function(){}}},Wa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{example:e.example,showexample:e.showexample},on:{"on-selected-file":e.selected}}),e._v(" "),a("el-table",{staticClass:"tableBox",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","max-height":"200"}},e._l(e.tableHeader,function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),e._v(" "),e.tableData&&e.tableData.length>0?a("div",{staticClass:"excel-upload-tips"},[e._v("共上传 "),a("span",[e._v(e._s(e.tableData.length))]),e._v(" 条数据")]):e._e()],1)},staticRenderFns:[]};var qa=a("VU/8")(Ra,Wa,!1,function(e){a("H8qK")},"data-v-3b1c75d8",null).exports,Ga={name:"whiteList",components:{Auth:x,OperateWhite:Pa,OperateAudit:Ba,UploadExcel:qa},data:function(){return{apiConf:{getField:"/field/getFieldList",getUserRole:"/role/getUserRole",getFieldWhiteList:"/field/getFieldWhiteList",addFieldWhiteList:"/field/addFieldWhiteList",importFieldWhiteList:"/field/importFieldWhiteList",whiteAuditPassMore:"/field/whiteAuditPassMore"},whiteList:null,isUpload:!1,downloadAllLoading:!1,downloadCurLoading:!1,dialogVisible:!1,mode_type:!0,hasAllAuth:!1,hasAudit:!1,hasBatch:!1,total:0,formInline:{role_id:"",uid:"",F_level:"",field_id:"",edit_type:"",audit_type:"",operator:"",page:1,count:10},formAdd:{field_id:"",user_name:"",uid:"",popover:!1},formUpload:{field_id:"",uids:null},new_v:!1,frequency_loss:!1,mcn:!1,account_type:[],health_degree:"",vertical_degree:"",origin_degree:"",originList:[{value:"5",label:"极好｜81%－100%为原创"},{value:"4",label:"良好｜61%－80%为原创"},{value:"3",label:"一般｜41％－60%为原创"},{value:"2",label:"较低｜21%－40%为原创"},{value:"1",label:"极低｜20%以下为原创"}],verticalList:[{value:"5",label:"极好｜同领域匹配度81%－100％"},{value:"4",label:"良好｜同领域匹配度 61%-80%"},{value:"3",label:"一般｜同领域匹配度 41%-60%"},{value:"2",label:"较低｜同领域匹配度21%-40%"},{value:"1",label:"极低｜同领域匹配度20%以下"}],healthList:[{value:5,label:"极好｜不健康内容占比0%-4%"},{value:4,label:"良好｜不健康内容占比5%-10%"},{value:3,label:"一般｜不健康内容占比11%-20%"},{value:2,label:"较低｜不健康内容占比21%-50%"},{value:1,label:"极低｜不健康内容占比51%以上"}],editList:[{value:"",label:"所有状态"},{value:"1",label:"已编辑"},{value:"0",label:"未编辑"}],auditList:[{value:"",label:"所有状态"},{value:"1",label:"已审核"},{value:"0",label:"未审核"}],flevelList:[{value:"",label:"全部"},{value:"F0",label:"F0"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"NULL",label:"其他"}],accountMap:{1:"个人账号",2:"自媒体",3:"媒体",4:"企业",5:"营销号",6:"纯明星",7:"政府",8:"其他机构"},uploadExample:{tableHeader:["uid","user_name"],tableData:[{uid:"1111681197",user_name:"来去之间"}]},cateList:null,checkedIds:[],tips:"loading..."}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var e=this,t={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(e.cateList=t.result.field||[],e.cateList.length>0?(t.result.permission.indexOf(4)>-1?e.hasAllAuth=!0:e.formInline.field_id=e.cateList[0].id,e.hasAudit=t.result.permission.indexOf(12)>-1,e.hasBatch=t.result.permission.indexOf(6)>-1,e.onSearch()):e.tips="暂无有权限的领域"):e.tips="暂无有权限的领域"},function(t){e.tips="接口异常"})},onSearch:function(){var e=this,t=l()({},this.formInline,{username:this.email,cip:230}),a={url:this.apiConf.getFieldWhiteList,params:t};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)&&(e.whiteList=t.result)})},showAdd:function(){this.dialogVisible=!0},addEvent:function(){var e=this;this.formAdd.popover=!1;var t=this.account_type.join(",");if(this.formAdd.field_id)if(this.formAdd.uid)if(this.formAdd.user_name)if(t)if(this.origin_degree)if(this.vertical_degree)if(this.health_degree){var a={url:this.apiConf.addFieldWhiteList,params:{field_id:this.formAdd.field_id,uid:this.formAdd.uid,user_name:this.formAdd.user_name,health_degree:this.health_degree,vertical_degree:this.vertical_degree,origin_degree:this.origin_degree,new_v:Number(this.new_v),frequency_loss:Number(this.frequency_loss),mcn:Number(this.mcn),account_type:t||0,edit_type:1,audit_type:0,username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)?(e.dialogVisible=!1,Object(R.Message)({showClose:!0,message:"添加成功!",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"添加失败!",type:"error",duration:0})})}else Object(R.Message)({showClose:!0,message:"请选择健康度！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择垂直度！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择原创度！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择账号类型！",type:"error",duration:3e3});else Object(R.Message)({showClose:!0,message:"请输入作者昵称！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请输入作者UID！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请选择领域！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formAdd={uid:"",user_name:"",field_id:""},this.health_degree="",this.vertical_degree="",this.origin_degree="",this.new_v=!1,this.frequency_loss=!1,this.mcn=!1,this.account_type=[]},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.page=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)},showUpload:function(){this.isUpload=!0},addsEvent:function(){var e=this;this.formUpload.field_id?this.formUpload.uids?this.$confirm("将批量添加用户到白名单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setUids()}).catch(function(){e.$message({type:"info",message:"已取消批量添加！"})}):Object(R.Message)({showClose:!0,message:"请导入用户uid与昵称！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请选择领域！",type:"error",duration:1e3})},cancelUpload:function(){this.isUpload=!1,this.formUpload.uids=null},setUids:function(){var e=this,t=new URLSearchParams;t.append("field_id",this.formUpload.field_id),t.append("field_whitelist",A()(this.formUpload.uids)),t.append("audit_type",0),t.append("username",this.email),t.append("cip",230);var a={url:this.apiConf.importFieldWhiteList,params:t};this.$store.dispatch("CommonPost",a).then(function(t){if(t.code&&200==Number(t.code)){var a=t.msg||"success";Object(R.Message)({showClose:!0,message:a,type:"success",duration:0}),e.onSearch()}else Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:0})})},getExcel:function(e){this.formUpload.uids=e},handleDownloadAll:function(){var e=this;this.downloadAllLoading=!0;var t={uid:this.formInline.uid,F_level:this.formInline.F_level,field_id:this.formInline.field_id,edit_type:this.formInline.edit_type,audit_type:this.formInline.audit_type,operator:this.formInline.operator,role_id:this.formInline.role_id,username:this.email,page:1,count:this.total,cip:230},a={url:this.apiConf.getFieldWhiteList,params:t};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)?e.downloadAll(t.result.data):e.downloadAllLoading=!1})},downloadAll:function(e){var t=this;a.e(0).then(a.bind(null,"zWO4")).then(function(a){var i=t.formatJson(["index","uid","user_name","field_name","edit_type","origin_degree","vertical_degree","health_degree","update_time","operator","new_v","frequency_loss","mcn","account_type"],e);a.export_json_to_excel(["序号","uid","昵称","领域","编辑状态","原创度","垂直度","健康度","操作时间","操作人","新拓展的大V","有降频流失的风险","已加入MCN机构","账号类型"],i,"whitelist"),t.downloadAllLoading=!1})},handleDownloadCur:function(){var e=this;this.downloadCurLoading=!0,a.e(0).then(a.bind(null,"zWO4")).then(function(t){var a=e.whiteList.data,i=e.formatJson(["index","uid","user_name","field_name","edit_type","origin_degree","vertical_degree","health_degree","verified_type","verified_reason","description","update_time","operator","new_v","frequency_loss","mcn","account_type"],a);t.export_json_to_excel(["序号","uid","昵称","领域","编辑状态","原创度","垂直度","健康度","认证状态","认证信息","简介","操作时间","操作人","新拓展的大V","有降频流失的风险","已加入MCN机构","账号类型"],i,"whitelist"),e.downloadCurLoading=!1})},formatJson:function(e,t){var a=this;return t.map(function(t,i){return e.map(function(e){return"index"===e?i+1:"edit_type"===e?1===t[e]?"已编辑":"未编辑":"origin_degree"===e||"vertical_degree"===e||"health_degree"===e?t[e]&&t[e]+"级"||"暂无":"verified_type"===e?0===t[e]?"已认证":"未认证":"verified_reason"===e||"description"===e?t[e]||"暂无":"update_time"===e?a._parseTime(t[e]):"new_v"===e||"frequency_loss"===e||"mcn"===e?1===t[e]?"是":"否":"account_type"===e?a.getAccountList(t[e]):t[e]})})},getAccountList:function(e){if(0==e)return"暂无";for(var t=e.toString().split(","),a=[],i=0;i<t.length;i++)a.push(this.accountMap[t[i]]);return a.join("、")},handleModeChange:function(){this.mode_type=!this.mode_type,this.formInline={role_id:"",uid:"",F_level:"",field_id:"",edit_type:"",audit_type:"",operator:"",page:1,count:10},this.onSearch()},handleSelectionChange:function(e){if(this.checkedIds=[],e&&e.length>0)for(var t=0;t<e.length;t++)0===e[t].audit_type&&this.checkedIds.push(e[t].id)},passAllEvent:function(){var e=this;this.checkedIds.join(",")?this.$confirm("所选白名单将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAllAction()}).catch(function(){e.$message({type:"info",message:"已取消批量审核！"})}):Object(R.Message)({showClose:!0,message:"请勾选未审核白名单用户！",type:"error",duration:3e3})},passAllAction:function(){var e=this,t={url:this.apiConf.whiteAuditPassMore,params:{ids:this.checkedIds.join(","),username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"批量审核成功!",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"批量审核失败!",type:"error",duration:0})})}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},whiteList:function(){this.whiteList&&(this.total=this.whiteList.total||0)}}},Ha={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{staticClass:"clearfix",attrs:{span:24}},[a("h6",{staticClass:"pane-title left"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("领域白名单")]),e._v(" "),a("a",{staticClass:"help-doc-tips left",attrs:{href:"/hot/#/channel/user/whitelist/document",target:"_blank"}},[a("i",{staticClass:"el-icon-question"}),e._v("\n        用户分级标准与编辑手册\n      ")]),e._v(" "),e.hasAudit?a("span",{staticClass:"mode-text link-btn left",on:{click:function(t){e.handleModeChange()}}},[e._v(e._s(e.mode_type?"切换审核模式":"切回编辑模式"))]):e._e()])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.cateList&&e.cateList.length>0?a("el-col",{attrs:{span:24}},[e.cateList?a("el-form",{attrs:{inline:"",model:e.formInline,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"UID","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入作者UID",clearable:""},model:{value:e.formInline.uid,callback:function(t){e.$set(e.formInline,"uid",t)},expression:"formInline.uid"}})],1),e._v(" "),e.mode_type?a("el-form-item",{attrs:{label:"编辑状态","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择编辑状态"},model:{value:e.formInline.edit_type,callback:function(t){e.$set(e.formInline,"edit_type",t)},expression:"formInline.edit_type"}},e._l(e.editList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),e.mode_type?e._e():a("el-form-item",{attrs:{label:"审核状态","label-width":"70px"}},[a("el-select",{staticStyle:{"max-width":"100px"},attrs:{placeholder:"请选择编辑状态"},model:{value:e.formInline.audit_type,callback:function(t){e.$set(e.formInline,"audit_type",t)},expression:"formInline.audit_type"}},e._l(e.auditList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.mode_type?e._e():a("el-form-item",{attrs:{label:"操作人","label-width":"60px"}},[a("el-input",{attrs:{placeholder:"请输入操作人邮箱前缀",clearable:""},model:{value:e.formInline.operator,callback:function(t){e.$set(e.formInline,"operator",t)},expression:"formInline.operator"}})],1),e._v(" "),e.mode_type?e._e():a("el-form-item",{attrs:{label:"操作者类型","label-width":"90px"}},[a("el-select",{staticStyle:{"max-width":"100px"},attrs:{filterable:"",placeholder:"请选择领域"},model:{value:e.formInline.role_id,callback:function(t){e.$set(e.formInline,"role_id",t)},expression:"formInline.role_id"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"PM",value:1}}),e._v(" "),a("el-option",{attrs:{label:"RD",value:2}}),e._v(" "),a("el-option",{attrs:{label:"业务方",value:3}}),e._v(" "),a("el-option",{attrs:{label:"实习生",value:4}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"F层级","label-width":"50px"}},[a("el-select",{staticStyle:{"max-width":"80px"},attrs:{placeholder:"请选择F层级"},model:{value:e.formInline.F_level,callback:function(t){e.$set(e.formInline,"F_level",t)},expression:"formInline.F_level"}},e._l(e.flevelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"选择领域","label-width":"70px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择领域"},model:{value:e.formInline.field_id,callback:function(t){e.$set(e.formInline,"field_id",t)},expression:"formInline.field_id"}},[e.hasAllAuth?a("el-option",{attrs:{label:"所有领域",value:""}}):e._e(),e._v(" "),e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{attrs:{title:"Excel批量操作",visible:e.isUpload},on:{"update:visible":function(t){e.isUpload=t}}},[a("el-form",{attrs:{model:e.formUpload}},[e.cateList?a("el-form-item",{attrs:{label:"选择领域","label-width":"90px",required:""}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择领域",clearable:""},model:{value:e.formUpload.field_id,callback:function(t){e.$set(e.formUpload,"field_id",t)},expression:"formUpload.field_id"}},e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),a("el-form-item",[a("upload-excel",{attrs:{callback:e.getExcel,initdata:e.formUpload.uids,example:e.uploadExample,showexample:!0}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addsEvent()}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelUpload()}}},[e._v("取 消")])],1)],1),e._v(" "),e.cateList&&e.cateList.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.mode_type,expression:"!mode_type"}],staticClass:"left",attrs:{round:"",size:"mini"},on:{click:function(t){e.passAllEvent()}}},[e._v("勾选名单通过")]),e._v(" "),a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加白名单")]),e._v(" "),e.hasBatch?a("el-button",{staticClass:"left",attrs:{type:"primary",size:"mini",title:"Excel批量导入uid"},on:{click:function(t){e.showUpload()}}},[a("span",[e._v("批量导入")])]):e._e(),e._v(" "),""!==e.formInline.field_id?a("el-button",{staticClass:"right",attrs:{type:"danger",size:"mini",title:"批量导出全部 Excel",loading:e.downloadAllLoading},on:{click:e.handleDownloadAll}},[a("span",[e._v("导出全部")])]):e._e(),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"warning",size:"mini",title:"批量导出当前页数据 Excel",loading:e.downloadCurLoading},on:{click:e.handleDownloadCur}},[a("span",[e._v("导出当前页")])])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加白名单账号",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formAdd,"label-position":"left"}},[e.cateList?a("el-form-item",{attrs:{label:"选择领域","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item",attrs:{filterable:"",placeholder:"请选择领域",clearable:""},model:{value:e.formAdd.field_id,callback:function(t){e.$set(e.formAdd,"field_id",t)},expression:"formAdd.field_id"}},e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"作者UID","label-width":"80px",required:""}},[a("el-input",{staticClass:"white-item",attrs:{"auto-complete":"off",placeholder:"请输入作者UID",clearable:""},model:{value:e.formAdd.uid,callback:function(t){e.$set(e.formAdd,"uid",t)},expression:"formAdd.uid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作者昵称","label-width":"80px",required:""}},[a("el-input",{staticClass:"white-item",attrs:{"auto-complete":"off",placeholder:"请输入作者昵称",clearable:""},model:{value:e.formAdd.user_name,callback:function(t){e.$set(e.formAdd,"user_name",t)},expression:"formAdd.user_name"}})],1),e._v(" "),a("el-form-item",[a("el-checkbox",{model:{value:e.new_v,callback:function(t){e.new_v=t},expression:"new_v"}},[e._v("是新拓展的大V")]),e._v(" "),a("el-checkbox",{model:{value:e.frequency_loss,callback:function(t){e.frequency_loss=t},expression:"frequency_loss"}},[e._v("有降频流失的风险")]),e._v(" "),a("el-checkbox",{model:{value:e.mcn,callback:function(t){e.mcn=t},expression:"mcn"}},[e._v("已加入MCN机构")])],1),e._v(" "),a("el-form-item",{attrs:{label:"账号类型（可多选）",required:""}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.account_type,callback:function(t){e.account_type=t},expression:"account_type"}},e._l(e.accountMap,function(t,i){return a("el-checkbox",{key:i,staticStyle:{"margin-left":"10px"},attrs:{label:i}},[e._v(e._s(t))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"原创度","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择原创度",clearable:""},model:{value:e.origin_degree,callback:function(t){e.origin_degree=t},expression:"origin_degree"}},e._l(e.originList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，原创和搬运内容的比例）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"垂直度","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择垂直度",clearable:""},model:{value:e.vertical_degree,callback:function(t){e.vertical_degree=t},expression:"vertical_degree"}},e._l(e.verticalList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量直发微博中，其内容是否跟当前垂直领域一致）")])],1),e._v(" "),a("el-form-item",{attrs:{label:"健康度","label-width":"80px",required:""}},[a("el-select",{staticClass:"white-item left",attrs:{placeholder:"请选择健康度",clearable:""},model:{value:e.health_degree,callback:function(t){e.health_degree=t},expression:"health_degree"}},e._l(e.healthList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"white-tips left"},[e._v("（考量发布微博中，违规、不良或广告营销信息的比例）")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.formAdd.popover,callback:function(t){e.$set(e.formAdd,"popover",t)},expression:"formAdd.popover"}},[a("p",[e._v("确定添加到白名单？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.formAdd.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.whiteList&&e.whiteList.data?a("el-row",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.mode_type,expression:"mode_type"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteList.data,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",width:"120",align:"left",prop:"uid",label:"uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.uid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"user_name",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{class:t.row.user_name?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.user_name||"未知"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"field_name",label:"领域"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",align:"left",prop:"",label:"编辑状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:1==t.row.edit_type?"":"errorBtn"},[e._v(e._s(1==t.row.edit_type?"已编辑":"未编辑"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"原创度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.origin_degree?a("span",[e._v(e._s(t.row.origin_degree)+"级")]):a("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"垂直度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.vertical_degree?a("span",[e._v(e._s(t.row.vertical_degree)+"级")]):a("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",align:"left",prop:"origin_degree",label:"健康度"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.health_degree?a("span",[e._v(e._s(t.row.health_degree)+"级")]):a("span",{staticStyle:{color:"#c0c4cc"}},[e._v("暂无")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",align:"left",prop:"update_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.update_time)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.audit_type||e.hasAudit?a("operate-white",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch,hasaudit:e.hasAudit}}):a("span",[e._v("已审核，无需操作")])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.mode_type,expression:"!mode_type"}]},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.whiteList.data,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",width:"120",align:"left",prop:"uid",label:"uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.uid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"user_name",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{class:t.row.user_name?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.user_name||"未知"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"80",align:"left",prop:"",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:1==t.row.audit_type?"":"errorBtn"},[e._v(e._s(1==t.row.audit_type?"已审核":"未审核"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"verified_type",label:"认证状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.verified_type?"已认证":"未认证"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"verified_reason",label:"认证信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.verified_reason||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"description",label:"简介"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.description||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",align:"left",prop:"update_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.update_time)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.audit_type||e.hasAudit?a("operate-audit",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch}}):a("span",[e._v("已审核，无需操作")])]}}])})],1)],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[5,10,20,30,40,50],"page-size":e.formInline.count,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ka=a("VU/8")(Ga,Ha,!1,function(e){a("CtEL")},"data-v-4bfe7db2",null).exports,Ja={name:"operateWhite",data:function(){return{apiConf:{delFieldBlack:"/field/delFieldBlack",blackAuditPass:"/field/blackAuditPass"}}},computed:l()({},Object(s.b)(["email"])),props:["data","callback"],methods:{_parseTime:function(e,t){return F(e,t)},deleteEvent:function(){var e=this;this.$confirm("确定重新上线?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.deleteAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},deleteAction:function(){var e=this,t={url:this.apiConf.delFieldBlack,params:{uid:this.data.uid,audit_type:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"下线成功！",type:"success",duration:1e3}),e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"下线失败!",type:"error",duration:0})})},passEvent:function(){var e=this;this.$confirm("确定通过审核?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},passAction:function(){var e=this,t={url:this.apiConf.blackAuditPass,params:{field_id:this.data.field_id,uid:this.data.uid,audit_type:1,username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"审核成功！",type:"success",duration:1e3}),e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"审核失败!",type:"error",duration:0})})}},watch:{data:function(){}}},Qa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[0===e.data.audit_type?a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"success",icon:"el-icon-check",plain:"",size:"mini",title:"通过审核"},on:{click:function(t){e.passEvent()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("通过")])]):e._e(),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"重新上线"},on:{click:function(t){e.deleteEvent()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("重新上线")])])],1):e._e()},staticRenderFns:[]};var Ya={name:"blackList",components:{Auth:x,OperateBlack:a("VU/8")(Ja,Qa,!1,function(e){a("FJop")},"data-v-f1407810",null).exports,UploadExcel:qa},data:function(){return{apiConf:{getUserRole:"/role/getUserRole",getFieldBlackList:"/field/getFieldBlackList",addFieldBlackList:"/field/addFieldBlackList",blackAuditPassMore:"field/blackAuditPassMore"},blackList:null,isUpload:!1,downloadAllLoading:!1,downloadCurLoading:!1,dialogVisible:!1,total:0,formInline:{uid:"",audit_type:"",role_id:"",F_level:"",field_id:"",page:1,count:10},formAdd:{uid:"",user_name:"",cause:"2"},editList:[{value:"",label:"所有状态"},{value:"1",label:"已编辑"},{value:"0",label:"未编辑"}],auditList:[{value:"",label:"所有状态"},{value:"1",label:"已审核"},{value:"0",label:"未审核"}],flevelList:[{value:"",label:"全部"},{value:"F0",label:"F0"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"NULL",label:"其他"}],delResonMap:{1:"博主发博与领域严重不符且低质",2:"广告营销",3:"搬运低质",4:"色情",5:"政治敏感",6:"恶意涨粉涨互动",7:"不实造谣炒作",8:"其他"},delResonList:[{label:"广告营销",value:"2"},{label:"搬运低质",value:"3"},{label:"恶意涨粉涨互动",value:"6"},{label:"博主发博与领域严重不符且低质",value:"1"},{label:"色情",value:"4"},{label:"政治敏感",value:"5"},{label:"不实造谣炒作",value:"7"},{label:"其他",value:"8"}],cateList:null,checkedIds:[],tips:"loading..."}},computed:l()({},Object(s.b)(["pageAuth","email","channelList","channelApi"])),methods:{init:function(){1===this.pageAuth&&this.getUserRole()},getUserRole:function(){var e=this,t={url:this.apiConf.getUserRole,params:{username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&t.result&&t.result.permission.indexOf(12)>-1?(e.cateList=t.result&&t.result.field||[],e.cateList.length>0?e.onSearch():e.tips="暂无有权限的领域"):e.tips="暂无黑名单审核权限"},function(t){e.tips="接口异常"})},onSearch:function(){var e=this,t=l()({},this.formInline,{username:this.email,cip:230}),a={url:this.apiConf.getFieldBlackList,params:t};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)&&(e.blackList=t.result)})},showAdd:function(){this.dialogVisible=!0},addEvent:function(){var e=this;this.formAdd.uid?this.formAdd.user_name?this.$confirm("确定添加到黑名单?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.addAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(R.Message)({showClose:!0,message:"请输入作者昵称！",type:"error",duration:1e3}):Object(R.Message)({showClose:!0,message:"请输入作者UID！",type:"error",duration:1e3})},addAction:function(){var e=this,t={url:this.apiConf.addFieldBlackList,params:l()({},this.formAdd,{audit_type:0,username:this.email,cip:230})};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(e.dialogVisible=!1,Object(R.Message)({showClose:!0,message:"添加成功!",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"添加失败!",type:"error",duration:0})})},cancelEvent:function(){this.dialogVisible=!1,this.formAdd={uid:"",user_name:"",cause:"2"}},handleSizeChange:function(e){this.formInline.count=e,this.onSearch()},handleCurrentChange:function(e){this.formInline.page=e,this.onSearch()},_parseTime:function(e,t){return F(e,t)},handleDownloadAll:function(){var e=this;this.downloadAllLoading=!0;var t={uid:this.formInline.uid,F_level:this.formInline.F_level,field_id:this.formInline.field_id,audit_type:this.formInline.audit_type,role_id:this.formInline.role_id,username:this.email,page:1,count:this.total,cip:230},a={url:this.apiConf.getFieldBlackList,params:t};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)?e.downloadAll(t.result.data):e.downloadAllLoading=!1})},downloadAll:function(e){var t=this;a.e(0).then(a.bind(null,"zWO4")).then(function(a){var i=t.formatJson(["index","uid","user_name","field_name","cause","audit_type","origin_degree","vertical_degree","health_degree","update_time","operator"],e);a.export_json_to_excel(["序号","uid","昵称","领域","下线理由","审核状态","原创度","垂直度","健康度","操作时间","操作人"],i,"whitelist"),t.downloadAllLoading=!1})},handleDownloadCur:function(){var e=this;this.downloadCurLoading=!0,a.e(0).then(a.bind(null,"zWO4")).then(function(t){var a=e.blackList.data,i=e.formatJson(["index","uid","user_name","field_name","cause","audit_type","origin_degree","vertical_degree","health_degree","verified_type","verified_reason","description","update_time","operator"],a);t.export_json_to_excel(["序号","uid","昵称","领域","下线理由","审核状态","原创度","垂直度","健康度","认证状态","认证信息","简介","操作时间","操作人"],i,"whitelist"),e.downloadCurLoading=!1})},formatJson:function(e,t){var a=this;return t.map(function(t,i){return e.map(function(e){return"index"===e?i+1:"cause"===e?t[e]&&a.delResonMap[t[e]]||"暂无":"audit_type"===e?1===t[e]?"已审核":"未审核":"status"===e?1===t[e]?"在线上":"已下线":"origin_degree"===e||"vertical_degree"===e||"health_degree"===e?t[e]&&t[e]+"级"||"暂无":"verified_type"===e?0===t[e]?"已认证":"未认证":"verified_reason"===e||"description"===e?t[e]||"暂无":"update_time"===e?a._parseTime(t[e]):t[e]})})},handleSelectionChange:function(e){if(this.checkedIds=[],e&&e.length>0)for(var t=0;t<e.length;t++)0===e[t].audit_type&&this.checkedIds.push(e[t].id)},passAllEvent:function(){var e=this;this.checkedIds.join(",")?this.$confirm("所选黑名单将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAllAction()}).catch(function(){e.$message({type:"info",message:"已取消批量审核！"})}):Object(R.Message)({showClose:!0,message:"请勾选未审核黑名单用户！",type:"error",duration:3e3})},passAllAction:function(){var e=this,t={url:this.apiConf.blackAuditPassMore,params:{ids:this.checkedIds.join(","),username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"批量审核成功!",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"批量审核失败!",type:"error",duration:0})})}},created:function(){this.init()},watch:{pageAuth:function(){this.init()},blackList:function(){this.blackList&&(this.total=this.blackList.total||0)}}},Za={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{staticClass:"clearfix",attrs:{span:24}},[a("h6",{staticClass:"pane-title left"},[a("i",{staticClass:"el-icon-document hidden-xs-only",staticStyle:{"margin-right":"6px"}}),e._v("领域黑名单")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[e.cateList&&e.cateList.length>0?a("el-col",{attrs:{span:24}},[e.cateList?a("el-form",{attrs:{inline:"",model:e.formInline,"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"UID","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入作者UID",clearable:""},model:{value:e.formInline.uid,callback:function(t){e.$set(e.formInline,"uid",t)},expression:"formInline.uid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核状态","label-width":"70px"}},[a("el-select",{staticStyle:{"max-width":"100px"},attrs:{placeholder:"请选择编辑状态"},model:{value:e.formInline.audit_type,callback:function(t){e.$set(e.formInline,"audit_type",t)},expression:"formInline.audit_type"}},e._l(e.auditList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"操作者类型","label-width":"90px"}},[a("el-select",{staticStyle:{"max-width":"100px"},attrs:{filterable:"",placeholder:"请选择操作者类型"},model:{value:e.formInline.role_id,callback:function(t){e.$set(e.formInline,"role_id",t)},expression:"formInline.role_id"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"PM",value:1}}),e._v(" "),a("el-option",{attrs:{label:"RD",value:2}}),e._v(" "),a("el-option",{attrs:{label:"业务方",value:3}}),e._v(" "),a("el-option",{attrs:{label:"实习生",value:4}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"F层级","label-width":"50px"}},[a("el-select",{staticStyle:{"max-width":"80px"},attrs:{placeholder:"请选择F层级"},model:{value:e.formInline.F_level,callback:function(t){e.$set(e.formInline,"F_level",t)},expression:"formInline.F_level"}},e._l(e.flevelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"选择领域","label-width":"70px"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择领域"},model:{value:e.formInline.field_id,callback:function(t){e.$set(e.formInline,"field_id",t)},expression:"formInline.field_id"}},[a("el-option",{attrs:{label:"所有领域",value:""}}),e._v(" "),e._l(e.cateList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})],2),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1):e._e()],1):a("el-col",{attrs:{span:24}},[a("el-alert",{attrs:{title:e.tips,type:"warning","show-icon":"",closable:!1}})],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[e.cateList&&e.cateList.length>0?a("div",{staticClass:"clearfix",staticStyle:{padding:"10px 0"}},[a("el-button",{staticClass:"left",attrs:{round:"",size:"mini"},on:{click:function(t){e.passAllEvent()}}},[e._v("勾选名单通过")]),e._v(" "),a("el-button",{staticClass:"left",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加黑名单")]),e._v(" "),""!==e.formInline.field_id?a("el-button",{staticClass:"right",attrs:{type:"danger",size:"mini",title:"批量导出全部 Excel",loading:e.downloadAllLoading},on:{click:e.handleDownloadAll}},[a("span",[e._v("导出全部")])]):e._e(),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"warning",size:"mini",title:"批量导出当前页数据 Excel",loading:e.downloadCurLoading},on:{click:e.handleDownloadCur}},[a("span",[e._v("导出当前页")])])],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"添加黑名单账号",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formAdd,"label-position":"left"}},[a("el-form-item",{attrs:{label:"作者UID","label-width":"80px",required:""}},[a("el-input",{staticClass:"white-item",attrs:{"auto-complete":"off",placeholder:"请输入作者UID",clearable:""},model:{value:e.formAdd.uid,callback:function(t){e.$set(e.formAdd,"uid",t)},expression:"formAdd.uid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作者昵称","label-width":"80px",required:""}},[a("el-input",{staticClass:"white-item",attrs:{"auto-complete":"off",placeholder:"请输入作者昵称",clearable:""},model:{value:e.formAdd.user_name,callback:function(t){e.$set(e.formAdd,"user_name",t)},expression:"formAdd.user_name"}})],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("span",{staticClass:"table-title left"},[e._v("选择添加黑名单的理由")])]),e._v(" "),a("el-form-item",{attrs:{label:"博主发布内容："}},[a("el-radio-group",{model:{value:e.formAdd.cause,callback:function(t){e.$set(e.formAdd,"cause",t)},expression:"formAdd.cause"}},e._l(e.delResonList,function(t,i){return a("el-radio",{key:i,staticStyle:{"margin-top":"5px","margin-left":"10px"},attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addEvent()}}},[e._v("添 加")])],1)],1),e._v(" "),e.blackList&&e.blackList.data?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.blackList.data,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",width:"120",align:"left",prop:"uid",label:"uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link-btn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.uid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"user_name",label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{class:t.row.user_name?"link-btn":"errorBtn",attrs:{href:"//weibo.com/u/"+t.row.uid,target:"_blank",title:"跳转至微博主页"}},[e._v(e._s(t.row.user_name||"未知"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"field_name",label:"领域"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.field_name||"无领域"))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"cause",label:"下线理由"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.cause&&e.delResonMap[t.row.cause]||"暂无"))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"80",align:"left",prop:"",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:1==t.row.audit_type?"":"errorBtn"},[e._v(e._s(1==t.row.audit_type?"已审核":"未审核"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"verified_type",label:"认证状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0===t.row.verified_type?"已认证":"未认证"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"verified_reason",label:"认证信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.verified_reason||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"description",label:"简介"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.description||"暂无"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",align:"left",prop:"update_time",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.update_time)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-black",{attrs:{data:t.row,formInline:e.formInline,callback:e.onSearch}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[5,10,20,30,40,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Xa,ei=a("VU/8")(Ya,Za,!1,function(e){a("xfDv")},"data-v-0bb6c2b6",null).exports,ti=a("bOdI"),ai=a.n(ti),ii="http://10.41.15.147",ni={name:"itemList",props:["item","index","callback","sourcelist"],data:function(){return{loading:!1,isEditable:!1,videoSrc:"",categoryList:[],secondTagList:[],thirdTagList:[],cate:[],second_tag:[],third_tag:[],deleteReason:"",controls:!1,logList:[{content:"删除",operator:"tester",create_time:1524672798,description:"内容有待审核"},{content:"通过审核",operator:"tester",create_time:1524672598}]}},computed:l()({},Object(s.b)(["curvideo","email"])),methods:(Xa={init:function(){this.cate=this.formatTag(this.item.cate),this.second_tag=this.formatTag(this.item.second_tag),this.thirdTagList=this.formatThirdTag(this.item.third_tag),this.third_tag=this.formatTag(this.item.third_tag)},togglePlay:function(){this.$store.dispatch("updateVideo",this.item.mid),this.videoSrc||this.setVideoSrc()},setVideoSrc:function(){var e=this,t={url:"/lab/showbatch",params:{ids:this.item.mid,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){try{e.videoSrc=t[0].url_objects[0].object.object.stream.url}catch(t){e.videoSrc=e.item.video_urls[0]}e.controls=!0})},formatTag:function(e){return""===e||"|"===e?[]:e.slice(0,-1).split("|")}},ai()(Xa,"formatTag",function(e){var t=[];if(e&&e.length>0)for(var a=0;a<e.length;a++)t.push(e[a].tagid);return t}),ai()(Xa,"formatThirdTag",function(e){var t=[];if(e&&e.length>0)for(var a=0;a<e.length;a++)t.push({tagid:e[a].tagid,name:e[a].name});return t}),ai()(Xa,"_formatNum",function(e){return E(e)}),ai()(Xa,"_parsePercent",function(e,t){return j(e,t)}),ai()(Xa,"_parseTime",function(e,t){return F(e,t)}),ai()(Xa,"getMysql",function(e){return"fast_recommend_materials"==e?"推荐物料":"冷启动"}),ai()(Xa,"getState",function(e){var t="";switch(e){case"-1":t="已删除";break;case"0":t="待审";break;case"1":t="已通过"}return t}),ai()(Xa,"remoteMethod",function(e){var t=this;if(""!==e){this.loading=!0;var a={url:ii+":6066/query_tag",param:{tag_name:e}},i={data:A()(a),cip:230};this.$store.dispatch("GetThirdTag",i).then(function(e){t.loading=!1,e.code&&200==Number(e.code)&&(t.thirdTagList=e.data)})}}),ai()(Xa,"cancelEvent",function(){this.isEditable=!1,this.init()}),ai()(Xa,"saveEvent",function(){var e=this;this.isEditable=!1;var t={url:ii+":6069/update_mid",param:{mids:this.item.mid,table_name:this.item.mysql,op_type:"update_tags",category:this.cate.join(","),ability:this.second_tag.join(","),tag:this.third_tag.join(","),user:this.email}},a={data:A()(t),cip:230};console.log("修改标签：",t),this.$store.dispatch("SetManageData",a).then(function(t){t.code&&200==Number(t.code)&&e.callback()})}),ai()(Xa,"passEvent",function(){var e=this;this.$confirm("物料审核通过, 是否继续?","物料通过审核",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAction(e.item.mid)}).catch(function(){e.$message({type:"info",message:"取消通过审核"})})}),ai()(Xa,"passAction",function(e){var t=this,a={url:ii+":6069/update_mid",param:{mids:e,table_name:this.item.mysql,op_type:"manual_pass",user:this.email}},i={data:A()(a),cip:230};console.log("通过审核：",a),this.$store.dispatch("SetManageData",i).then(function(e){e.code&&200==Number(e.code)&&(t.$message({type:"success",message:"通过审核成功!"}),t.callback())})}),ai()(Xa,"deleteEvent",function(){var e=this;this.$prompt("请输入删除原因","删除当前物料",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPattern:/[\s\S]/,inputErrorMessage:"输入内容不能为空",beforeClose:function(t,a,i){"confirm"===t&&(e.deleteReason=a.inputValue),i()}}).then(function(){e.deleteAction(e.item.mid,e.deleteReason)}).catch(function(){e.$message({type:"info",message:"取消删除"})})}),ai()(Xa,"deleteAction",function(e,t){var a=this,i={url:ii+":6069/update_mid",param:{mids:e,table_name:this.item.mysql,op_type:"delete",reason:t,user:this.email}},n={data:A()(i),cip:230};console.log("审核删除：",i),this.$store.dispatch("SetManageData",n).then(function(e){e.code&&200==Number(e.code)&&(a.$message({type:"success",message:"删除成功！"}),a.callback())})}),ai()(Xa,"getSourceName",function(e){var t="未知";if(e&&e.length>0){for(var a=[],i=0;i<e.length;i++)a.push(this.sourcelist[e[i]]);t=a.join("、")}return t}),Xa),created:function(){this.categoryList=pt,this.secondTagList=ht,this.init()},watch:{item:function(){this.init()},index:function(){},curvideo:function(){this.curvideo!=this.item.mid&&(this.videoSrc="",this.controls=!1)},email:function(){}}},li={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{staticClass:"item-wrapper",attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("el-row",[a("div",{staticClass:"item-status-box clearfix"},[a("el-checkbox",{staticClass:"left",attrs:{label:e.item.mid}},[e._v("NO."+e._s(e.index))]),e._v(" "),a("div",{staticClass:"clearfix left"},[a("label",{staticClass:"item-mid left"},[e._v("mid: "+e._s(e.item.mid))]),e._v(" "),a("label",{staticClass:"item-uid left"},[e._v("uid: "+e._s(e.item.uid))]),e._v(" "),a("label",{staticClass:"item-mysql left"},[e._v("召回池: "+e._s(e.getMysql(e.item.mysql)))]),e._v(" "),a("label",{staticClass:"item-origin left"},[e._v("原创: 是")]),e._v(" "),a("label",{staticClass:"item-state left"},[e._v("物料状态: "+e._s(e.getState(e.item.materials_type)))]),e._v(" "),a("label",{staticClass:"item-source left"},[a("span",{staticStyle:{"margin-right":"5px"}},[e._v("物料来源: ")]),a("span",[e._v(e._s(e.getSourceName(e.item.material_source)))])])]),e._v(" "),a("div",{staticClass:"clearfix right"},["-1"!=e.item.materials_type?a("el-button",{staticClass:"right",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",plain:"",size:"mini"},on:{click:e.deleteEvent}},[e._v("删除")]):e._e(),e._v(" "),"1"!=e.item.materials_type?a("el-button",{staticClass:"right",attrs:{type:"success",plain:"",size:"mini"},on:{click:e.passEvent}},[e._v("通过")]):e._e(),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){e.isEditable=!0}}},[e._v("修改标签")])],1)],1),e._v(" "),a("div",{staticStyle:{margin:"10px"}},[a("el-form",{attrs:{inline:!0,"label-position":"left","label-width":"50px"}},[e.categoryList?a("el-form-item",{attrs:{label:"分类1",size:"mini"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择",filterable:"",disabled:!e.isEditable},model:{value:e.cate,callback:function(t){e.cate=t},expression:"cate"}},e._l(e.categoryList,function(e){return a("el-option",{key:e.tagid,attrs:{label:e.name,value:e.tagid}})}))],1):e._e(),e._v(" "),e.secondTagList?a("el-form-item",{attrs:{label:"分类2",size:"mini"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择",filterable:"",disabled:!e.isEditable},model:{value:e.second_tag,callback:function(t){e.second_tag=t},expression:"second_tag"}},e._l(e.secondTagList,function(e){return a("el-option",{key:e.tagid,attrs:{label:e.name,value:e.tagid}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"tags",size:"mini"}},[a("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.remoteMethod,placeholder:"请输入关键词",loading:e.loading,disabled:!e.isEditable},model:{value:e.third_tag,callback:function(t){e.third_tag=t},expression:"third_tag"}},e._l(e.thirdTagList,function(e){return a("el-option",{key:e.tagid,attrs:{label:e.name,value:e.tagid}})}))],1),e._v(" "),e.isEditable?a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.cancelEvent()}}},[e._v("取消")]):e._e(),e._v(" "),e.isEditable?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.saveEvent()}}},[e._v("保存并通过审核")]):e._e()],1)],1),e._v(" "),e.item.logList?a("div",{staticStyle:{"padding-bottom":"10px"}},[a("div",{staticClass:"table-title left"},[e._v("【操作记录】")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.item.logList,"max-height":"200",border:"",stripe:""}},[a("el-table-column",{attrs:{align:"left",prop:"content",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"操作时间","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._parseTime(t.row.create_time,"{y}-{m}-{d} {h}:{i}:{s}")))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"description",label:"说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.description||"暂无"))])]}}])})],1)],1):e._e()]),e._v(" "),a("el-row",{staticClass:"clearfix"},[a("div",{staticClass:"left"},[a("a",{staticClass:"item-avatar",attrs:{target:"_blank",href:"//weibo.com/u/"+e.item.uid,title:"跳转微博主页"}},[a("img",{attrs:{src:e.item.profile_image_url}})])]),e._v(" "),a("div",{staticClass:"left",staticStyle:{padding:"10px"}},[a("el-row",[a("a",{staticClass:"item-name",attrs:{href:"//weibo.com/u/"+e.item.uid,target:"_blank",title:"跳转微博主页"}},[e._v(e._s(e.item.screen_name))])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[a("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank"}},[e._v(e._s(e._parseTime(e.item.created_at)))])]),e._v(" "),e.item.source?a("span",{staticClass:"info-box"},[e._v("来自\n            "),a("label",{staticClass:"item-info",domProps:{innerHTML:e._s(e.item.source)}})]):e._e()])],1)]),e._v(" "),a("el-row",{staticClass:"content-text"},[a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank",title:"查看微博详情"}},[e._v(e._s(e.item.text))])]),e._v(" "),e.item.pic_ids&&e.item.pic_ids.length>0?a("el-row",{staticClass:"img-wrapper"},[a("el-col",{attrs:{xs:24,span:12}},[a("el-row",e._l(e.item.pic_ids,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"2px"},attrs:{span:7}},[a("div",{staticClass:"img-box"},[a("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+t+".jpg);"},[e._v(e._s(t?"":"图片加载失败"))])])])}))],1)],1):e._e(),e._v(" "),e.item.video_pic_urls&&e.item.video_pic_urls[0]?a("el-row",{staticClass:"video-wrapper"},[e.videoSrc?e._e():a("span",{staticClass:"play-btn",on:{click:e.togglePlay}},[a("i",{staticClass:"el-icon-caret-right play-btn-icon"})]),e._v(" "),a("video",{attrs:{id:"video"+e.item.mid,poster:e.item.video_pic_urls[0],controls:e.controls,src:e.videoSrc,autoplay:""}},[e._v("您的浏览器不支持HTML5")])]):e._e(),e._v(" "),a("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-phone-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("热度 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.hot_num)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-view hidden-xs-only"}),e._v(" "),a("label",[e._v("曝光 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.expo)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-edit hidden-xs-only"}),e._v(" "),a("label",[e._v("点击 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.click_num)))])]),e._v(" "),a("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("ctr ")]),e._v(" "),a("span",[e._v(e._s(e._parsePercent(e.item.click_rate)))])])],1)],1)],1)},staticRenderFns:[]};var si={name:"manage",components:{Auth:x,ItemList:a("VU/8")(ni,li,!1,function(e){a("8Qf5")},"data-v-58326986",null).exports},data:function(){return{datalist:null,formInline:{last_digit:["all"],table_name:"fast_recommend_materials",cate:[""],material_source:"",date:[],sort_type:"time",flag_check:"",mid:[],uid:[],page:1,count:5,total:0},initoption:{cate:[{tagid:"",name:"全部"},{tagid:"tags",name:"一级标签",children:pt}],lastdigit:[{value:"all",label:"全部"},{value:"0",label:0},{value:"1",label:1},{value:"2",label:2},{value:"3",label:3},{value:"4",label:4},{value:"5",label:5},{value:"6",label:6},{value:"7",label:7},{value:"8",label:8},{value:"9",label:9}],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},props:{value:"tagid",label:"name"}},way:"mid",content:"",isIndeterminate:!1,checkAll:!1,midList:[],checkedMid:[],deleteReason:"",materialSourceList:null}},computed:l()({},Object(s.b)(["email","pageAuth"])),methods:{init:function(){1===this.pageAuth&&(this.formInline.date=[Date.now(),Date.now()],this.getMaterialSource())},getMaterialSource:function(){var e=this,t={url:"http://10.41.15.147:6067/query_source_list",param:{}},a={data:A()(t),cip:230};this.$store.dispatch("ProxyGet",a).then(function(t){e.materialSourceList=t||null,e.onSearch()})},onSearch:function(){var e=this;this.formInline[this.way]=this.content,"mid"==this.way?this.formInline.uid="":this.formInline.mid="";var t={url:"http://10.41.15.147:6065/query_mid",param:{mid:this.formInline.mid,uid:this.formInline.uid,last_digit:"all"==this.formInline.last_digit?"":this.formInline.last_digit.join(","),table_name:this.formInline.table_name,cate:"tags"==this.formInline.cate[0]?this.formInline.cate[1]:"",material_source:this.formInline.material_source,sort_type:this.formInline.sort_type,page:this.formInline.page,count:this.formInline.count}},a={data:A()(t),cip:230};this.$store.dispatch("GetManageData",a).then(function(t){t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),e.datalist=t.data,e.formInline.total=t.total_length,e.setMidList(t.data))})},setMidList:function(e){if(this.midList=[],e&&e.length>0)for(var t=0;t<e.length;t++)this.midList.push(e[t].mid)},handleCheckAllChange:function(e){this.checkedMid=e?this.midList:[],this.isIndeterminate=!1},handleCheckedMidChange:function(e){var t=e.length;this.checkAll=t===this.midList.length,this.isIndeterminate=t>0&&t<this.midList.length},allPassEvent:function(){var e=this;this.$confirm("所选物料将全部通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.passAction(e.checkedMid.join(","))}).catch(function(){e.$message({type:"info",message:"已取消通过审核"})})},passAction:function(e){var t=this,a={url:"http://10.41.15.147:6069/update_mid",param:{mids:e,table_name:"fast_recommend_materials",op_type:"manual_pass",user:this.email}},i={data:A()(a),cip:230};this.$store.dispatch("SetManageData",i).then(function(e){e.code&&200==Number(e.code)&&(t.$message({type:"success",message:"所选物料已全部通过审核!"}),t.onSearch())})},allDeleteEvent:function(){var e=this;this.$prompt("请输入删除原因","删除所选物料",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputPattern:/[\s\S]/,inputErrorMessage:"输入内容不能为空",beforeClose:function(t,a,i){"confirm"===t&&(e.deleteReason=a.inputValue),i()}}).then(function(){e.deleteAction(e.checkedMid,e.deleteReason)}).catch(function(){e.$message({type:"info",message:"取消删除"})})},deleteAction:function(e,t){var a=this,i={url:"http://10.41.15.147:6069/update_mid",param:{mids:e,table_name:"fast_recommend_materials",op_type:"delete",reason:t,user:this.email}},n={data:A()(i),cip:230};this.$store.dispatch("SetManageData",n).then(function(e){e.code&&200==Number(e.code)&&(a.$message({type:"success",message:"删除成功！"}),a.onSearch())})},handleLastDigit:function(){-1!=this.formInline.last_digit.indexOf("all")&&0!=this.formInline.last_digit.indexOf("all")?this.formInline.last_digit=["all"]:this.formInline.last_digit.length>=2&&0==this.formInline.last_digit.indexOf("all")&&this.formInline.last_digit.splice(0,1)},handleSizeChange:function(e){this.formInline.count=e,this.$store.dispatch("updateVideo",""),this.onSearch()},handleCurrentChange:function(e){this.formInline.page=e,this.$store.dispatch("updateVideo",""),this.onSearch()}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()},datalist:function(){}}},oi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",{staticStyle:{padding:"20px 0"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("el-form",{staticClass:"search-form",attrs:{inline:"",model:e.formInline,"label-position":"right","label-width":"70px"}},[a("el-form-item",{staticClass:"active",attrs:{label:"mid尾号"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择mid尾号，可多选",size:"small"},on:{change:function(t){e.handleLastDigit()}},model:{value:e.formInline.last_digit,callback:function(t){e.$set(e.formInline,"last_digit",t)},expression:"formInline.last_digit"}},e._l(e.initoption.lastdigit,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"领域"}},[a("el-cascader",{attrs:{options:e.initoption.cate,placeholder:"请选择物料领域",props:e.initoption.props,size:"small","change-on-select":""},model:{value:e.formInline.cate,callback:function(t){e.$set(e.formInline,"cate",t)},expression:"formInline.cate"}})],1),e._v(" "),e.materialSourceList?a("el-form-item",{attrs:{label:"物料来源"}},[a("el-select",{attrs:{placeholder:"请选择物料来源",size:"small"},model:{value:e.formInline.material_source,callback:function(t){e.$set(e.formInline,"material_source",t)},expression:"formInline.material_source"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.materialSourceList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})],2)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"排序方式"}},[a("el-radio-group",{model:{value:e.formInline.sort_type,callback:function(t){e.$set(e.formInline,"sort_type",t)},expression:"formInline.sort_type"}},[a("el-radio",{staticStyle:{"margin-left":"30px",padding:"10px 0"},attrs:{label:"time"}},[e._v("发布时间")]),e._v(" "),a("el-radio",{staticStyle:{padding:"10px 0"},attrs:{label:"hot_num"}},[e._v("热度")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"搜索方式"}},[a("el-select",{staticStyle:{width:"70px"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.way,callback:function(t){e.way=t},expression:"way"}},[a("el-option",{attrs:{label:"mid",value:"mid"}}),e._v(" "),a("el-option",{attrs:{label:"uid",value:"uid"}})],1)],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"100%","max-width":"320px"},attrs:{placeholder:"请输入"+e.way,clearable:"",size:"small"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:function(t){e.onSearch()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1),e._v(" "),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"success",size:"mini"},on:{click:e.allPassEvent}},[e._v("勾选物料通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.allDeleteEvent}},[e._v("勾选物料删除")]),e._v(" "),e.datalist&&e.datalist.length>0?a("el-checkbox-group",{on:{change:e.handleCheckedMidChange},model:{value:e.checkedMid,callback:function(t){e.checkedMid=t},expression:"checkedMid"}},e._l(e.datalist,function(t,i){return a("item-list",{key:i,attrs:{sourcelist:e.materialSourceList,callback:e.onSearch,item:t,index:(e.formInline.page-1)*e.formInline.count+i+1}})})):a("div",{staticClass:"none-tips"},[e._v("暂无数据")]),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[5,10,20,30,40],"page-size":2,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ri=a("VU/8")(si,oi,!1,function(e){a("gxUY")},"data-v-a79e6abe",null).exports,ci=a("WBHA"),di={components:{CountTo:a.n(ci).a},props:["total"],methods:{handleSetProjectType:function(e,t){this.$emit("handleSetProjectType",e,t)}},watch:{total:function(){}}},mi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:10}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,span:12}},[a("div",{staticClass:"card-panel",on:{click:function(t){e.handleSetProjectType(1,1)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("span",{staticClass:"card-panel-icon"},[e._v("A级")])]),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("项目进行中")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:this.total.A1,duration:500}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,span:12}},[a("div",{staticClass:"card-panel",on:{click:function(t){e.handleSetProjectType(2,1)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-blue"},[a("span",{staticClass:"card-panel-icon"},[e._v("B级")])]),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("项目进行中")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:this.total.B1,duration:500}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,span:12}},[a("div",{staticClass:"card-panel",on:{click:function(t){e.handleSetProjectType(1,2)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("span",{staticClass:"card-panel-icon"},[e._v("A级")])]),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("项目已完成")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:this.total.A2,duration:500}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,span:12}},[a("div",{staticClass:"card-panel",on:{click:function(t){e.handleSetProjectType(2,2)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-yellow"},[a("span",{staticClass:"card-panel-icon"},[e._v("B级")])]),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("项目已完成")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:this.total.B2,duration:500}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,span:12}},[a("div",{staticClass:"card-panel",on:{click:function(t){e.handleSetProjectType(1,3)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("span",{staticClass:"card-panel-icon"},[e._v("A级")])]),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("项目已关闭")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:this.total.A3,duration:500}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,span:12}},[a("div",{staticClass:"card-panel",on:{click:function(t){e.handleSetProjectType(2,3)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shoppingCard"},[a("span",{staticClass:"card-panel-icon"},[e._v("B级")])]),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("项目已关闭")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{startVal:0,endVal:this.total.B3,duration:500}})],1)])])],1)},staticRenderFns:[]};var ui=a("VU/8")(di,mi,!1,function(e){a("eEGI")},"data-v-83dfa712",null).exports,pi={name:"operateProject",data:function(){return{dialogVisible:!1,delBtnPopover:!1,updatePopover:!1,curData:null}},computed:l()({},Object(s.b)(["email"])),props:["data","callback"],methods:{init:function(){this.curData=ca()({},this.data)},_parseTime:function(e,t){return F(e,t)},showEditDialog:function(){this.init(),this.dialogVisible=!0},deleteEvent:function(){var e=this;this.delBtnPopover=!1;var t={id:this.curData.id},a={url:"/project/delSubtask",params:{where:A()(t),username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"删除成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"删除失败!",type:"error",duration:3e3})})},updateEvent:function(){var e=this;if(this.updatePopover=!1,this.curData.name)if(this.curData.end_time){var t={id:this.curData.id},a=[];this.data.time_list&&(a=this.data.time_list.split(",")),a.push(this.data.end_time);var i={name:this.curData.name,end_time:this.curData.end_time,time_list:a.join(",")},n={url:"/project/setSubtask",params:{where:A()(t),data:A()(i),username:this.email,cip:230}};this.$store.dispatch("CommonGet",n).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"请选择子任务完成日期！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填子任务名称！",type:"error",duration:1e3})}},created:function(){this.init()},watch:{data:function(){this.init()}}},hi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.curData?a("div",[a("el-dialog",{attrs:{title:"编辑子任务【"+e.curData.name+"】",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"名称",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{placeholder:"请输入子任务名称",size:"small",clearable:""},model:{value:e.curData.name,callback:function(t){e.$set(e.curData,"name",t)},expression:"curData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"完成时间",required:""}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.curData.end_time,callback:function(t){e.$set(e.curData,"end_time",t)},expression:"curData.end_time"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存当前修改？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary",size:"small"}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-popover",{ref:"popDelBtn",attrs:{placement:"top",width:"200"},model:{value:e.delBtnPopover,callback:function(t){e.delBtnPopover=t},expression:"delBtnPopover"}},[a("p",[e._v("确定删除该子任务？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.showEditDialog()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popDelBtn",arg:"popDelBtn"}],staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"删除"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("删除")])])],1):e._e()},staticRenderFns:[]};var fi={name:"operateProject",components:{OperateSubtask:a("VU/8")(pi,hi,!1,function(e){a("NYXQ")},"data-v-b984f48a",null).exports},data:function(){return{dialogVisible:!1,delBtnPopover:!1,updatePopover:!1,curData:null,isShowAdd:!1,formAdd:{name:"",end_time:""}}},computed:l()({},Object(s.b)(["email"])),props:["data","callback"],methods:{init:function(){this.curData=ca()({},this.data)},_parseTime:function(e,t){return F(e,t)},showEditDialog:function(){this.init(),this.dialogVisible=!0},deleteEvent:function(){var e=this;this.delBtnPopover=!1;var t={id:this.curData.id},a={url:"/project/delProject",params:{where:A()(t),username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"删除成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"删除失败!",type:"error",duration:3e3})})},updateEvent:function(){var e=this;if(this.updatePopover=!1,this.curData.name)if(this.curData.demander)if(this.curData.responsible)if(this.curData.participant){var t={id:this.curData.id},a={name:this.curData.name,state:this.curData.state,type:this.curData.type,describe:this.curData.describe,demander:this.curData.demander,responsible:this.curData.responsible,participant:this.curData.participant},i={url:"/project/setProject",params:{where:A()(t),data:A()(a),username:this.email,cip:230}};this.$store.dispatch("CommonGet",i).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.callback()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"请填写项目参与者！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写项目负责人！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写项目需求人！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写项目名称！",type:"error",duration:1e3})},addEvent:function(){var e=this;if(this.formAdd.name)if(this.formAdd.end_time){var t={project_id:this.curData.id,name:this.formAdd.name,end_time:this.formAdd.end_time},a={url:"/project/addSubtask",params:{subtaskData:A()(t),username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"添加成功！",type:"success",duration:1e3}),e.cancelAdd(),e.callback())})}else Object(R.Message)({showClose:!0,message:"请选择子任务完成日期！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填子任务名称！",type:"error",duration:1e3})},cancelAdd:function(){this.isShowAdd=!1,this.formAdd={name:"",end_time:""}}},created:function(){this.init()},watch:{data:function(){this.init()}}},_i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.curData?a("div",[a("el-dialog",{attrs:{title:"编辑【"+e.curData.name+"】",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{size:"small"}},[a("el-form-item",{attrs:{label:"项目名称",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{placeholder:"请输入项目名称",size:"small",clearable:""},model:{value:e.curData.name,callback:function(t){e.$set(e.curData,"name",t)},expression:"curData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.curData.type,callback:function(t){e.$set(e.curData,"type",t)},expression:"curData.type"}},[a("el-radio",{attrs:{label:1}},[e._v("A级")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("B级")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.curData.state,callback:function(t){e.$set(e.curData,"state",t)},expression:"curData.state"}},[a("el-radio",{attrs:{label:1}},[e._v("进行中")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("已完成")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("已关闭")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"需求人",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{type:"textarea",placeholder:"请输入需求人 多个用值用英文逗号(,)分隔",size:"small",clearable:""},model:{value:e.curData.demander,callback:function(t){e.$set(e.curData,"demander",t)},expression:"curData.demander"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{type:"textarea",placeholder:"请输入负责人 多个用值用英文逗号(,)分隔",size:"small",clearable:""},model:{value:e.curData.responsible,callback:function(t){e.$set(e.curData,"responsible",t)},expression:"curData.responsible"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参与者",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{type:"textarea",placeholder:"请输入参与者 多个用值用英文逗号(,)分隔",size:"small",clearable:""},model:{value:e.curData.participant,callback:function(t){e.$set(e.curData,"participant",t)},expression:"curData.participant"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{type:"textarea",placeholder:"请输入项目描述",size:"small",clearable:""},model:{value:e.curData.describe,callback:function(t){e.$set(e.curData,"describe",t)},expression:"curData.describe"}})],1)],1),e._v(" "),e.curData.subtaskList?a("el-row",[a("h6",{staticClass:"clearfix"},[a("div",{staticClass:"table-title left"},[e._v("【子任务】")]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"success",round:"",size:"mini"},on:{click:function(t){e.isShowAdd=!0}}},[e._v("新增子任务")])],1),e._v(" "),e.isShowAdd?a("el-form",{attrs:{"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"子任务名称",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{placeholder:"请输入子任务名称",size:"small",clearable:""},model:{value:e.formAdd.name,callback:function(t){e.$set(e.formAdd,"name",t)},expression:"formAdd.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:" 完 成 时 间",required:""}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.formAdd.end_time,callback:function(t){e.$set(e.formAdd,"end_time",t)},expression:"formAdd.end_time"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.cancelAdd()}}},[e._v("取消")])],1)],1):e._e(),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.curData.subtaskList,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"left",prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"完成日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.time_list?a("div",e._l(t.row.time_list.split(","),function(t,i){return a("span",{key:i,staticClass:"task-overtime"},[e._v(e._s(t)),a("br")])})):e._e(),e._v(" "),a("span",[e._v(e._s(t.row.end_time))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"create_time",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-subtask",{attrs:{data:t.row,callback:e.callback}})]}}])})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存当前修改？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary",size:"small"}},[e._v("保 存")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-popover",{ref:"popDelBtn",attrs:{placement:"top",width:"200"},model:{value:e.delBtnPopover,callback:function(t){e.delBtnPopover=t},expression:"delBtnPopover"}},[a("p",[e._v("确定删除该项目？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.showEditDialog()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popDelBtn",arg:"popDelBtn"}],staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"删除"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("删除")])])],1):e._e()},staticRenderFns:[]};var gi=a("VU/8")(fi,_i,!1,function(e){a("Y5Rb")},"data-v-e50ff21a",null).exports,vi={name:"todoList",data:function(){return{dialogVisible:!1,addPopover:!1,formAdd:{item:"",name:""},updateVisible:!1,updatePopover:!1,formUpdate:{item:"",name:""},curList:"",todoList:null}},computed:l()({},Object(s.b)(["email"])),props:["readonly"],methods:{init:function(){this.onSearch()},onSearch:function(){var e=this;this.$store.dispatch("CommonGet",{url:"/project/getBacklog",params:{cip:230}}).then(function(t){t.code&&200==Number(t.code)&&(e.todoList=t.result)})},deleteEvent:function(e){var t=this;this.$confirm("确定删除当前待办事项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){t.deleteAction(e)}).catch(function(){t.$message({type:"info",message:"取消删除",duration:1e3})})},deleteAction:function(e){var t=this,a={id:e},i={url:"/project/delBacklog",params:{where:A()(a),username:this.email,cip:230}};this.$store.dispatch("CommonGet",i).then(function(e){e.code&&200==Number(e.code)?(Object(R.Message)({showClose:!0,message:"删除成功！",type:"success",duration:1e3}),t.dialogVisible=!1,t.onSearch()):Object(R.Message)({showClose:!0,message:e.msg||"删除失败!",type:"error",duration:3e3})})},showUpdate:function(e,t){this.formUpdate=ca()({},e),this.curList=t+1+"、"+e.item,this.updateVisible=!0},updateEvent:function(){var e=this;if(this.updatePopover=!1,this.formUpdate.item)if(this.formUpdate.name){var t={id:this.formUpdate.id},a={item:this.formUpdate.item,name:this.formUpdate.name},i={url:"/project/setBacklog",params:{where:A()(t),data:A()(a),username:this.email,cip:230}};this.$store.dispatch("CommonGet",i).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.updateVisible=!1,e.onSearch()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败!",type:"error",duration:3e3})})}else Object(R.Message)({showClose:!0,message:"请填写相关人员！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写待办事项描述！",type:"error",duration:1e3})},addEvent:function(){var e=this;if(this.addPopover=!1,this.formAdd.item)if(this.formAdd.name){var t={item:this.formAdd.item,name:this.formAdd.name},a={url:"/project/addBacklog",params:{data:A()(t),username:this.email,cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"添加成功！",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch())})}else Object(R.Message)({showClose:!0,message:"请填写相关人员！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写待办事项描述！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.formAdd={item:"",name:""}}},created:function(){this.init()},watch:{readonly:function(){}}},bi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"todo-list-box"},[a("el-dialog",{attrs:{title:"添加待办事项",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"事项描述",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{type:"textarea",placeholder:"请输入事项描述",size:"small",clearable:""},model:{value:e.formAdd.item,callback:function(t){e.$set(e.formAdd,"item",t)},expression:"formAdd.item"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"相关人员",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{placeholder:"请输入相关人员",size:"small",clearable:""},model:{value:e.formAdd.name,callback:function(t){e.$set(e.formAdd,"name",t)},expression:"formAdd.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.addPopover,callback:function(t){e.addPopover=t},expression:"addPopover"}},[a("p",[e._v("确定添加待办事项？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.addPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("提交")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改【"+e.curList+"】",visible:e.updateVisible,width:"60%"},on:{"update:visible":function(t){e.updateVisible=t}}},[a("el-form",{attrs:{"label-position":"left",size:"small"}},[a("el-form-item",{attrs:{label:"事项描述",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{type:"textarea",placeholder:"请输入事项描述",size:"small",clearable:""},model:{value:e.formUpdate.item,callback:function(t){e.$set(e.formUpdate,"item",t)},expression:"formUpdate.item"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"相关人员",required:""}},[a("el-input",{staticStyle:{"max-width":"260px"},attrs:{placeholder:"请输入相关人员",size:"small",clearable:""},model:{value:e.formUpdate.name,callback:function(t){e.$set(e.formUpdate,"name",t)},expression:"formUpdate.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存待办事项？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary",size:"small"}},[e._v("保 存")])],1)],1),e._v(" "),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"table-title left"},[e._v("待办事项")]),e._v(" "),e.readonly?e._e():a("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新增")])],1),e._v(" "),e.todoList&&e.todoList.length>1?a("div",{style:"animation: moveing "+2*e.todoList.length+"s ease-in-out infinite;"},e._l(e.todoList,function(t,i){return a("div",{key:i,staticClass:"todo-list"},[e._v("\n        "+e._s(i+1+"、"+t.item+" ")+"\n        "),a("a",{staticClass:"link-btn"},[e._v("@"+e._s(t.name))]),e._v(" "),e.readonly?e._e():a("el-button",{staticClass:"right",attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){e.deleteEvent(t.id)}}}),e._v(" "),e.readonly?e._e():a("el-button",{staticClass:"right",staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){e.showUpdate(t,i)}}})],1)})):e.todoList&&1==e.todoList.length?a("div",{staticStyle:{"margin-top":"-162px"}},e._l(e.todoList,function(t,i){return a("div",{key:i,staticClass:"todo-list"},[e._v("\n        "+e._s(i+1+"、"+t.item+" ")+"\n        "),a("a",{staticClass:"link-btn"},[e._v("@"+e._s(t.name))]),e._v(" "),e.readonly?e._e():a("el-button",{staticClass:"right",attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){e.deleteEvent(t.id)}}}),e._v(" "),e.readonly?e._e():a("el-button",{staticClass:"right",staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){e.showUpdate(t,i)}}})],1)})):a("div",{staticClass:"none-tips"},[a("i",{staticClass:"el-icon-info"}),e._v(" "),a("span",[e._v("暂无待办事项")])])])],1)},staticRenderFns:[]};var yi=[{email:"yunyun7"},{email:"honglei1"},{email:"juanmin"},{email:"wangyang29"}],wi={name:"project",components:{Auth:x,PanelGroup:ui,OperateProject:gi,TodoList:a("VU/8")(vi,bi,!1,function(e){a("zNex"),a("8FDY")},"data-v-37ba47dc",null).exports},data:function(){return{testTime:"2018-07-28 11:58:54,2018-08-01 23:00:00",readonly:!0,formInline:{name:"",state:1,type:"",date:[]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()-864e5),e.$emit("pick",[a,t])}}]},proList:null,statList:{A1:0,A2:0,A3:0,B1:0,B2:0,B3:0},dialogVisible:!1,addPopover:!1,formAdd:{name:"",type:1,state:1,describe:"",demander:"",responsible:"",participant:""}}},computed:l()({},Object(s.b)(["email","pageAuth"])),methods:{init:function(){if(1===this.pageAuth){var e=Date.now()-5184e5,t=Date.now();this.formInline.date=[e,t],this.setReadonly(),this.onSearch()}},setReadonly:function(){var e=this;yi.map(function(t,a){e.email&&e.email==t.email&&(e.readonly=!1)})},onSearch:function(){var e=this,t={};this.formInline.type&&(t.type=this.formInline.type),this.formInline.state&&(t.state=this.formInline.state),this.formInline.name&&(t.name=this.formInline.name);var a={url:"/project/getProjectList",params:{where:A()(t),cip:230}};this.$store.dispatch("CommonGet",a).then(function(t){if(t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),e.proList=t.result.list,t.result.stat))for(var a in t.result.stat)e.statList[a]=t.result.stat[a].total||0})},handleSetProjectType:function(e,t){this.formInline.type=e,this.formInline.state=t,this.onSearch()},getState:function(e){var t="";switch(e){case 1:t="进行中";break;case 2:t="已完成";break;case 3:t="已关闭"}return t},getType:function(e){return"2"==e?"B级":"A级"},_parseTime:function(e,t){return F(e,t)},showAdd:function(){this.dialogVisible=!0},addEvent:function(){var e=this;if(this.addPopover=!1,this.formAdd.name)if(this.formAdd.demander)if(this.formAdd.responsible)if(this.formAdd.participant){var t={url:"/project/addProject",params:{projectData:A()(this.formAdd),username:this.email,cip:230}};this.$store.dispatch("CommonGet",t).then(function(t){t.code&&200==Number(t.code)&&(Object(R.Message)({showClose:!0,message:"添加成功！",type:"success",duration:1e3}),e.cancelEvent(),e.onSearch())})}else Object(R.Message)({showClose:!0,message:"请填写项目参与者！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写项目负责人！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写项目需求人！",type:"error",duration:1e3});else Object(R.Message)({showClose:!0,message:"请填写项目名称！",type:"error",duration:1e3})},cancelEvent:function(){this.dialogVisible=!1,this.addPopover=!1,this.formAdd={name:"",type:"1",state:"1",describe:"",demander:"",responsible:"",participant:""}}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()}}},xi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",{staticStyle:{padding:"20px 14px"}},[a("el-row",[a("el-col",{attrs:{xs:24,span:13}},[a("panel-group",{attrs:{total:e.statList},on:{handleSetProjectType:e.handleSetProjectType}})],1),e._v(" "),a("el-col",{attrs:{xs:24,span:10}},[a("todo-list",{attrs:{readonly:e.readonly}})],1)],1),e._v(" "),a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{staticStyle:{"background-color":"#fff",padding:"0 10px","border-radius":"3px"},attrs:{label:"分类："}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[a("el-radio",{staticStyle:{"margin-left":"0"},attrs:{label:""}},[e._v("全部")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1}},[e._v("A级")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:2}},[e._v("B级")])],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"background-color":"#fff",padding:"0 10px","border-radius":"3px"},attrs:{label:"状态："}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.formInline.state,callback:function(t){e.$set(e.formInline,"state",t)},expression:"formInline.state"}},[a("el-radio",{staticStyle:{"margin-left":"0px"},attrs:{label:""}},[e._v("全部")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:1}},[e._v("进行中")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:2}},[e._v("已完成")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"10px"},attrs:{label:3}},[e._v("已关闭")])],1)],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"请输入项目名称",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSearch}},[a("span",{staticClass:"hidden-xs-only"},[e._v("查询")])])],1)],1),e._v(" "),a("div",{staticClass:"table-title-wrap clearfix"},[a("span",{staticClass:"table-title left"},[e._v("项目列表")]),e._v(" "),e.readonly?e._e():a("el-button",{staticClass:"right",attrs:{type:"success",size:"mini"},on:{click:function(t){e.showAdd()}}},[e._v("添加")])],1),e._v(" "),a("el-dialog",{attrs:{title:"添加项目",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formAdd,size:"small"}},[a("el-form-item",{attrs:{label:"项目名称",required:""}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"请输入项目名称",size:"small",clearable:""},model:{value:e.formAdd.name,callback:function(t){e.$set(e.formAdd,"name",t)},expression:"formAdd.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.formAdd.type,callback:function(t){e.$set(e.formAdd,"type",t)},expression:"formAdd.type"}},[a("el-radio",{attrs:{label:1}},[e._v("A级")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("B级")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",required:""}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.formAdd.state,callback:function(t){e.$set(e.formAdd,"state",t)},expression:"formAdd.state"}},[a("el-radio",{attrs:{label:1}},[e._v("进行中")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("已完成")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("已关闭")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"需 求 人",required:""}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"请输入项目需求人 多个用值用英文逗号(,)分隔",size:"small",clearable:""},model:{value:e.formAdd.demander,callback:function(t){e.$set(e.formAdd,"demander",t)},expression:"formAdd.demander"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负 责 人",required:""}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:"请输入项目负责人 多个用值用英文逗号(,)分隔",size:"small",clearable:""},model:{value:e.formAdd.responsible,callback:function(t){e.$set(e.formAdd,"responsible",t)},expression:"formAdd.responsible"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参 与 者",required:""}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{type:"textarea",placeholder:"请输入项目参与者 多个用值用英文逗号(,)分隔",size:"small",clearable:""},model:{value:e.formAdd.participant,callback:function(t){e.$set(e.formAdd,"participant",t)},expression:"formAdd.participant"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目描述"}},[a("el-input",{staticStyle:{"max-width":"300px"},attrs:{type:"textarea",placeholder:"请输入项目描述",size:"small",clearable:""},model:{value:e.formAdd.describe,callback:function(t){e.$set(e.formAdd,"describe",t)},expression:"formAdd.describe"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.addPopover,callback:function(t){e.addPopover=t},expression:"addPopover"}},[a("p",[e._v("确定提交项目？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.addPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("提交")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.proList?a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.proList,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{width:"50",prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getType(t.row.type)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"state",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getState(Number(t.row.state))))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"项目描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"demander",label:"项目需求人"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.demander.split(","),function(t,i){return a("a",{key:i,staticClass:"link-btn"},[e._v(e._s(t)),a("br")])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"responsible",label:"项目负责人"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.responsible.split(","),function(t,i){return a("a",{key:i,staticClass:"link-btn"},[e._v(e._s(t)),a("br")])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"participant",label:"项目参与者"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.participant.split(","),function(t,i){return a("a",{key:i,staticClass:"link-btn"},[e._v(e._s(t)),a("br")])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"subtaskList",label:"子任务 | 完成日期","min-width":"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.subtaskList,"show-header":!1,border:""}},[a("el-table-column",{attrs:{prop:"name",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{width:"160",prop:"end_time"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.time_list?a("div",e._l(t.row.time_list.split(","),function(t,i){return a("span",{key:i,staticClass:"task-overtime"},[e._v(e._s(t)),a("br")])})):e._e(),e._v(" "),a("span",[e._v(e._s(t.row.end_time))])]}}])})],1)]}}])}),e._v(" "),e.readonly?e._e():a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-project",{attrs:{data:t.row,callback:e.onSearch}})]}}])})],1)],1):e._e()],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var ki=a("VU/8")(wi,xi,!1,function(e){a("KE9M")},"data-v-0dde2ce4",null).exports,Ci={name:"uploadExcel",components:{UploadExcelComponent:Lt},props:["callback","initdata","example","showexample"],data:function(){return{tableData:[],tableHeader:[]}},methods:{selected:function(e){this.tableData=e.results,this.tableHeader=e.header,this.callback(e.results)}},watch:{initdata:function(){this.initdata||(this.tableData=[],this.tableHeader=[])},example:function(){}}},Ti={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{example:e.example,showexample:e.showexample},on:{"on-selected-file":e.selected}}),e._v(" "),a("el-table",{staticClass:"tableBox",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","max-height":"200"}},e._l(e.tableHeader,function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),e._v(" "),e.tableData&&e.tableData.length>0?a("div",{staticClass:"excel-upload-tips"},[e._v("共上传 "),a("span",[e._v(e._s(e.tableData.length))]),e._v(" 条数据")]):e._e()],1)},staticRenderFns:[]};var Si=a("VU/8")(Ci,Ti,!1,function(e){a("4XAd")},"data-v-4fb56181",null).exports,Li={name:"itemList",props:["item","inputs","index","callback","selectedarr"],data:function(){return{loading:!1,isVideo:!1,videoSrc:"",controls:!1,inputList:null,checkedArr:[]}},computed:l()({},Object(s.b)(["curvideo"])),methods:{init:function(){this.checkedArr=this.selectedarr;try{this.item.url_objects[0].object.object.stream.url;this.isVideo=!0}catch(e){this.isVideo=!1}this.inputs&&this.inputs.content&&(this.inputList=this.inputs.content.split("|"))},togglePlay:function(){this.$store.dispatch("updateVideo",this.item.mid),this.videoSrc||(this.videoSrc=this.item.url_objects[0].object.object.stream.url,this.controls=!0)},_formatNum:function(e){return E(e)},_parseTime:function(e,t){return F(e,t)},getJsonArray:function(e,t,a,i){return e+","+t+","+a+","+i},handlecheckedArrChange:function(e){var t=[];if(this.checkedArr&&this.checkedArr.length>0)for(var a=0;a<this.checkedArr.length;a++){var i=this.checkedArr[a].split(",");!t[i[0]]&&(t[i[0]]=[]),t[i[0]][i[1]]?t[i[0]][i[1]]+=","+i[3]:t[i[0]][i[1]]=i[3]}this.callback(this.index-1,t,this.checkedArr)}},created:function(){this.init()},watch:{item:function(){this.init()},inputs:function(){this.init()},index:function(){},curvideo:function(){this.curvideo!=this.item.mid&&(this.videoSrc="",this.controls=!1)}}},Ai={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{staticClass:"item-wrapper",attrs:{span:24}},[e.inputs?a("el-row",[a("div",{staticClass:"item-status-box clearfix"},[a("span",{staticClass:"left"},[e._v("NO."+e._s(e.index))]),e._v(" "),a("div",{staticClass:"clearfix left"},[a("label",{staticClass:"item-mid left"},[e._v("mid: "+e._s(e.inputs.mid))]),e._v(" "),a("label",{staticClass:"item-cate left"},[e._v("领域: "+e._s(e.inputs.cate))])])])]):e._e(),e._v(" "),e.inputList&&e.inputList.length>0?a("el-row",[a("el-checkbox-group",{on:{change:e.handlecheckedArrChange},model:{value:e.checkedArr,callback:function(t){e.checkedArr=t},expression:"checkedArr"}},e._l(e.inputList,function(t,i){return a("el-col",{key:i,staticStyle:{"margin-bottom":"10px"},attrs:{xs:24,span:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"danger",round:"",size:"mini"}},[e._v("机器/人工评估"+e._s(i+1))])],1),e._v(" "),a("div",{staticClass:"clearfix"},e._l(t.split(";"),function(t,n){return a("div",{key:n,staticClass:"tag-box"},e._l(t.split(","),function(t,l){return a("div",{key:l,staticClass:"tag-item"},[a("el-checkbox",{attrs:{label:e.getJsonArray(i,n,l,t),size:"mini"}},[e._v(e._s(t))])],1)}))}))])],1)}))],1):e._e(),e._v(" "),e.item?a("div",[a("el-row",{staticClass:"clearfix"},[a("div",{staticClass:"left"},[a("a",{staticClass:"item-avatar",attrs:{target:"_blank",href:e.item.user&&"//weibo.com/u/"+e.item.user.id||"javascript:void(0)",title:"跳转微博主页"}},[e.item.user&&e.item.user.avatar_hd?a("img",{attrs:{alt:"头像",title:"用户头像",src:e.item.user&&e.item.user.avatar_hd}}):e._e()])]),e._v(" "),a("div",{staticClass:"left",staticStyle:{padding:"10px"}},[a("el-row",[a("a",{staticClass:"item-name",attrs:{href:e.item.user&&"//weibo.com/u/"+e.item.user.id||"javascript:void(0)",target:"_blank",title:"跳转微博主页"}},[e._v(e._s(e.item.user&&e.item.user.name||"未知"))])]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[a("span",{staticClass:"item-info",attrs:{title:"查看微博详情"}},[a("i",{staticClass:"el-icon-time"}),e._v(" "),a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank"}},[e._v(e._s(e._parseTime(e.item.created_at)))])]),e._v(" "),e.item.source?a("span",{staticClass:"info-box"},[e._v("来自\n              "),a("label",{staticClass:"item-info",domProps:{innerHTML:e._s(e.item.source)}})]):e._e()])],1)]),e._v(" "),a("el-row",{staticClass:"content-text"},[a("a",{attrs:{href:e.item.link||"javascript:void(0)",target:"_blank",title:"查看微博详情"}},[e._v(e._s(e.item.text))])]),e._v(" "),e.item.pic_ids&&e.item.pic_ids.length>0?a("el-row",{staticClass:"img-wrapper"},[a("el-col",{attrs:{xs:24}},[a("el-row",e._l(e.item.pic_ids,function(t,i){return a("el-col",{key:i,staticStyle:{margin:"2px","max-width":"110px"},attrs:{xs:7}},[a("div",{staticClass:"img-box"},[a("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+t+".jpg);"},[e._v(e._s(t?"":"图片加载失败"))])])])}))],1)],1):e._e(),e._v(" "),e.isVideo?a("el-row",{staticClass:"video-wrapper"},[e.videoSrc?e._e():a("span",{staticClass:"play-btn",on:{click:function(t){e.togglePlay()}}},[a("i",{staticClass:"el-icon-caret-right play-btn-icon"})]),e._v(" "),a("video",{attrs:{id:"video"+e.item.mid,poster:e.item.url_objects[0].object.object.image.url,controls:e.controls,src:e.videoSrc,autoplay:""}},[e._v("您的浏览器不支持HTML5")])]):e._e(),e._v(" "),a("el-row",{staticClass:"item-footer",attrs:{type:"flex"}},[a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-news hidden-xs-only"}),e._v(" "),a("label",[e._v("转发 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.reposts_count)))])]),e._v(" "),a("el-col",{staticClass:"footer-list"},[a("i",{staticClass:"el-icon-edit-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("评论 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.comments_count)))])]),e._v(" "),a("el-col",{staticClass:"footer-list",staticStyle:{border:"0"}},[a("i",{staticClass:"el-icon-phone-outline hidden-xs-only"}),e._v(" "),a("label",[e._v("点赞 ")]),e._v(" "),a("span",[e._v(e._s(e._formatNum(e.item.attitudes_count)))])])],1)],1):a("div",{staticClass:"none-tips"},[e._v("暂无数据")])],1)],1)},staticRenderFns:[]};var Ii={name:"manage",components:{Auth:x,UploadExcel:Si,ItemList:a("VU/8")(Li,Ai,!1,function(e){a("/2EL"),a("sVQ9")},"data-v-472a4837",null).exports},data:function(){return{isUpload:!1,uploadExample:{tableHeader:["cate","mid","content"],tableData:[{cate:"领域1",mid:"2675435273",content:"一级标签id:名字,一级标签id:名字;二级标签id:名字,二级标签id:名字;三级标签id:名字,三级标签id:名字;keyword,keyword|一级标签id:名字,一级标签id:名字;二级标签id:名字,二级标签id:名字;三级标签id:名字,三级标签id:名字;keyword,keyword|一级标签id:名字,一级标签id:名字;二级标签id:名字,二级标签id:名字;三级标签id:名字,三级标签id:名字;keyword,keyword"}]},downloadLoading:!1,page:1,count:5,total:0,excelData:null,mids:null,inputList:null,dataList:null,exportList:null}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){},onSearch:function(){var e=this,t=this.mids.slice((this.page-1)*this.count,this.page*this.count),a={url:"/lab/showbatch",params:{ids:t.join(",")}};this.$store.dispatch("CommonGet",a).then(function(a){e.dataList=[];for(var i=0,n=0;i<t.length;i++,n++)a[n]&&t[i]==a[n].id?e.dataList.push(a[n]):(e.dataList.push(""),n--)})},showUpload:function(){this.isUpload=!0},getExcel:function(e){this.excelData=e},setExcelData:function(){var e=this.excelData;if(this.page=1,this.inputList=null,this.dataList=null,this.mids=[],this.exportList=[],e&&e.length>0){this.inputList=e;for(var t=0;t<e.length;t++)this.mids.push(e[t].mid),this.exportList.push({checkedArr:[],cate:e[t].cate,mid:e[t].mid,content:e[t].content,"00":"","01":"","02":"","03":"",10:"",11:"",12:"",13:"",20:"",21:"",22:"",23:"",30:"",31:"",32:"",33:"",40:"",41:"",42:"",43:"",50:"",51:"",52:"",53:"",60:"",61:"",62:"",63:"",70:"",71:"",72:"",73:"",80:"",81:"",82:"",83:"",90:"",91:"",92:"",93:""})}this.total=this.mids&&this.mids.length||0},addsEvent:function(){this.isUpload=!1,this.setExcelData(),this.onSearch()},cancelUpload:function(){this.isUpload=!1,this.excelData=null},getCheckedArr:function(e){return this.exportList[(this.page-1)*this.count+e]&&this.exportList[(this.page-1)*this.count+e].checkedArr||[]},handleSizeChange:function(e){this.$store.dispatch("updateVideo",""),this.count=e,this.mids&&this.mids.length>0&&this.onSearch()},handleCurrentChange:function(e){this.$store.dispatch("updateVideo",""),this.page=e,this.mids&&this.mids.length>0&&this.onSearch()},handleSelectChange:function(e,t,a){if(this.exportList[e].checkedArr=a,t&&t.length>0){console.log(t);for(var i=0;i<t.length;i++)if(t[i]&&t[i].length>0)for(var n=0;n<t[i].length;n++)this.exportList[e][""+i+n]=t[i][n]||"";else this.exportList[e][i+"0"]="",this.exportList[e][i+"1"]="",this.exportList[e][i+"2"]="",this.exportList[e][i+"3"]=""}else this.exportList[e]["00"]="",this.exportList[e]["01"]="",this.exportList[e]["02"]="",this.exportList[e]["03"]="",this.exportList[e][10]="",this.exportList[e][11]="",this.exportList[e][12]="",this.exportList[e][13]="",this.exportList[e][20]="",this.exportList[e][21]="",this.exportList[e][22]="",this.exportList[e][23]="",this.exportList[e][30]="",this.exportList[e][31]="",this.exportList[e][32]="",this.exportList[e][33]="",this.exportList[e][40]="",this.exportList[e][41]="",this.exportList[e][42]="",this.exportList[e][43]="",this.exportList[e][50]="",this.exportList[e][51]="",this.exportList[e][52]="",this.exportList[e][53]="",this.exportList[e][60]="",this.exportList[e][61]="",this.exportList[e][62]="",this.exportList[e][63]="",this.exportList[e][70]="",this.exportList[e][71]="",this.exportList[e][72]="",this.exportList[e][73]="",this.exportList[e][80]="",this.exportList[e][81]="",this.exportList[e][82]="",this.exportList[e][83]="",this.exportList[e][90]="",this.exportList[e][91]="",this.exportList[e][92]="",this.exportList[e][93]="";console.log("exportList:",this.exportList[e])},handleDownload:function(){var e=this;this.downloadLoading=!0,a.e(0).then(a.bind(null,"zWO4")).then(function(t){var a=e.formatJson(["index","cate","mid","content","00","01","02","03","10","11","12","13","20","21","22","23","30","31","32","33","40","41","42","43","50","51","52","53","60","61","62","63","70","71","72","73","80","81","82","83","90","91","92","93"],e.exportList);t.export_json_to_excel(["序号","cate","mid","content","机器/人工0_一级标签","机器/人工0_二级标签","机器/人工0_三级标签","机器/人工0_关键词","机器/人工1_一级标签","机器/人工1_二级标签","机器/人工1_三级标签","机器/人工1_关键词","机器/人工2_一级标签","机器/人工2_二级标签","机器/人工2_三级标签","机器/人工2_关键词","机器/人工3_一级标签","机器/人工3_二级标签","机器/人工3_三级标签","机器/人工3_关键词","机器/人工4_一级标签","机器/人工4_二级标签","机器/人工4_三级标签","机器/人工4_关键词","机器/人工5_一级标签","机器/人工5_二级标签","机器/人工5_三级标签","机器/人工5_关键词","机器/人工6_一级标签","机器/人工6_二级标签","机器/人工6_三级标签","机器/人工6_关键词","机器/人工7_一级标签","机器/人工7_二级标签","机器/人工7_三级标签","机器/人工7_关键词","机器/人工8_一级标签","机器/人工8_二级标签","机器/人工8_三级标签","机器/人工8关键词","机器/人工9_一级标签","机器/人工9_二级标签","机器/人工9_三级标签","机器/人工9_关键词"],a,"demo_export"),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t,a){return e.map(function(e){return"index"===e?a+1:t[e]})})}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()},dataList:function(){}}},Di={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",{staticStyle:{padding:"20px 14px"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("el-dialog",{attrs:{title:"Excel批量操作",visible:e.isUpload},on:{"update:visible":function(t){e.isUpload=t}}},[a("upload-excel",{attrs:{callback:e.getExcel,initdata:e.excelData,example:e.uploadExample,showexample:!0}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addsEvent()}}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelUpload()}}},[e._v("取 消")])],1)],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("span",{staticClass:"table-title left"},[e._v("标签评估")]),e._v(" "),e.exportList&&e.exportList.length>0?a("el-button",{staticClass:"right",staticStyle:{"margin-left":"5px"},attrs:{type:"success",size:"mini",title:"批量导出全部 Excel",loading:e.downloadLoading},on:{click:e.handleDownload}},[a("span",[e._v("导出评估结果")])]):e._e(),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"mini",title:"Excel批量导入"},on:{click:function(t){e.showUpload()}}},[a("span",[e._v("Excel导入")])])],1),e._v(" "),e.dataList&&e.dataList.length>0?a("div",e._l(e.dataList,function(t,i){return a("item-list",{key:t.id,attrs:{callback:e.handleSelectChange,selectedarr:e.getCheckedArr(i),item:t,inputs:e.inputList[(e.page-1)*e.count+i],index:(e.page-1)*e.count+i+1}})})):a("div",{staticClass:"none-tips"},[e._v("暂无数据")]),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[5,10,20,30,40,50],"page-size":e.count,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var $i=a("VU/8")(Ii,Di,!1,function(e){a("wOuk")},"data-v-170d4f7b",null).exports,Mi={name:"uploadExcel",components:{UploadExcelComponent:Lt},props:["callback","initdata","example","showexample"],data:function(){return{tableData:[],tableHeader:[]}},methods:{selected:function(e){this.tableData=e.results,this.tableHeader=e.header,this.callback(e.results)}},watch:{initdata:function(){this.initdata||(this.tableData=[],this.tableHeader=[])},example:function(){}}},Fi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("upload-excel-component",{attrs:{example:e.example,showexample:e.showexample},on:{"on-selected-file":e.selected}}),e._v(" "),a("el-table",{staticClass:"tableBox",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:"","max-height":"200"}},e._l(e.tableHeader,function(e){return a("el-table-column",{key:e,attrs:{prop:e,label:e}})})),e._v(" "),e.tableData&&e.tableData.length>0?a("div",{staticClass:"excel-upload-tips"},[e._v("共上传 "),a("span",[e._v(e._s(e.tableData.length))]),e._v(" 条数据")]):e._e()],1)},staticRenderFns:[]};var Ei={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.item?a("el-row",[a("el-col",{staticClass:"item-wrapper clearfix",attrs:{span:24}},[e.item.pid?a("div",{staticClass:"img-wrapper left"},[a("a",{staticClass:"img-box",attrs:{href:"//ww2.sinaimg.cn/bmiddle/"+e.item.pid+".jpg",target:"_blank",title:"查看原图"}},[a("div",{staticClass:"bg-img",style:"background-image: url(//ww2.sinaimg.cn/bmiddle/"+e.item.pid+".jpg);"},[e._v(e._s(e.item.pid?"":"图片加载失败"))])])]):e._e(),e._v(" "),a("div",{staticClass:"item-status-box left"},[a("p",[e._v("mid: "),a("span",{staticClass:"item-info"},[e._v(e._s(e.item.mid))])]),e._v(" "),a("p",[e._v("pid: "),a("span",{staticClass:"item-info"},[e._v(e._s(e.item.pid))])]),e._v(" "),a("p",{staticClass:"item-score"},[e._v("评分: "+e._s(e.item.score))])])])],1):e._e()},staticRenderFns:[]};var ji={name:"manage",components:{Auth:x,UploadExcel:a("VU/8")(Mi,Fi,!1,function(e){a("pPxf")},"data-v-c54d791e",null).exports,ItemList:a("VU/8")({name:"itemList",props:["item"],data:function(){return{test:""}},methods:{},watch:{item:function(){}}},Ei,!1,function(e){a("Scfy")},"data-v-f1a9e1b2",null).exports},data:function(){return{isUpload:!1,uploadExample:{tableHeader:["pid","score","mid","label"],tableData:[{pid:"006p0nePgy1fv6jtrjw1hj30ho0aq14y",score:"2",mid:"4283374123847783",label:"0"}]},page:1,total:2,excelData:[{pid:"005Zp2CMly1ftlpg2nghrj30j61gm46g",score:"5",mid:"4283474732518230",label:"0"},{pid:"006p0nePgy1fv6jtrjw1hj30ho0aq14y",score:"2",mid:"4283374123847783",label:"0"},{pid:"0061xXZ6ly1fv5x8qd3ijj30jg0ymjuv",score:"3",mid:"4283499815172877",label:"1"}],dataList:[{pid:"005Zp2CMly1ftlpg2nghrj30j61gm46g",score:"5",mid:"4283474732518230",label:"0"},{pid:"006p0nePgy1fv6jtrjw1hj30ho0aq14y",score:"2",mid:"4283374123847783",label:"0"}],tempData:null}},computed:l()({},Object(s.b)(["pageAuth"])),methods:{init:function(){this.tempData=this.excelData},onSearch:function(){this.dataList=[];for(var e=this.excelData,t=0;t<e.length;t++)e[t].label==this.page-1&&this.dataList.push(e[t])},showUpload:function(){this.isUpload=!0},getExcel:function(e){this.excelData=e},setExcelData:function(){this.excelData?(this.page=Number(this.excelData[0].label)+1,this.total=Number(this.excelData[this.excelData.length-1].label)+1):(this.page=1,this.total=0)},addsEvent:function(){this.isUpload=!1,this.tempData=this.excelData,this.setExcelData(),this.onSearch()},cancelUpload:function(){this.isUpload=!1,this.excelData=this.tempData},handleCurrentChange:function(e){this.page=e,this.onSearch()}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()},dataList:function(){}}},zi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",{staticStyle:{padding:"20px 14px"}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,sm:23,md:23,lg:23,xl:23}},[a("el-dialog",{attrs:{title:"Excel批量操作",visible:e.isUpload},on:{"update:visible":function(t){e.isUpload=t}}},[a("upload-excel",{attrs:{callback:e.getExcel,initdata:e.excelData,example:e.uploadExample,showexample:!0}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addsEvent()}}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelUpload()}}},[e._v("取 消")])],1)],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("span",{staticClass:"table-title left"},[e._v("图片评估")]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"mini",title:"Excel批量导入"},on:{click:function(t){e.showUpload()}}},[a("span",[e._v("Excel导入")])])],1),e._v(" "),e.dataList&&e.dataList.length>0?a("div",{staticClass:"clearfix"},[a("div",{staticClass:"left"},[a("h4",{staticClass:"list-title"},[e._v("label "+e._s(e.page-1)+" 共有"+e._s(e.dataList.length)+"条数据")]),e._v(" "),e._l(e.dataList,function(e){return a("item-list",{key:e.mid+":"+e.pid,attrs:{item:e}})})],2),e._v(" "),a("div",{staticClass:"mids-box left"},[a("h4",[e._v("mids:（"+e._s(e.dataList.length)+"）")]),a("br"),e._v(" "),e._l(e.dataList,function(t){return a("p",{key:t.mid+":"+t.pid},[e._v(e._s(t.mid))])})],2)]):a("div",{staticClass:"none-tips"},[e._v("暂无数据")]),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.page,layout:"prev, pager, next, jumper","page-count":e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ni=a("VU/8")(ji,zi,!1,function(e){a("Sl6B")},"data-v-74aa89cb",null).exports,Oi={name:"setmenu",components:{Auth:x},data:function(){return{menuData:null,editFormVisible:!1,addFormVisible:!1,editTitle:"导航修改",addTitle:"导航添加",editForm:{name:"",path:"",type:""},editRules:{name:[{required:!0,message:"导航名称不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择所属模式",trigger:"change"}]},checkAdd:["inner"],checkUpdate:["inner"],visibleAdd:!0,visibleUpdate:!0,authList:[{label:"内部权限可见",value:"inner"},{label:"外部权限可见",value:"outer"},{label:"特殊权限可见",value:"special"}],addForm:{name:"",path:"",type:""},addRules:{name:[{required:!0,message:"导航名称不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择所属模式",trigger:"change"}]},typeArr:[{value:1,label:"全部模式"},{value:2,label:"应用模式"},{value:3,label:"开发模式"}],formLabelWidth:"80px",defaultProps:{children:"list",label:"name"}}},computed:l()({},Object(s.b)(["pageAuth","email","menulist"])),methods:{init:function(){1==this.pageAuth&&(this.menuData=this.objToArr(this.menulist))},setMenu:function(){var e={userid:this.email,username:this.email,cip:230};this.$store.dispatch("GetMenu",e).then(function(){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3})})},renderContent:function(e,t){var a=this,i=t.node,n=t.data,l=(t.store,{title:"提示",message:"将删除菜单及其子项, 是否继续?",cancelMsg:"已取消删除",callback:this.deleteItem,callbackData:n.id});return e("span",{class:"custom-tree-node"},[e("span",{class:"menu-label",attrs:{draggable:"false"}},[i.label]),e("span",{attrs:{draggable:"false"}},[e("i",{attrs:{title:"修改"},class:"el-icon-edit menu-edit",on:{click:function(){return a.editEvent(n)}}}),e("i",{attrs:{title:"添加"},class:"el-icon-circle-plus menu-add",on:{click:function(){return a.addEvent(n)}}}),e("i",{attrs:{title:"删除"},class:"el-icon-delete menu-delete",on:{click:function(){return a.alertBox(l)}}})])])},deleteItem:function(e){var t=this,a={id:e,username:this.email,cip:230};this.$store.dispatch("DeleteItem",a).then(function(){t.setMenu()})},editEvent:function(e){this.editTitle="【"+e.name+"】— 修改",this.editForm={name:e.name,path:e.path||"",type:e.type,id:e.id,level:e.level,fid:e.fid,time:e.time},this.checkUpdate=e.auth.split(","),this.visibleUpdate=Boolean(e.visible),this.editFormVisible=!0},editItem:function(){var e=this;this.$refs.editForm.validate(function(t){if(!t)return!1;e.editFormVisible=!1;var a={username:e.email,cip:230},i=l()({},e.editForm,a,{auth:e.checkUpdate.join(","),visible:Number(e.visibleUpdate)});e.$store.dispatch("EditItem",i).then(function(){e.setMenu()})})},cancelEdit:function(){this.$refs.editForm.resetFields(),this.editFormVisible=!1},addEvent:function(e){this.addTitle="【"+e.name+"】— 添加",this.addForm={name:"",path:"",id:e.id,level:e.level,fid:e.fid,time:e.time},this.checkAdd=["inner"],this.visibleAdd=!0,this.addFormVisible=!0},addItem:function(e){var t=this;this.$refs.addForm.validate(function(a){if(!a)return!1;"child"==e?(t.addForm.level=(Number(t.addForm.level)+1).toString(),t.addForm.fid=t.addForm.id,delete t.addForm.time):t.addForm.time+=e,delete t.addForm.id;var i={username:t.email,cip:230},n=l()({},t.addForm,i,{auth:t.checkAdd.join(","),visible:Number(t.visibleAdd)});t.$store.dispatch("AddItem",n).then(function(e){e.code&&200==Number(e.code)?(t.addFormVisible=!1,t.setMenu()):Object(R.Message)({showClose:!0,message:e.msg||"添加失败！",type:"error",duration:3e3})})})},cancelAdd:function(){this.$refs.addForm.resetFields(),this.checkAdd=["inner"],this.visibleAdd=!0,this.addFormVisible=!1},alertBox:function(e){var t=this;this.$confirm(e.message,e.title,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.callback&&e.callback(e.callbackData)}).catch(function(){t.$message({type:"info",message:e.cancelMsg,duration:1e3})})},objToArr:function(e){var t=[];for(var a in e)e[a].list&&(e[a].list=this.objToArr(e[a].list)),t.push(e[a]);return t}},created:function(){this.init()},watch:{email:function(){},pageAuth:function(){this.init()},menulist:function(){this.init()}}},Pi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"pane-title-wrap"},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-menu hidden-xs-only"}),e._v(" 导航栏设置")])]),e._v(" "),a("el-dialog",{attrs:{width:"50%",title:e.editTitle,visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editRules}},[a("el-form-item",{attrs:{label:"导航名称",prop:"name","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",clearable:"",placeholder:"请输入导航名称"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"导航地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",clearable:"",placeholder:"请输入导航地址"},model:{value:e.editForm.path,callback:function(t){e.$set(e.editForm,"path",t)},expression:"editForm.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模式",prop:"type","label-width":e.formLabelWidth}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择所属模式"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},e._l(e.typeArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"页面权限","label-width":e.formLabelWidth,required:""}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.checkUpdate,callback:function(t){e.checkUpdate=t},expression:"checkUpdate"}},[e._l(e.authList,function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.value}},[e._v(e._s(t.label))])}),e._v(" "),a("span",{staticClass:"add-tips"},[e._v("（至少选择一种权限）")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"导航显示","label-width":e.formLabelWidth}},[a("el-checkbox",{model:{value:e.visibleUpdate,callback:function(t){e.visibleUpdate=t},expression:"visibleUpdate"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"menu-btn",on:{click:e.cancelEdit}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"menu-btn",attrs:{type:"primary"},on:{click:e.editItem}},[e._v("修 改")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"50%",title:e.addTitle,visible:e.addFormVisible},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules}},[a("el-form-item",{attrs:{label:"导航名称",prop:"name","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",clearable:"",placeholder:"请输入导航名称"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"导航地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",clearable:"",placeholder:"请输入导航地址"},model:{value:e.addForm.path,callback:function(t){e.$set(e.addForm,"path",t)},expression:"addForm.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属模式",prop:"type","label-width":e.formLabelWidth}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择所属模式"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},e._l(e.typeArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"页面权限","label-width":e.formLabelWidth,required:""}},[a("el-checkbox-group",{attrs:{min:1},model:{value:e.checkAdd,callback:function(t){e.checkAdd=t},expression:"checkAdd"}},[e._l(e.authList,function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.value}},[e._v(e._s(t.label))])}),e._v(" "),a("span",{staticClass:"add-tips"},[e._v("（至少选择一种权限）")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"导航显示","label-width":e.formLabelWidth}},[a("el-checkbox",{model:{value:e.visibleAdd,callback:function(t){e.visibleAdd=t},expression:"visibleAdd"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"menu-btn",attrs:{type:"success"},on:{click:function(t){e.addItem(-1)}}},[e._v("向前添加")]),e._v(" "),a("el-button",{staticClass:"menu-btn",attrs:{type:"warning"},on:{click:function(t){e.addItem(1)}}},[e._v("向后添加")]),e._v(" "),a("el-button",{staticClass:"menu-btn",attrs:{type:"primary"},on:{click:function(t){e.addItem("child")}}},[e._v("添加子项")]),e._v(" "),a("el-button",{staticClass:"menu-btn",on:{click:e.cancelAdd}},[e._v("取 消")])],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:24,span:23}},[a("div",{staticClass:"menu-form"},[e.menuData?a("el-tree",{attrs:{data:e.menuData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent,props:e.defaultProps,"highlight-current":""}}):e._e()],1)])],1)],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var Ui=a("VU/8")(Oi,Pi,!1,function(e){a("Vu2Z")},null,null).exports,Vi={name:"operateItem",data:function(){return{dialogVisible:!1,delPopover:!1,delBtnPopover:!1,updatePopover:!1,spePopover:!1,userInfo:null,pageids:[]}},computed:l()({},Object(s.b)(["email","specialMenu"])),props:["data","type","refresh"],methods:{_parseTime:function(e,t){return F(e,t)},showEditDialog:function(){var e=this,t={url:"/user/getInfo",params:{userid:this.data.userid,type:this.type,username:this.email,cip:230}};this.$store.dispatch("GetUser",t).then(function(t){t.code&&200==Number(t.code)&&(e.pageids=[],e.userInfo=t.result,e.userInfo.specialmenu&&e.userInfo.specialmenu.length>0&&e.setPageIds(e.userInfo.specialmenu),e.dialogVisible=!0)})},setPageIds:function(e){for(var t=0;t<e.length;t++)this.pageids.push(e[t].id)},deleteEvent:function(){var e=this;this.delPopover=!1,this.delBtnPopover=!1;var t={url:"/user/del",params:{id:this.data.id,type:this.type,username:this.email,cip:230}};this.$store.dispatch("DeleteUser",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"删除成功！",type:"success",duration:1e3}),e.dialogVisible=!1,e.refresh()):Object(R.Message)({showClose:!0,message:t.msg||"删除失败！",type:"error",duration:3e3})})},updateEvent:function(){var e=this;this.updatePopover=!1;var t={url:"/user/set",params:{id:this.data.id,type:this.type,usergroup:this.userInfo.usergroup,realname:this.userInfo.username,username:this.email,cip:230}};this.$store.dispatch("SetUserInfo",t).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"保存成功！",type:"success",duration:1e3}),e.refresh()):Object(R.Message)({showClose:!0,message:t.msg||"保存失败！",type:"error",duration:3e3})})},setMenuAuth:function(){this.spePopover=!1;var e={url:"/menu/specialMenuAuth",params:{userid:this.data.userid,ids:this.pageids.join(","),username:this.email,cip:230}};this.$store.dispatch("SetMenuAuth",e).then(function(e){e.code&&200==Number(e.code)?Object(R.Message)({showClose:!0,message:"授权成功！",type:"success",duration:1e3}):Object(R.Message)({showClose:!0,message:e.msg||"授权失败！",type:"error",duration:3e3})})}},watch:{data:function(){},email:function(){},specialMenu:function(){}}},Bi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",[a("el-dialog",{attrs:{title:"编辑【"+e.data.userid+"】用户信息",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.userInfo?a("el-form",{attrs:{size:"small"}},[a("el-form-item",{attrs:{label:"用户名","label-width":"120px"}},[a("el-input",{staticStyle:{"max-width":"190px"},attrs:{"auto-complete":"off",placeholder:"请输入中文名",clearable:""},model:{value:e.userInfo.username,callback:function(t){e.$set(e.userInfo,"username",t)},expression:"userInfo.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type",label:"选择平台","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择平台",disabled:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"机器学习平台",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"热门管理平台",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户组","label-width":"120px",required:""}},[a("el-select",{attrs:{placeholder:"请选择用户组"},model:{value:e.userInfo.usergroup,callback:function(t){e.$set(e.userInfo,"usergroup",t)},expression:"userInfo.usergroup"}},[a("el-option",{attrs:{label:"内部",value:"inner"}}),e._v(" "),a("el-option",{attrs:{label:"外部",value:"outer"}})],1)],1),e._v(" "),e.specialMenu?a("el-form-item",{attrs:{label:"授权特殊页","label-width":"120px"}},[a("el-select",{staticStyle:{"min-width":"200px"},attrs:{placeholder:"请选择需要授权的特殊页面",multiple:"",filterable:"",clearable:""},model:{value:e.pageids,callback:function(t){e.pageids=t},expression:"pageids"}},e._l(e.specialMenu,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-popover",{ref:"popoverSpecial",attrs:{placement:"top",width:"200"},model:{value:e.spePopover,callback:function(t){e.spePopover=t},expression:"spePopover"}},[a("p",[e._v("确定修改页面授权？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.spePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.setMenuAuth()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverSpecial",arg:"popoverSpecial"}],attrs:{type:"success",plain:"",size:"small"}},[e._v("修改授权")])],1):e._e()],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverDel",attrs:{placement:"top",width:"200"},model:{value:e.delPopover,callback:function(t){e.delPopover=t},expression:"delPopover"}},[a("p",[e._v("确定将【"+e._s(e.data.userid)+"】删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-popover",{ref:"popoverUpdate",attrs:{placement:"top",width:"200"},model:{value:e.updatePopover,callback:function(t){e.updatePopover=t},expression:"updatePopover"}},[a("p",[e._v("确定保存当前修改？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.updatePopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.updateEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUpdate",arg:"popoverUpdate"}],attrs:{type:"primary",size:"small"}},[e._v("保 存")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverDel",arg:"popoverDel"}],attrs:{size:"small"}},[e._v("删 除")])],1)],1),e._v(" "),a("el-popover",{ref:"popDelBtn",attrs:{placement:"top",width:"200"},model:{value:e.delBtnPopover,callback:function(t){e.delBtnPopover=t},expression:"delBtnPopover"}},[a("p",[e._v("确定将【"+e._s(e.data.userid)+"】删除？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.delBtnPopover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.deleteEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px","margin-bottom":"5px"},attrs:{type:"primary",icon:"el-icon-edit",plain:"",size:"mini",title:"编辑"},on:{click:function(t){e.showEditDialog()}}},[a("span",{staticClass:"hidden-xs-only"},[e._v("编辑")])]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popDelBtn",arg:"popDelBtn"}],attrs:{type:"danger",icon:"el-icon-delete",plain:"",size:"mini",title:"删除"}},[a("span",{staticClass:"hidden-xs-only"},[e._v("删除")])])],1):e._e()},staticRenderFns:[]};var Ri={name:"datamonitor",components:{Auth:x,OperateItem:a("VU/8")(Vi,Bi,!1,function(e){a("Vc03")},"data-v-33e3d00d",null).exports},data:function(){return{dialogVisible:!1,addRules:{userid:[{required:!0,message:"邮箱前缀不能为空！",trigger:"blur"}]},addForm:{popover:!1,userid:"",realname:"",type:"2",usergroup:"outer"},formInline:{userid:"",type:"2",total:0,page:1,count:10},userList:null,typeName:"机器学习平台",curType:"1"}},computed:l()({},Object(s.b)(["pageAuth","email"])),methods:{init:function(){1===this.pageAuth&&(this.getUserList(),this.getSpecialMenu())},getSpecialMenu:function(){var e={url:"/menu/getSpecialMenu",params:{username:this.email,cip:230}};this.$store.dispatch("GetSpecialMenu",e)},getUserList:function(){var e=this,t={url:"/user/get",params:{userid:this.formInline.userid,type:this.formInline.type,page:this.formInline.page,count:this.formInline.count,username:this.email,cip:230}};this.$store.dispatch("GetUserList",t).then(function(t){t.code&&200==Number(t.code)&&(e.typeName=1==Number(e.formInline.type)?"机器学习平台":"热门管理平台",e.curType=e.formInline.type,e.userList=t.result&&t.result.data||[],e.formInline.total=t.result&&t.result.total||0)})},addEvent:function(){var e=this;this.addForm.popover=!1,this.$refs.addForm.validate(function(t){if(!t)return!1;var a={url:"/user/add",params:{userid:e.addForm.userid,realname:e.addForm.realname,type:e.addForm.type,usergroup:e.addForm.usergroup,username:e.email,cip:230}};e.$store.dispatch("SetUser",a).then(function(t){t.code&&200==Number(t.code)?(Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),e.getUserList()):Object(R.Message)({showClose:!0,message:t.msg||"添加失败！",type:"error",duration:3e3})})})},cancelEvent:function(){this.$refs.addForm.resetFields(),this.dialogVisible=!1},handleSizeChange:function(e){this.formInline.count=e,this.getUserList()},handleCurrentChange:function(e){this.formInline.page=e,this.getUserList()},_parseTime:function(e,t){return F(e,t)}},created:function(){this.init()},watch:{pageAuth:function(){this.init()}}},Wi={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.pageAuth?a("el-main",[a("el-row",{staticClass:"pane-title-wrap"},[a("el-col",{attrs:{span:24}},[a("h6",{staticClass:"pane-title"},[a("i",{staticClass:"el-icon-document",staticStyle:{"margin-right":"6px"}}),e._v("用户信息管理")])])],1),e._v(" "),a("el-row",{staticClass:"search-form-wrap"},[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:"",model:e.formInline,size:"small"}},[a("el-form-item",{attrs:{label:"邮箱前缀"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户邮箱前缀",clearable:""},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid",t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择平台"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择平台"},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[a("el-option",{attrs:{label:"机器学习平台",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"热门管理平台",value:"2"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getUserList}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"content-box-wrap"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,size:"small"}},[a("el-form-item",{attrs:{prop:"realname",label:"用户名","label-width":"120px"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入中文名",clearable:""},model:{value:e.addForm.realname,callback:function(t){e.$set(e.addForm,"realname",t)},expression:"addForm.realname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"userid",label:"邮箱前缀","label-width":"120px",required:""}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入邮箱前缀",clearable:""},model:{value:e.addForm.userid,callback:function(t){e.$set(e.addForm,"userid",t)},expression:"addForm.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type",label:"选择平台","label-width":"120px",required:""}},[a("el-select",{attrs:{placeholder:"请选择平台"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[a("el-option",{attrs:{label:"机器学习平台",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"热门管理平台",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"usergroup",label:"用户组","label-width":"120px",required:""}},[a("el-select",{attrs:{placeholder:"请选择用户组"},model:{value:e.addForm.usergroup,callback:function(t){e.$set(e.addForm,"usergroup",t)},expression:"addForm.usergroup"}},[a("el-option",{attrs:{label:"内部",value:"inner"}}),e._v(" "),a("el-option",{attrs:{label:"外部",value:"outer"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-popover",{ref:"popoverAdd",attrs:{placement:"top",width:"200"},model:{value:e.addForm.popover,callback:function(t){e.$set(e.addForm,"popover",t)},expression:"addForm.popover"}},[a("p",[e._v("确定添加新用户？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.addForm.popover=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.addEvent()}}},[e._v("确定")])],1)]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.cancelEvent()}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverAdd",arg:"popoverAdd"}],attrs:{type:"primary",size:"small"}},[e._v("添 加")])],1)],1),e._v(" "),e.userList?a("el-row",[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"table-title left"},[e._v(e._s(e.typeName)+"用户列表")]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"success",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加用户")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"userid",label:"邮箱前缀"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"username",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"usergroup",label:"用户组"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"add_time",label:"添加时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"left",label:"操作项"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("operate-item",{attrs:{data:t.row,type:e.curType,refresh:e.getUserList}})]}}])})],1),e._v(" "),a("div",{staticStyle:{"padding-top":"10px",overflow:"auto"}},[a("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)],1)],1):0===e.pageAuth?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var qi=a("VU/8")(Ri,Wi,!1,function(e){a("VBTy")},"data-v-11ce3a7a",null).exports,Gi=a("//Fk"),Hi=a.n(Gi),Ki={name:"imageUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],result:"",uploadFile:""}},methods:{handleSuccess:function(e,t){this.result=e,this.dialogVisible=!1,this.$emit("successCBK",this.result,this.uploadFile)},handleRemove:function(e,t){},beforeUpload:function(e){var t=this,a=this,i=window.URL||window.webkitURL,n=e.uid;return this.listObj[n]={},new Hi.a(function(l,s){var o=new Image;t.uploadFile=i.createObjectURL(e),o.onload=function(){a.listObj[n]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},l(!0)})}}},Ji={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-container"},[a("el-button",{staticClass:"active",attrs:{icon:"el-icon-upload",size:"medium",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("上传图片\n  ")]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-upload",{staticClass:"editor-slide-upload",attrs:{name:"image_file",action:"http://10.77.9.71:5700/smart_crop/v1.0/predict.json",accept:"image/jpeg,image/gif,image/png,image/bmp","on-remove":e.handleRemove,multiple:!1,limit:1,"list-type":"picture-card","on-success":e.handleSuccess,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("div",{staticClass:"tips"},[e._v("Tips:每次仅可上传一张图片")])],1)],1)},staticRenderFns:[]};var Qi=a("VU/8")(Ki,Ji,!1,function(e){a("+xM4")},"data-v-0ed4d2cd",null).exports,Yi={name:"textHover",props:{className:{type:String},text:{type:String,default:"vue-element-admin"}}},Zi={render:function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"link--mallki",class:this.className},[this._v("\n  "+this._s(this.text)+"\n  "),t("span",{attrs:{"data-letters":this.text}}),this._v(" "),t("span",{attrs:{"data-letters":this.text}})])},staticRenderFns:[]};var Xi=a("VU/8")(Yi,Zi,!1,function(e){a("cnlH")},null,null).exports,en={name:"imgcut",components:{ElCol:a("kMct").a,ImageUpload:Qi,TextHover:Xi,Auth:x},data:function(){return{screenWidth:467,isActive:!0,activeWidth:"active-width",activeHeight:"active-height",imgSrc:"https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/image/pic/item/4b90f603738da9778d1df437bc51f8198618e3f8.jpg"}},computed:l()({},Object(s.b)(["isLogin","email","cutImage","auth"])),mounted:function(){var e=this;window.onresize=function(){return window.screenWidth=document.getElementById("box").offsetWidth,void(e.screenWidth=window.screenWidth)}},methods:{init:function(){Number(this.auth)>0?(console.log("用户已登录"),this.onSearch()):console.log("用户未登录")},urlFn:function(){var e=this;this.$prompt("请输入图片url地址","提示",{confirmButtonText:"上传",cancelButtonText:"取消",inputPattern:/http(s)?:/,inputErrorMessage:"请输入正确的图片url地址"}).then(function(t){var a=t.value;e.$message({type:"success",message:"success"}),e.imgSrc=a}).catch(function(){e.$message({type:"info",message:"取消url上传"})})},onSearch:function(){var e={url:"http://10.77.9.71:5700/smart_crop/v1.0/predict.json",param:{url:this.imgSrc}},t={data:A()(e),cip:230};this.$store.dispatch("GetImageInfo",t),this.cutImage},imageSize:function(){var e=this,t=new Image;t.src=this.imgSrc,t.onload=function(){t.width>t.height?e.isActive=!0:e.isActive=!1;var a=void 0,i=void 0;e.isActive?(a=parseInt(.8*e.screenWidth*t.height/t.width),i=parseInt(.8*e.screenWidth)):(a=parseInt(384),i=parseInt(384*t.width/t.height)),e.canvasDefault(t.width,t.height),e.canvasModel(i,a,e.cutImage)}},canvasModel:function(e,t,a){var i=new Image;i.src=this.imgSrc;var n=document.getElementById("canvas-model");n.style.opacity=0;var l=n.getContext("2d");i.onload=function(){var i=document.getElementById("primary-img");n.width=n.height=e>t?2*t:2*e,l.drawImage(i,-Math.abs(Number(a[2]))*e*2,-Math.abs(Number(a[0]))*t*2,2*e,2*t),n.style.width=n.style.height=e>t?t+"px":e+"px",n.style.opacity=1}},canvasDefault:function(e,t){var a=this,i=void 0,n=void 0,l=new Image;l.src=this.imgSrc,l.onload=function(){var l=document.getElementById("canvas-default"),s=l.getContext("2d");a.isActive?(i=.8*a.screenWidth*t/e,n=.8*a.screenWidth,l.width=l.height=2*i,s.drawImage(document.getElementById("primary-img"),-(2*n-l.width)/2,0,2*n,2*i),l.style.width=l.style.height=i+"px"):(i=384,n=384*e/t,l.width=l.height=2*n,s.drawImage(document.getElementById("primary-img"),0,-(2*i-l.height)/2,2*n,2*i),l.style.width=l.style.height=n+"px")}},imageSuccessCBK:function(e,t){var a=this;console.log(e),console.log(t),document.getElementById("primary-img").src=t;var i=new Image;i.src=t,i.onload=function(){i.width>i.height?a.isActive=!0:a.isActive=!1;var t=void 0,n=void 0;a.isActive?(t=parseInt(.8*a.screenWidth*i.height/i.width),n=parseInt(.8*a.screenWidth)):(t=parseInt(384),n=parseInt(384*i.width/i.height)),a.canvasDefault(i.width,i.height),a.canvasModel(n,t,e.thumbnail_square)}},failFn:function(){var e=this;this.$alert("裁剪失败,换张图片试试","提示",{confirmButtonText:"确定",type:"error",callback:function(t){e.$message({type:"info",message:"请重新选择图片"})}})}},created:function(){this.init()},watch:{cutImage:function(e){void 0==e?(this.failFn(),this.imgSrc="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/image/pic/item/4b90f603738da9778d1df437bc51f8198618e3f8.jpg"):(document.getElementById("primary-img").style.opacity=1,this.imageSize(),this.screenWidth=document.getElementById("box").offsetWidth)},isLogin:function(){},email:function(){},auth:function(){this.init()},imgSrc:function(){var e=this;this.onSearch();var t=new Image;t.src=this.imgSrc,t.onload=function(){t.width>t.height?e.isActive=!0:e.isActive=!1;e.isActive?(parseInt(.8*e.screenWidth*t.height/t.width),parseInt(.8*e.screenWidth)):(parseInt(384),parseInt(384*t.width/t.height))}},screenWidth:function(e){if(!this.timer){this.screenWidth=document.getElementById("box").offsetWidth,this.timer=!0;var t=this;setTimeout(function(){console.log(t.screenWidth),t.init(),t.timer=!1},400)}}}},tn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return Number(e.auth)>0?a("el-main",[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("i",{staticClass:"el-icon-picture-outline"}),e._v(" "),a("text-hover",{attrs:{className:"mallki-text",text:"原始图片"}}),e._v(" "),a("div",{staticClass:"grid-content bg-purple"},[a("img",{class:[e.isActive?e.activeWidth:e.activeHeight],attrs:{src:e.imgSrc,id:"primary-img"}})])],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("i",{staticClass:"el-icon-service"}),e._v(" "),a("text-hover",{attrs:{className:"mallki-text",text:"智能裁剪"}}),e._v(" "),a("div",{staticClass:"grid-content bg-purple-light"},[a("canvas",{attrs:{data:e.cutImage,id:"canvas-model"}})])],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("i",{staticClass:"el-icon-view"}),e._v(" "),a("text-hover",{attrs:{className:"mallki-text",text:"默认裁剪"}}),e._v(" "),a("div",{staticClass:"grid-content bg-purple",attrs:{id:"box"}},[a("canvas",{attrs:{id:"canvas-default"}})])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:5,sm:5,md:3,lg:3,xl:3}},[a("image-upload",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"medium"},on:{click:e.urlFn}},[e._v("url上传")])],1)],1),e._v(" "),a("div",{staticClass:"tips"},[e._v("Tips:图片大小请控制在3M以内")])],1):e.isLogin?a("el-main",[a("auth")],1):e._e()},staticRenderFns:[]};var an=a("VU/8")(en,tn,!1,function(e){a("n3CB")},"data-v-13811f06",null).exports;i.default.use(S.a);var nn=new S.a({routes:[{path:"/404",meta:{activeidx:"",title:"404 | 热门管理"},component:function(){return a.e(1).then(a.bind(null,"+H76"))},hidden:!0},{path:"/hotcenter",redirect:"/hotcenter/basemonitor/entire",hidden:!0},{path:"/hotcenter/basemonitor",redirect:"/hotcenter/basemonitor/entire",hidden:!0},{path:"/hotcenter/basemonitor/entire",name:"/hotcenter/basemonitor/entire",meta:{activeidx:"121-122",title:"常规监控-整体数据 | 热门管理"},component:O},{path:"/hotcenter/basemonitor/material",name:"/hotcenter/basemonitor/material",meta:{activeidx:"121-124",title:"常规监控-物料日增规模 | 热门管理"},component:H},{path:"/hotcenter/basemonitor/tagcover",name:"/hotcenter/basemonitor/tagcover",meta:{activeidx:"121-125",title:"常规监控-兴趣标签覆盖率 | 热门管理"},component:Q},{path:"/hotcenter/analysis/data",redirect:"/hotcenter/analysis/data/entire",hidden:!0},{path:"/hotcenter/datamonitor",redirect:"/hotcenter/analysis/data/entire",hidden:!0},{path:"/hotcenter/analysis/data/entire",name:"/hotcenter/analysis/data/entire",meta:{activeidx:"127-129",title:"数据分析-整体数据 | 热门管理"},component:X},{path:"/hotcenter/analysis/data/target",redirect:"/hotcenter/analysis/data/target/click",hidden:!0},{path:"/hotcenter/analysis/data/target/click",name:"/hotcenter/analysis/data/target/click",meta:{activeidx:"127-130-203",title:"数据分析-千次点击 | 热门管理",type:"thd_click"},component:ne},{path:"/hotcenter/analysis/data/target/act",name:"/hotcenter/analysis/data/target/act",meta:{activeidx:"127-130-204",title:"数据分析-千次互动 | 热门管理",type:"thd_act"},component:ne},{path:"/hotcenter/analysis/data/target/refresh",name:"/hotcenter/analysis/data/target/refresh",meta:{activeidx:"127-130-205",title:"数据分析-人均刷新 | 热门管理",type:"average_fresh_times"},component:ne},{path:"/hotcenter/analysis/data/target/pv",name:"/hotcenter/analysis/data/target/pv",meta:{activeidx:"127-130-206",title:"数据分析-PV | 热门管理",type:"pv"},component:ne},{path:"/hotcenter/analysis/data/target/uv",name:"/hotcenter/analysis/data/target/uv",meta:{activeidx:"127-130-207",title:"数据分析-UV | 热门管理",type:"uv"},component:ne},{path:"/hotcenter/analysis/data/target/expose",name:"/hotcenter/analysis/data/target/expose",meta:{activeidx:"127-130-208",title:"数据分析-曝光量 | 热门管理",type:"exposure"},component:ne},{path:"/hotcenter/analysis/data/target/remain/hotwb",name:"/hotcenter/analysis/data/target/remain/hotwb",meta:{activeidx:"127-130-209",title:"数据分析-热门次日留存 | 热门管理",type:"two_save_rate"},component:ne},{path:"/hotcenter/analysis/data/target/remain/all",name:"/hotcenter/analysis/data/target/remain/all",meta:{activeidx:"127-130-210",title:"数据分析-首页次日留存 | 热门管理",type:"two_feed_save_rate"},component:ne},{path:"/hotcenter/analysis/data/target/retweet",name:"/hotcenter/analysis/data/target/retweet",meta:{activeidx:"127-130-211",title:"数据分析-转发量 | 热门管理",type:"retweet"},component:ne},{path:"/hotcenter/analysis/data/target/comment",name:"/hotcenter/analysis/data/target/comment",meta:{activeidx:"127-130-212",title:"数据分析-评论量 | 热门管理",type:"comment"},component:ne},{path:"/hotcenter/analysis/data/target/like",name:"/hotcenter/analysis/data/target/like",meta:{activeidx:"127-130-213",title:"数据分析-点赞量 | 热门管理",type:"like_volume"},component:ne},{path:"/hotcenter/analysis/data/target/interact",name:"/hotcenter/analysis/data/target/interact",meta:{activeidx:"127-130-214",title:"数据分析-互动量 | 热门管理",type:"interact_volume"},component:ne},{path:"/hotcenter/analysis/data/flow",name:"/hotcenter/analysis/data/flow",meta:{activeidx:"127-173",title:"数据分析-流量分析 | 热门管理"},component:ue},{path:"/hotcenter/analysis/data/flow/detail",name:"/hotcenter/analysis/data/flow/detail",meta:{activeidx:"127-174",title:"数据分析-流量分析详情 | 热门管理"},component:fe},{path:"/hotcenter/analydata",name:"/hotcenter/analydata",meta:{activeidx:"",title:"数据分析-数据分析详情 | 热门管理"},component:ce},{path:"/hotcenter/analysis/material",redirect:"/hotcenter/analysis/material/scale",hidden:!0},{path:"/hotcenter/querymaterial",redirect:"/hotcenter/analysis/material/single",hidden:!0},{path:"/hotcenter/monitormaterial",redirect:"/hotcenter/analysis/material/tag",hidden:!0},{path:"/hotcenter/materialstatus",redirect:"/hotcenter/analysis/material/scale",hidden:!0},{path:"/hotcenter/analysis/material/scale",name:"/hotcenter/analysis/material/scale",meta:{activeidx:"131-134",title:"物料分析-物料库规模 | 热门管理"},component:ve},{path:"/hotcenter/analysis/material/tag",name:"/hotcenter/analysis/material/tag",meta:{activeidx:"131-135",title:"物料分析-内容标签统计 | 热门管理"},component:we},{path:"/hotcenter/analysis/material/single",name:"/hotcenter/analysis/material/single",meta:{activeidx:"131-136",title:"物料分析-单条物料分析 | 热门管理"},component:Le},{path:"/hotcenter/analysis/material/forward",name:"/hotcenter/analysis/material/forward",meta:{activeidx:"131-171",title:"物料分析-转发物料 | 热门管理"},component:Me},{path:"/hotcenter/analysis/user",redirect:"/hotcenter/analysis/user/single",hidden:!0},{path:"/hotcenter/analysis/user/single",name:"/hotcenter/analysis/user/single",meta:{activeidx:"138-140",title:"用户分析-单个用户分析 | 热门管理"},component:je},{path:"/hotcenter/analysis/user/interest",name:"/hotcenter/analysis/user/interest",meta:{activeidx:"138-141",title:"用户分析-兴趣标签覆盖率 | 热门管理"},component:Oe},{path:"/hotcenter/analysis/user/freshreview",name:"/hotcenter/analysis/user/freshreview",meta:{activeidx:"138-170",title:"用户分析-用户回看 | 热门管理"},component:Re},{path:"/hotcenter/analysis/exposure/base",name:"/hotcenter/analysis/exposure/base",meta:{activeidx:"121-190",title:"用户分析-曝光常规检测 | 热门管理"},component:Ge},{path:"/hotcenter/operatematerial",name:"/hotcenter/operatematerial",meta:{activeidx:"142-169",title:"干预后台 | 热门管理"},component:Ye},{path:"/hotcenter/operatematerial/mixture",name:"/hotcenter/operatematerial/mixture",meta:{activeidx:"142-175",title:"干预后台-混合流降级配置 | 热门管理"},component:et},{path:"/hotcenter/operatematerial/trigger",name:"/hotcenter/operatematerial/trigger",meta:{activeidx:"142-176",title:"干预后台-trigger配置 | 热门管理"},component:it},{path:"/hotcenter/operatematerial/channel",name:"/hotcenter/operatematerial/channel",meta:{activeidx:"142-177",title:"干预后台-频道流降级配置 | 热门管理"},component:st},{path:"/hotcenter/channel",redirect:"/channel/manage/mine",hidden:!0},{path:"/channel/manage/mine",name:"/channel/manage/mine",meta:{activeidx:"144-146-147",title:"我的频道 | 频道管理"},component:ct},{path:"/channel/manage/add",name:"/channel/manage/add",meta:{activeidx:"144-146-148",title:"频道创建 | 频道管理"},component:ut},{path:"/hotcenter/channel/material",name:"/hotcenter/channel/material",meta:{activeidx:"",title:"频道物料详情 | 热门管理"},component:bt},{path:"/channel/user/whitelist",name:"/channel/user/whitelist",meta:{activeidx:"144-149-150",title:"作者管理-用户白名单 | 频道管理"},component:Ft},{path:"/channel/user/whitelist/document",name:"/channel/user/whitelist/document",meta:{activeidx:"",title:"作者管理-用户白名单-用户手册 | 频道管理"},component:Ot},{path:"/channel/content/keyword/white",name:"/channel/content/keyword/white",meta:{activeidx:"144-151-152",title:"内容管理-关键词白名单 | 频道管理"},component:Xt},{path:"/channel/content/keyword/black",name:"/channel/content/keyword/black",meta:{activeidx:"144-151-153",title:"内容管理-关键词黑名单 | 频道管理"},component:aa},{path:"/channel/content/link",name:"/channel/content/link",meta:{activeidx:"144-151-188",title:"内容管理-URL黑名单 | 频道管理"},component:oa},{path:"/channel/content/shield",redirect:"/channel/content/shield/mid",hidden:!0},{path:"/channel/content/shield/mid",name:"/channel/content/shield/mid",meta:{activeidx:"144-151-154",title:"内容管理-mid屏蔽 | 频道管理"},component:Vt},{path:"/channel/content/shield/all",name:"/channel/content/shield/all",meta:{activeidx:"144-151-186",title:"内容管理-屏蔽操作 | 频道管理"},component:Wt},{path:"/channel/content/promote",name:"/channel/content/promote",meta:{activeidx:"144-151-187",title:"内容管理-置顶操作 | 频道管理"},component:Ht},{path:"/channel/center/show",name:"/channel/center/show",meta:{activeidx:"144-155-156",title:"后台管理-频道列表 | 频道管理"},component:ha},{path:"/channel/center/accredit",name:"/channel/center/accredit",meta:{activeidx:"144-155-156",title:"后台管理-频道授权 | 频道管理"},component:ba},{path:"/category/center/role",name:"/category/center/role",meta:{activeidx:"178-182-183",title:"后台管理-角色管理 | 领域作者管理"},component:Aa},{path:"/category/center/accredit",name:"/category/center/accredit",meta:{activeidx:"178-182-184",title:"后台管理-领域授权 | 领域作者管理"},component:Fa},{path:"/category/center/show",name:"/category/center/show",meta:{activeidx:"178-182-185",title:"后台管理-领域操作记录 | 领域作者管理"},component:za},{path:"/category/user/white",name:"/category/user/white",meta:{activeidx:"178-179-180",title:"作者管理-领域白名单 | 领域作者管理"},component:Ka},{path:"/category/user/black",name:"/category/user/black",meta:{activeidx:"178-179-181",title:"作者管理-领域黑名单 | 领域作者管理"},component:ei},{path:"/hotcenter/manage",name:"/hotcenter/manage",meta:{activeidx:"158-159",title:"极速版物料审核 | 热门管理"},component:ri},{path:"/hotcenter/project",name:"/hotcenter/project",meta:{activeidx:"160-161",title:"项目管理 | 热门管理"},component:ki},{path:"/eval/tag",name:"/eval/tag",meta:{activeidx:"165-166",title:"标签评估 | 热门管理"},component:$i},{path:"/eval/pic",name:"/eval/pic",meta:{activeidx:"165-189",title:"图片评估 | 热门管理"},component:Ni},{path:"/platform/setmenu",name:"/platform/setmenu",meta:{activeidx:"19-38",title:"导航栏设置 | 平台管理"},component:Ui},{path:"/platform/usermanage",name:"/platform/usermanage",meta:{activeidx:"19-90",title:"用户管理 | 平台管理"},component:qi},{path:"/lab/smart/imgcut",name:"/lab/smart/imgcut",meta:{activeidx:"47-54",title:"图片智能裁剪 | 效果演示"},component:an},{path:"*",redirect:"/404",hidden:!0}]}),ln=a("2aIq"),sn=a.n(ln),on=a("mtWM"),rn=void 0,cn=a.n(on).a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API});cn.interceptors.request.use(function(e){return rn=R.Loading.service({fullscreen:!0,text:"Loading",background:"rgba(0, 0, 0, 0.8)"}),e},function(e){console.log("config error:",e),Hi.a.reject(e)}),cn.interceptors.response.use(function(e){return rn&&rn.close(),e.data},function(e){return rn&&rn.close(),Object(R.Message)({showClose:!0,message:"response failed",type:"error",duration:1e3}),console.log("response error:"+e),Hi.a.reject(e)});var dn=cn;function mn(e){return dn({url:Api_Domain+"/proxy/get",method:"get",params:e})}function un(e){return dn({url:""+Api_Domain+e.url,method:"get",params:e.params})}function pn(e){return dn({url:""+Api_Domain+e.url,method:"post",data:e.params,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}var hn={actions:{ProxyGet:function(e,t){return sn()(e),new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},ProxyPost:function(e,t){return sn()(e),new Hi.a(function(e,a){var i;(i=t,dn({url:Api_Domain+"/proxy/post",method:"post",data:i})).then(function(t){e(t)}).catch(function(e){a(e)})})},CommonGet:function(e,t){return sn()(e),new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},CommonPost:function(e,t){return sn()(e),new Hi.a(function(e,a){pn(t).then(function(t){e(t)}).catch(function(e){a(e)})})}}};var fn={state:{dataInfo:null,record:null,monitor:null,status:null,authorInfo:null,authorType:null,blackList:null,curvideo:null},mutations:{SET_DATA_INFO:function(e,t){e.dataInfo=t},SET_RECORD:function(e,t){e.record=t},SET_MONITOR:function(e,t){e.monitor=t},SET_STATUS:function(e,t){e.status=t},SET_AUTHOR_INFO:function(e,t){e.authorInfo=t},SET_AUTHOR_TYPE:function(e,t){e.authorType=t},SET_BLACK_LIST:function(e,t){e.blackList=t},SET_CUR_VIDEO:function(e,t){e.curvideo=t}},actions:{GetMaterial:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){a("SET_DATA_INFO",t),e()}).catch(function(e){i(e)})})},ShowBatch:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){var i=t&&t[0];if(i){var n=i.link,l=i.text,s=i.user,o=s.name,r=s.avatar_hd,c=s.friends_count,d=s.followers_count,m=s.statuses_count,u=s.profile_url;a("SET_AUTHOR_INFO",{user:{name:o,avatar_hd:r,friends_count:c,followers_count:d,statuses_count:m,profile_url:u},link:n,text:l})}else a("SET_AUTHOR_INFO",null);e()}).catch(function(e){i(e)})})},AuthorType:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){var i=t&&t.publisher_status;if(i&&i[1]&&i[2]){var n={vtype:i[1].value,clevel:i[2].value};a("SET_AUTHOR_TYPE",n)}else a("SET_AUTHOR_TYPE",null);e()}).catch(function(e){i(e)})})},TopMaterial:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),e()}).catch(function(e){a(e)})})},ShieldMaterial:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){t.code&&200==Number(t.code)?Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}):Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:3e3}),e()}).catch(function(e){a(e)})})},GetRecord:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),a("SET_RECORD",t),e()}).catch(function(e){i(e)})})},GetMonitor:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){var i=t.data;a("SET_MONITOR",i),e()}).catch(function(e){i(e)})})},GetStatus:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3});var i=t.data;a("SET_STATUS",i),e()}).catch(function(e){i(e)})})},GetBlackList:function(e,t){var a=e.commit;return new Hi.a(function(e,i){(function(e){return dn({url:Api_Domain+"/Shield/get",method:"get",params:e})})(t).then(function(t){if(t.code&&200==Number(t.code)){var i=t.result;a("SET_BLACK_LIST",i)}e()}).catch(function(e){i(e)})})},AddBlackList:function(e,t){e.commit;return new Hi.a(function(e,a){(function(e){return dn({url:Api_Domain+"/Shield/add",method:"get",params:e})})(t).then(function(t){t.msg&&400==Number(t.code)&&Object(R.Message)({showClose:!0,message:t.msg,type:"info",duration:0}),e()}).catch(function(e){a(e)})})},SetBlackList:function(e,t){e.commit;return new Hi.a(function(e,a){(function(e){return dn({url:Api_Domain+"/Shield/set",method:"get",params:e})})(t).then(function(t){e()}).catch(function(e){a(e)})})},GetManageData:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},updateVideo:function(e,t){(0,e.commit)("SET_CUR_VIDEO",t)},GetThirdTag:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetManageData:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},FilterAdvert:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){t.code&&200==Number(t.code)?Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}):Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:3e3}),e()}).catch(function(e){a(e)})})}}};function _n(){return new Hi.a(function(e,t){var a=null;try{window.frames.userInfo.contentDocument?a=window.frames.userInfo.contentDocument.body.innerText:window.frames.userInfo.document&&(a=window.frames.userInfo.document.body.innerText);var i=JSON.parse(a);i.email&&""!=i.email?e(i):(console.log("解析用户信息失败",i),t({msg:"解析用户信息失败"}))}catch(e){console.log("获取用户信息出错：",e),t({msg:"获取用户信息出错，可能是未登录"})}})}function gn(e){return dn({url:Api_Domain+"/menu/checkUserMenuAuth",method:"get",params:e})}var vn={state:{email:"visitor",isLogin:null,pageAuth:null},mutations:{SET_USER_INFO:function(e,t){e.isLogin=t.isLogin,e.isLogin&&(e.email=t.data.email)},SET_PAGE_AUTH:function(e,t){e.pageAuth=t}},actions:{GetUserInfo:function(e){var t=e.commit;return new Hi.a(function(e,a){var i=R.Loading.service({fullscreen:!0,text:"Loading",background:"rgba(0, 0, 0, 0.8)"}),n=document.getElementById("userInfo");n&&n.parentNode.removeChild(n);var l=document.createElement("iframe");l.id="userInfo",l.style.cssText="display:none",l.src="//mlplat.intra.weibo.com/proxy/login?cip=230";l.attachEvent?l.attachEvent("onload",function(){_n().then(function(a){i.close(),t("SET_USER_INFO",{data:a,isLogin:!0}),e()},function(e){i.close(),t("SET_USER_INFO",{isLogin:!1}),console.log("未获取到用户信息原因：",e.msg)})}):l.onload=function(){_n().then(function(a){i.close(),t("SET_USER_INFO",{data:a,isLogin:!0}),e()},function(e){i.close(),t("SET_USER_INFO",{isLogin:!1}),console.log("未获取到用户信息原因：",e.msg)})},document.body.appendChild(l)})},GetPageAuth:function(e,t){var a=e.commit;return new Hi.a(function(e,i){gn(t).then(function(t){t.code&&200==Number(t.code)?a("SET_PAGE_AUTH",t.result):a("SET_PAGE_AUTH","response failed"),e()}).catch(function(e){a("SET_PAGE_AUTH","response failed"),i(e)})})},GetUserList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetUser:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},DeleteUser:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetUser:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetUserInfo:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetMenuAuth:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})}}};var bn={state:{list:null,specialList:null},mutations:{SET_LIST:function(e,t){e.list=t},SET_SPECIAL:function(e,t){e.specialList=t}},actions:{GetMenu:function(e,t){var a=e.commit;return new Hi.a(function(e,i){(function(e){return dn({url:Api_Domain+"/menu/get",method:"get",params:e})})(t).then(function(t){var i=t.result;a("SET_LIST",i),e()}).catch(function(e){i(e)})})},DeleteItem:function(e,t){e.commit;return new Hi.a(function(e,a){(function(e){return dn({url:Api_Domain+"/menu/del",method:"get",params:e})})(t).then(function(t){e()}).catch(function(e){a(e)})})},EditItem:function(e,t){e.commit;return new Hi.a(function(e,a){(function(e){return dn({url:Api_Domain+"/menu/set",method:"get",params:e})})(t).then(function(t){e()}).catch(function(e){a(e)})})},AddItem:function(e,t){e.commit;return new Hi.a(function(e,a){(function(e){return dn({url:Api_Domain+"/menu/add",method:"get",params:e})})(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetSpecialMenu:function(e,t){var a=e.commit;return new Hi.a(function(e,i){un(t).then(function(t){t.code&&200==Number(t.code)&&a("SET_SPECIAL",t.result),e()}).catch(function(e){i(e)})})}}},yn={state:{cutImage:null},mutations:{SET_IMAGE_INFO:function(e,t){e.cutImage=t.thumbnail_square}},actions:{GetImageInfo:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),a("SET_IMAGE_INFO",t),e()}).catch(function(e){i(e)})})}}},wn={state:{dataMonitor:null,entireMonitor:null,analyDropList:null,analyData:null},mutations:{SET_DATA_MONITOR:function(e,t){e.dataMonitor=t},SET_ENTIRE_DATA:function(e,t){e.entireMonitor=t},SET_ANALY_DROP:function(e,t){e.analyDropList=t},SET_ANALY_DATA:function(e,t){e.analyData=t}},actions:{GetDataMonitor:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetEntireMonitor:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.code&&200==Number(t.code)&&a("SET_ENTIRE_DATA",t.data),e()}).catch(function(e){i(e)})})},GetAnalyDrop:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.code&&200==Number(t.code)&&a("SET_ANALY_DROP",t.data),e()}).catch(function(e){i(e)})})},GetAnalyData:function(e,t){var a=e.commit;return new Hi.a(function(e,i){mn(t).then(function(t){Object(R.Message)({showClose:!0,message:"success",type:"success",duration:1e3}),t.code&&200==Number(t.code)&&a("SET_ANALY_DATA",t.data),e()}).catch(function(e){i(e)})})},GetBaseAnaly:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetSourceList:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetFeature:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetUserRate:function(e,t){e.commit;return new Hi.a(function(e,a){mn(t).then(function(t){e(t)}).catch(function(e){a(e)})})}}},xn={state:{channelDrop:{typeList:null,tagList:null},channelList:null,allChannel:null,channelApi:null,channelData:null,whiteList:null,keywordList:null},mutations:{SET_CHANNEL_DROP:function(e,t){e.channelDrop=t},SET_CHANNEL_LIST:function(e,t){e.channelList=t},SET_ALL_CHANNEL:function(e,t){e.allChannel=t},SET_CHANNEL_DATA:function(e,t){e.channelData=t},SET_WHITE_LIST:function(e,t){e.whiteList=t},SET_KEYWORD_LIST:function(e,t){e.keywordList=t},SET_CHANNEL_API:function(e,t){e.channelApi=t}},actions:{GetChannelDrop:function(e,t){var a=e.commit;return new Hi.a(function(e,i){un(t).then(function(t){t.code&&200==Number(t.code)&&a("SET_CHANNEL_DROP",t.result),e()}).catch(function(e){i(e)})})},SetChannelList:function(e,t){var a=e.commit;return new Hi.a(function(e,i){un(t).then(function(t){t.code&&200==Number(t.code)?(a("SET_CHANNEL_LIST",t.result),a("SET_CHANNEL_API",!0)):a("SET_CHANNEL_API","response failed"),e()}).catch(function(e){a("SET_CHANNEL_API","response failed"),i(e)})})},GetChannelData:function(e,t){var a=e.commit;return new Hi.a(function(e,i){un(t).then(function(t){t.code&&200==Number(t.code)&&a("SET_CHANNEL_DATA",t.result),e()}).catch(function(e){i(e)})})},GetWhiteList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){t.result;e(t)}).catch(function(e){a(e)})})},AddWhiteList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){if(t.code&&200==Number(t.code)){var a=t.msg||"success";Object(R.Message)({showClose:!0,message:a,type:"success",duration:1e3})}else Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:3e3});e()}).catch(function(e){a(e)})})},SetChannelData:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},delWhiteList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetWhiteList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},updateWhiteList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},editWhiteList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetKeywordList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){var a=t.result;e(a)}).catch(function(e){a(e)})})},AddKeywordList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){if(t.code&&200==Number(t.code)){var a=t.msg||"success";Object(R.Message)({showClose:!0,message:a,type:"success",duration:1e3})}else Object(R.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:3e3});e()}).catch(function(e){a(e)})})},delKeywordList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetKeywordList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetChannelList:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetAllChannel:function(e,t){var a=e.commit;return new Hi.a(function(e,i){un(t).then(function(t){t.code&&200==Number(t.code)&&a("SET_ALL_CHANNEL",t.result),e()}).catch(function(e){i(e)})})},AddChannelUids:function(e,t){e.commit;return new Hi.a(function(e,a){pn(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetChannelUsers:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},AddChannelUsers:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},SetUserChannels:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},DeleteUserChannels:function(e,t){e.commit;return new Hi.a(function(e,a){un(t).then(function(t){e(t)}).catch(function(e){a(e)})})},GetChannelAuth:function(e,t){e.commit;return new Hi.a(function(e,a){gn(t).then(function(t){e(t)}).catch(function(e){a(e)})})}}},kn={materialInfo:function(e){return e.material.dataInfo},authorInfo:function(e){return e.material.authorInfo},authorType:function(e){return e.material.authorType},materialRecord:function(e){return e.material.record},materialMonitor:function(e){return e.material.monitor},materialStatus:function(e){return e.material.status},email:function(e){return e.user.email},isLogin:function(e){return e.user.isLogin},pageAuth:function(e){return e.user.pageAuth},menulist:function(e){return e.menu.list},specialMenu:function(e){return e.menu.specialList},blackList:function(e){return e.material.blackList},cutImage:function(e){return e.smart.cutImage},dataMonitor:function(e){return e.kpidata.dataMonitor},entireMonitor:function(e){return e.kpidata.entireMonitor},analyDropList:function(e){return e.kpidata.analyDropList},analyData:function(e){return e.kpidata.analyData},channelList:function(e){return e.channel.channelList},allChannel:function(e){return e.channel.allChannel},channelType:function(e){return e.channel.channelDrop.typeList},channelTag:function(e){return e.channel.channelDrop.tagList},channelData:function(e){return e.channel.channelData},whiteList:function(e){return e.channel.whiteList},keywordList:function(e){return e.channel.keywordList},channelApi:function(e){return e.channel.channelApi},curvideo:function(e){return e.material.curvideo}};i.default.use(s.a);var Cn=new s.a.Store({modules:{common:hn,material:fn,user:vn,menu:bn,smart:yn,kpidata:wn,channel:xn},getters:kn});a("tvR6"),a("sfy8"),a("yh13");i.default.use(W.a),i.default.config.productionTip=!1,window.Api_Domain=location.origin,window.isPhone=!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),new i.default({el:"#app",router:nn,store:Cn,components:{App:T},template:"<App/>"})},NYXQ:function(e,t){},NszD:function(e,t){},O98q:function(e,t){},PXpy:function(e,t){},SHEj:function(e,t){},Scfy:function(e,t){},Sl6B:function(e,t){},U0w1:function(e,t){},VBTy:function(e,t){},Vc03:function(e,t){},VkFt:function(e,t){},Vu2Z:function(e,t){},WwMY:function(e,t){},WxJg:function(e,t){},WxZE:function(e,t){},Y5Rb:function(e,t){},aogA:function(e,t){},awKx:function(e,t){},"b6/i":function(e,t){},bVVQ:function(e,t){},be5o:function(e,t){},cnlH:function(e,t){},eEGI:function(e,t){},ekW1:function(e,t){},fYJV:function(e,t){},fkUk:function(e,t){},gHGX:function(e,t){},gSAR:function(e,t){},gxUY:function(e,t){},jGJR:function(e,t){},kNz1:function(e,t){},lZVA:function(e,t){},n3CB:function(e,t){},nP6c:function(e,t){},pPxf:function(e,t){},qk78:function(e,t){},sVQ9:function(e,t){},sfy8:function(e,t){},tvR6:function(e,t){},vuZo:function(e,t){},wOuk:function(e,t){},wTmW:function(e,t){},wedT:function(e,t){},x8nZ:function(e,t){},xfDv:function(e,t){},yh13:function(e,t){},zE76:function(e,t){},zNex:function(e,t){},zxfG:function(e,t){}},["NHnr"]);