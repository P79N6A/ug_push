webpackJsonp([4],{"1ZBs":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),o=n.n(i),r=n("lHA8"),s=n.n(r),a=n("c/Tr"),l=n.n(a),c=n("Dd8w"),u=n.n(c),f=n("vzON"),p=n("NYxO"),m=n("zL8q"),h={name:"shieldPage",components:{Auth:f.a},data:function(){return{formInline:{level:"",type:1,content:[]},content:"",errorTips:"",placeholder:"输入mid，多个mid英文逗号分隔，可回车确认"}},computed:u()({},Object(p.b)(["pageAuth","email"])),methods:{setMaterial:function(){if(this.errorTips="",this.content){if(this.formInline.content.indexOf(this.content)>-1)return void(this.errorTips="“"+this.content+"”已存在以上物料录入列表");if(this.content.indexOf(",")>-1)for(var t=this.content.split(","),e=0;e<t.length;e++){var n=t[e].trim();if(n){if(this.formInline.content.indexOf(n)>-1)return void(this.errorTips="“"+n+"”（第"+(e+1)+"条）已存在以上物料录入列表");this.formInline.content.push(n)}}else this.formInline.content.push(this.content)}this.content="",this.formInline.content=l()(new s.a(this.formInline.content))},deleteMid:function(t){this.formInline.content.splice(t,1)},handleType:function(){1==this.formInline.type?this.placeholder="输入mid，多个mid英文逗号分隔，可回车确认":this.placeholder="输入链接，多个链接英文逗号分隔，可回车确认",this.formInline.content=[],this.content="",this.errorTips=""},clearEvent:function(){this.placeholder="输入mid，多个mid英文逗号分隔，可回车确认",this.formInline={level:"",type:1,content:[]},this.content="",this.errorTips=""},onSubmit:function(t){var e=this;this.formInline.level=t;var n=1===t?"置顶":"优先分发";this.$confirm("将"+n+"以上物料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setChunwan()}).catch(function(){e.$message({type:"info",message:"已取消操作！"})})},setChunwan:function(){var t=new URLSearchParams;t.append("type",this.formInline.type),t.append("level",this.formInline.level),t.append("content",o()(this.formInline.content)),t.append("username",this.email),t.append("cip",230);var e={url:"/proxy/setChunwan",params:t};this.$store.dispatch("CommonPost",e).then(function(t){if(t.code&&200==Number(t.code)){var e=t.msg||"success";Object(m.Message)({showClose:!0,message:e,type:"success",duration:3e3})}else Object(m.Message)({showClose:!0,message:t.msg||"操作失败！",type:"error",duration:0})})}},watch:{pageAuth:function(){}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return 1===t.pageAuth?n("el-main",[n("el-row",{staticClass:"pane-title-wrap"},[n("el-col",{attrs:{span:24}},[n("h6",{staticClass:"pane-title"},[n("i",{staticClass:"el-icon-star-off hidden-xs-only",staticStyle:{"margin-right":"6px"}}),t._v("春晚流物料")])])],1),t._v(" "),n("el-row",{staticClass:"content-box-wrap"},[n("el-col",{attrs:{span:24}},[n("el-form",{attrs:{model:t.formInline,"label-width":"50px",size:"small"}},[n("el-form-item",{attrs:{label:"类型",required:""}},[n("el-radio-group",{on:{change:function(e){t.handleType()}},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[n("el-radio",{attrs:{label:1,border:""}},[t._v("mid")]),t._v(" "),n("el-radio",{attrs:{label:2,border:""}},[t._v("链接")])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("div",{staticClass:"badge-box"},[n("el-badge",{attrs:{value:t.formInline.content.length||"0"}},[n("el-tag",{attrs:{type:"warning"}},[t._v("物料录入条数")])],1)],1),t._v(" "),t.formInline.content&&t.formInline.content.length>0?n("div",{staticClass:"clearfix"},t._l(t.formInline.content,function(e,i){return n("div",{key:i,staticClass:"tag-box left"},[n("el-tag",[t._v(t._s(e))]),t._v(" "),n("i",{staticClass:"el-icon-error tag-btn-close",on:{click:function(e){t.deleteMid(i)}}})],1)})):t._e()]),t._v(" "),n("el-form-item",{attrs:{label:"物料",required:""}},[n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.content,expression:"content",modifiers:{trim:!0}}],staticClass:"long-text",attrs:{placeholder:t.placeholder},domProps:{value:t.content},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.setMaterial()},blur:[function(e){t.setMaterial()},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.content=e.target.value.trim())}}}),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.errorTips,expression:"errorTips"}],staticClass:"error-tips"},[t._v("错误提示："+t._s(t.errorTips))]),t._v(" "),n("p",{staticClass:"text-tips"},[t._v("mid样例：4326329950075693"),n("br"),t._v("短链链接样例：https://weibo.com/1594052081/HbhPudlUA"),n("br"),t._v("mid链接样例：https://m.weibo.cn/2823492977/4328775120155937"),n("br"),t._v("输入多个值英文逗号分隔，可回车确认")])]),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"success"},on:{click:function(e){t.onSubmit(1)}}},[t._v("置顶")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:function(e){t.onSubmit(2)}}},[t._v("优先分发")]),t._v(" "),n("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.clearEvent()}}},[t._v("清除重置")])],1)],1)],1)],1)],1):0===t.pageAuth?n("el-main",[n("auth")],1):t._e()},staticRenderFns:[]};var v=n("VU/8")(h,d,!1,function(t){n("dIIr")},"data-v-bdc9bfe2",null);e.default=v.exports},BDhv:function(t,e,n){var i=n("kM2E");i(i.P+i.R,"Set",{toJSON:n("m9gC")("Set")})},dIIr:function(t,e){},ioQ5:function(t,e,n){n("HpRW")("Set")},lHA8:function(t,e,n){t.exports={default:n("pPW7"),__esModule:!0}},oNmr:function(t,e,n){n("9Bbf")("Set")},pPW7:function(t,e,n){n("M6a0"),n("zQR9"),n("+tPU"),n("ttyz"),n("BDhv"),n("oNmr"),n("ioQ5"),t.exports=n("FeBl").Set},ttyz:function(t,e,n){"use strict";var i=n("9C8M"),o=n("LIJb");t.exports=n("qo66")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(o(this,"Set"),t=0===t?0:t,t)}},i)}});