webpackJsonp([10],{"4brD":function(e,t){},KX3t:function(e,t){},"TF+0":function(e,t){},UnII:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("mvHQ"),s=i.n(o),a=i("Dd8w"),n=i.n(a),r=i("vzON"),l=i("lHA8"),c=i.n(l),d=i("c/Tr"),m=i.n(d),p=i("//Fk"),u=i.n(p),h=i("NYxO"),f=i("zL8q"),v="http://i.hot.weibo.com",g="990750541234567890",b={name:"GoTopReadPane",data:function(){return{dialogVisible:!1,selectMids:[],midList:[],mixMids:[],visitMids:[],recordData:[],goTopReadForm:{mid:"",flow:["1"]},goTopReadRules:{flow:[{type:"array",required:!0,message:"请至少选择一个流",trigger:"change"}]},operateForm:{ext:"混合流通用置顶"}}},computed:n()({},Object(h.b)(["email"])),created:function(){this.init()},methods:{init:function(){this.selectMids=[],this.midList=[],this.mixMids=[],this.visitMids=[],this.getTopMids("mix_common_top"),this.getTopMids("visit_common_top"),this.getRecords()},getTopMids:function(e){var t=this,i={url:v+"/3/admin/getDegradeValue",param:{name:e,staff:this.email,source:g}},o={data:s()(i),cip:230};this.$store.dispatch("ProxyGet",o).then(function(i){i.data?t.setMids(e,i.data.split(",")):t.setMids(e,[])},function(i){t.setMids(e,[]),Object(f.Message)({showClose:!0,message:"获取置顶mid接口请求失败！",type:"error",duration:3e3})})},setMids:function(e,t){"mix_common_top"===e?(this.mixMids=t,this.midList=this.midList.concat(this.formatMids("1",t))):(this.visitMids=t,this.midList=this.midList.concat(this.formatMids("2",t)))},formatMids:function(e,t){for(var i=[],o=0;o<t.length;o++)i.push({mid:t[o],flow:e});return i},setTopReadMids:function(e,t){var i=this;return new u.a(function(o,a){var n=m()(new c.a(t));if(n.length<1)i.clearTopReadAction(e).then(function(e){o()},function(e){a()});else{var r={url:v+"/3/admin/setCommonTop",param:{flow:e,data:n.join(","),staff:i.email,source:g}},l={data:s()(r),cip:230};i.$store.dispatch("ProxyGet",l).then(function(e){200===Number(e.code)?o():a()},function(e){a()})}})},goTopReadEvent:function(){var e=this;this.goTopReadForm.mid?this.goTopReadForm.flow.length<1?Object(f.Message)({showClose:!0,message:"请至少选择一个物料类型！",type:"error",duration:3e3}):this.$confirm("将置顶所填mid, 是否继续?","确认置顶",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.goTopReadAction()}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(f.Message)({showClose:!0,message:"mid不能为空！",type:"error",duration:3e3})},goTopReadAction:function(){var e=this,t=this.goTopReadForm.mid.split(",");2===this.goTopReadForm.flow.length?u.a.all([this.setTopReadMids(1,t.concat(this.mixMids)),this.setTopReadMids(2,t.concat(this.visitMids))]).then(function(t){e.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"添加置顶失败！",type:"error",duration:3e3})}):"1"===this.goTopReadForm.flow[0]?this.setTopReadMids(1,t.concat(this.mixMids)).then(function(t){e.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"混合流添加置顶失败！",type:"error",duration:3e3})}):"2"===this.goTopReadForm.flow[0]&&this.setTopReadMids(2,t.concat(this.visitMids)).then(function(t){e.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"访客流添加置顶失败！",type:"error",duration:3e3})})},clearTopReadEvent:function(e){var t=this;this.$confirm("将清空置顶的mid, 是否继续?","确认清空置顶",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){t.clearTopReadAction(e).then(function(e){t.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"清空置顶失败！",type:"error",duration:3e3})})}).catch(function(){t.$message({type:"info",message:"取消操作"})})},clearTopReadAction:function(e){var t=this;return new u.a(function(i,o){var a={url:v+"/3/admin/delCommonTop",param:{flow:e,staff:t.email,source:g}},n={data:s()(a),cip:230};t.$store.dispatch("ProxyGet",n).then(function(e){200===Number(e.code)?i():o()},function(e){o()})})},delTopReadEvent:function(e){var t=this;this.$confirm("将取消置顶的mid："+e.mid+", 是否继续?","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){t.delTopReadAction(e)}).catch(function(){t.$message({type:"info",message:"取消操作"})})},delTopReadAction:function(e){var t=this;if("1"===e.flow){var i=this.mixMids.indexOf(e.mid);this.mixMids.splice(i,1),this.setTopReadMids(1,this.mixMids).then(function(e){t.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"混合流取消置顶失败！",type:"error",duration:3e3})})}else{var o=this.visitMids.indexOf(e.mid);this.visitMids.splice(o,1),this.setTopReadMids(2,this.visitMids).then(function(e){t.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"访客流取消置顶失败！",type:"error",duration:3e3})})}},handleSelectionChange:function(e){this.selectMids=e},delTopMidsEvent:function(){var e=this;this.selectMids.length<1?Object(f.Message)({showClose:!0,message:"请勾选需要取消的mid！",type:"error",duration:3e3}):this.$confirm("将批量取消勾选的mid, 是否继续?","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.delTopMidsAction(e.selectMids)}).catch(function(){e.$message({type:"info",message:"取消操作"})})},delTopMidsAction:function(e){for(var t=this,i=!1,o=!1,s=0;s<e.length;s++)if("1"===e[s].flow){i=!0;var a=this.mixMids.indexOf(e[s].mid);this.mixMids.splice(a,1)}else{o=!0;var n=this.visitMids.indexOf(e[s].mid);this.visitMids.splice(n,1)}i&&o?u.a.all([this.setTopReadMids(1,this.mixMids),this.setTopReadMids(2,this.visitMids)]).then(function(e){t.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"批量取消置顶失败！",type:"error",duration:3e3})}):i?this.setTopReadMids(1,this.mixMids).then(function(e){t.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"批量取消置顶失败！",type:"error",duration:3e3})}):o&&this.setTopReadMids(2,this.visitMids).then(function(e){t.init(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"批量取消置顶失败！",type:"error",duration:3e3})})},getRecords:function(){var e=this,t={url:v+"/3/admin/getalllog",param:{ext:this.operateForm.ext,staff:this.email,source:g}},i={data:s()(t),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){t.list?e.recordData=t.list:e.recordData=[]},function(t){e.recordData=[],Object(f.Message)({showClose:!0,message:"置顶操作记录接口请求失败！",type:"error",duration:3e3})})}},watch:{email:function(){this.init()}}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"pane-form"},[i("el-dialog",{attrs:{title:"过已读置顶操作",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{model:e.goTopReadForm,rules:e.goTopReadRules,"label-width":"100px",size:"small"}},[i("el-form-item",{attrs:{label:"物料类型",prop:"flow"}},[i("el-checkbox-group",{model:{value:e.goTopReadForm.flow,callback:function(t){e.$set(e.goTopReadForm,"flow",t)},expression:"goTopReadForm.flow"}},[i("el-checkbox",{attrs:{label:"1"}},[e._v("混合流")]),e._v(" "),i("el-checkbox",{attrs:{label:"2"}},[e._v("访客流")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"微博mid",prop:"mid"}},[i("el-input",{attrs:{placeholder:"请输入mid，多个值英文逗号分隔",type:"textarea",autosize:{minRows:2},clearable:""},model:{value:e.goTopReadForm.mid,callback:function(t){e.$set(e.goTopReadForm,"mid","string"==typeof t?t.trim():t)},expression:"goTopReadForm.mid"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10px","margin-bottom":"5px"},attrs:{type:"success",size:"small"},on:{click:function(t){e.goTopReadEvent()}}},[e._v("添加置顶")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"warning",size:"small"},on:{click:function(t){e.clearTopReadEvent()}}},[e._v("清空置顶")])],1)],1),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"clearfix"},[i("el-button",{staticClass:"left",attrs:{plain:"",size:"mini"},on:{click:function(t){e.delTopMidsEvent()}}},[e._v("批量取消")]),e._v(" "),i("el-button",{staticClass:"right",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加/清空 置顶")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.midList,size:"mini","default-sort":{prop:"mid",order:"ascending"},border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"80",fixed:"left",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"mid",label:"mid",sortable:"","min-width":"140"}}),e._v(" "),i("el-table-column",{attrs:{prop:"flow",label:"物料类型",sortable:"","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.flow?"混合流":"访客流"))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"单条操作",width:"100px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.delTopReadEvent(t.row)}}},[e._v("取消置顶")])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"pane-form"},[i("el-radio-group",{attrs:{size:"mini"},on:{change:e.getRecords},model:{value:e.operateForm.ext,callback:function(t){e.$set(e.operateForm,"ext",t)},expression:"operateForm.ext"}},[i("el-radio",{attrs:{label:"混合流通用置顶",border:""}},[e._v("混合流置顶_操作记录")]),e._v(" "),i("el-radio",{attrs:{label:"访客流通用置顶",border:""}},[e._v("访客流置顶_操作记录")])],1),e._v(" "),i("el-table",{staticClass:"table-wrap",staticStyle:{width:"100%"},attrs:{data:e.recordData,border:"",size:"mini"}},[i("el-table-column",{attrs:{align:"left",width:"190",sortable:"",prop:"time",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time hidden-xs-only"}),e._v(" "),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.time))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"120",prop:"name",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"300",prop:"content",label:"内容"}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"clearfix"},[t("h6",{staticClass:"table-title left"},[this._v("已置顶mid列表")])])}]};var y=i("VU/8")(b,_,!1,function(e){i("4brD")},"data-v-0b7cecac",null).exports,w={name:"FrontShieldPane",data:function(){return{type:"mid",typeMap:{mid:"屏蔽mid",keyword:"屏蔽关键词"},midList:[],keywordList:[],selectMids:[],selectKeywords:[],recordData:[],shieldForm:{mid:"",keyword:""},operateForm:{ext:"前端屏蔽mid"}}},computed:n()({},Object(h.b)(["email"])),created:function(){this.init()},methods:{init:function(){this.initMids(),this.initKeywords()},initMids:function(){var e=this;this.midList=[],this.selectMids=[],this.getShieldData("fe_common_black_mid").then(function(t){e.midList=t}),this.getRecords()},initKeywords:function(){var e=this;this.keywordList=[],this.selectKeywords=[],this.getShieldData("fe_black_word").then(function(t){e.keywordList=t}),this.getRecords()},getShieldData:function(e){var t=this;return new u.a(function(i,o){var a={url:"http://i.hot.weibo.com/3/admin/getDegradeValue",param:{name:e,staff:t.email,source:"990750541234567890"}},n={data:s()(a),cip:230};t.$store.dispatch("ProxyGet",n).then(function(t){if(t.data){var o="fe_common_black_mid"===e?t.data.split(","):t.data;i(o)}else i([])},function(e){Object(f.Message)({showClose:!0,message:"获取屏蔽内容接口请求失败！",type:"error",duration:3e3}),i([])})})},clearMidsAction:function(){var e=this;return new u.a(function(t,i){var o={url:"http://i.hot.weibo.com/3/admin/delBlackMid",param:{staff:e.email,source:"990750541234567890"}},a={data:s()(o),cip:230};e.$store.dispatch("ProxyGet",a).then(function(e){200===Number(e.code)?t():i()},function(e){i()})})},setBlackMids:function(e){var t=this;return new u.a(function(i,o){var a=m()(new c.a(e));if(a.length<1)t.clearMidsAction().then(function(e){i()},function(e){o()});else{var n={url:"http://i.hot.weibo.com/3/admin/setBlackMid",param:{data:a.join(","),staff:t.email,source:"990750541234567890"}},r={data:s()(n),cip:230};t.$store.dispatch("ProxyGet",r).then(function(e){200===Number(e.code)?i():o()},function(e){o()})}})},setMidsEvent:function(){var e=this;this.shieldForm.mid?this.$confirm("将屏蔽所填mid, 是否继续?","确认屏蔽",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){var t=e.midList.concat(e.shieldForm.mid.split(","));e.setBlackMids(t).then(function(t){e.initMids(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"mid屏蔽失败！",type:"error",duration:3e3})})}).catch(function(){e.$message({type:"info",message:"取消操作"})}):Object(f.Message)({showClose:!0,message:"mid不能为空！",type:"error",duration:3e3})},delMidEvent:function(e){var t=this;this.$confirm("将取消屏蔽mid："+e+", 是否继续?","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){t.delMidListAction([e])}).catch(function(){t.$message({type:"info",message:"取消操作"})})},delMidListEvent:function(){var e=this;this.selectMids.length<1?Object(f.Message)({showClose:!0,message:"请勾选需要取消的mid！",type:"error",duration:3e3}):this.$confirm("将批量取消勾选的mid, 是否继续?","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.delMidListAction(e.selectMids)}).catch(function(){e.$message({type:"info",message:"取消操作"})})},delMidListAction:function(e){for(var t=this,i=JSON.parse(s()(this.midList)),o=0;o<e.length;o++){var a=i.indexOf(e[o]);i.splice(a,1)}this.setBlackMids(i).then(function(e){t.initMids(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3},function(e){Object(f.Message)({showClose:!0,message:"取消屏蔽失败！",type:"error",duration:3e3})})})},clearMidsEvent:function(){var e=this;this.$confirm("将清空屏蔽的mid, 是否继续?","确认清空屏蔽",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.clearMidsAction().then(function(t){e.initMids(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})},function(e){Object(f.Message)({showClose:!0,message:"清空屏蔽mid失败！",type:"error",duration:3e3})})}).catch(function(){e.$message({type:"info",message:"取消操作"})})},setKeywordsEvent:function(){var e=this,t=[];if(this.shieldForm.keyword)for(var i=this.shieldForm.keyword.split("|"),o=0;o<i.length;o++)i[o]&&t.push(i[o]);!this.shieldForm.keyword||t.length<1?Object(f.Message)({showClose:!0,message:"关键词组不能为空！",type:"error",duration:3e3}):this.$confirm("将屏蔽所填关键词组, 是否继续?","确认屏蔽",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setKeywords(t,"set")}).catch(function(){e.$message({type:"info",message:"取消操作"})})},setKeywords:function(e,t){var i=this,o=m()(new c.a(e)),a={url:"http://i.hot.weibo.com/3/admin/setBlackWords",param:{data:s()(o),action:t,staff:this.email,source:"990750541234567890"}},n={data:s()(a),cip:230};this.$store.dispatch("ProxyGet",n).then(function(e){200===Number(e.code)?(i.initKeywords(),Object(f.Message)({showClose:!0,message:"Success",type:"success",duration:1e3})):Object(f.Message)({showClose:!0,message:"操作关键词失败！",type:"error",duration:3e3})},function(e){Object(f.Message)({showClose:!0,message:"操作关键词接口请求失败！",type:"error",duration:3e3})})},delKeywordEvent:function(e){var t=this;this.$confirm("将取消屏蔽关键词组："+e+", 是否继续?","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){t.setKeywords([e],"del")}).catch(function(){t.$message({type:"info",message:"取消操作"})})},delKeywordListEvent:function(){var e=this;this.selectKeywords.length<1?Object(f.Message)({showClose:!0,message:"请勾选需要取消的关键词组！",type:"error",duration:3e3}):this.$confirm("将批量取消勾选的关键词组, 是否继续?","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.setKeywords(e.selectKeywords,"del")}).catch(function(){e.$message({type:"info",message:"取消操作"})})},handleSelectMid:function(e){this.selectMids=e},handleSelectKeyword:function(e){this.selectKeywords=e},getRecords:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/getalllog",param:{ext:this.operateForm.ext,staff:this.email,source:"990750541234567890"}},i={data:s()(t),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){t.list?e.recordData=t.list:e.recordData=[]},function(t){e.recordData=[],Object(f.Message)({showClose:!0,message:"操作记录接口请求失败！",type:"error",duration:3e3})})}},watch:{email:function(){this.init()}}},x={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"pane-form"},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.typeMap,function(t,o){return i("el-radio-button",{key:o,staticStyle:{"margin-bottom":"20px"},attrs:{label:o}},[e._v(e._s(t))])})),e._v(" "),"mid"===e.type?i("div",[i("el-form",{attrs:{size:"small","label-width":"70px","label-position":"left"}},[i("el-form-item",{attrs:{label:"微博mid"}},[i("el-input",{staticStyle:{"max-width":"360px"},attrs:{placeholder:"请输入mid，多个值英文逗号分隔",type:"textarea",autosize:{minRows:2}},model:{value:e.shieldForm.mid,callback:function(t){e.$set(e.shieldForm,"mid","string"==typeof t?t.trim():t)},expression:"shieldForm.mid"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(t){e.setMidsEvent()}}},[e._v("添加屏蔽")])],1)],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("el-button",{staticClass:"left",attrs:{plain:"",size:"mini"},on:{click:function(t){e.delMidListEvent()}}},[e._v("批量取消")]),e._v(" "),i("el-button",{staticClass:"left",attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(t){e.clearMidsEvent()}}},[e._v("清空屏蔽mid")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.midList,size:"mini",border:""},on:{"selection-change":e.handleSelectMid}},[i("el-table-column",{attrs:{type:"selection",width:"80",fixed:"left",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"mid","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"单条操作",width:"100px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.delMidEvent(t.row)}}},[e._v("取消屏蔽")])]}}])})],1)],1):e._e(),e._v(" "),"keyword"===e.type?i("div",[i("el-form",{attrs:{size:"small","label-width":"90px","label-position":"left"}},[i("el-form-item",{attrs:{label:"微博关键词"}},[i("el-input",{staticStyle:{"max-width":"360px"},attrs:{placeholder:"请输入keyword,同一组用逗号分隔，不同组用｜分割",type:"textarea",autosize:{minRows:2}},model:{value:e.shieldForm.keyword,callback:function(t){e.$set(e.shieldForm,"keyword","string"==typeof t?t.trim():t)},expression:"shieldForm.keyword"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(t){e.setKeywordsEvent()}}},[e._v("添加屏蔽")])],1)],1),e._v(" "),i("div",{staticClass:"clearfix"},[i("el-button",{staticClass:"left",attrs:{plain:"",size:"mini"},on:{click:function(t){e.delKeywordListEvent()}}},[e._v("批量取消")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.keywordList,size:"mini",border:""},on:{"selection-change":e.handleSelectKeyword}},[i("el-table-column",{attrs:{type:"selection",width:"80",fixed:"left",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"组合关键词","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"单条操作",width:"100px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.delKeywordEvent(t.row)}}},[e._v("取消屏蔽")])]}}])})],1)],1):e._e()],1),e._v(" "),i("div",{staticClass:"pane-form"},[i("el-radio-group",{attrs:{size:"mini"},on:{change:e.getRecords},model:{value:e.operateForm.ext,callback:function(t){e.$set(e.operateForm,"ext",t)},expression:"operateForm.ext"}},[i("el-radio",{attrs:{label:"前端屏蔽mid",border:""}},[e._v("屏蔽mid_操作记录")]),e._v(" "),i("el-radio",{attrs:{label:"前端敏感词",border:""}},[e._v("屏蔽关键词_操作记录")])],1),e._v(" "),i("el-table",{staticClass:"table-wrap",staticStyle:{width:"100%"},attrs:{data:e.recordData,border:"",size:"mini"}},[i("el-table-column",{attrs:{align:"left",width:"190",sortable:"",prop:"time",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time hidden-xs-only"}),e._v(" "),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.time))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"120",prop:"name",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"300",prop:"content",label:"内容"}})],1)],1)])},staticRenderFns:[]};var F=i("VU/8")(w,x,!1,function(e){i("KX3t")},"data-v-d0f5819a",null).exports,k={name:"OperateSwitchPane",data:function(){return{configForm:null,recordData:[]}},computed:n()({},Object(h.b)(["email"])),created:function(){this.init()},methods:{init:function(){this.getConfig(),this.getRecords()},getConfig:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/getDegradeValue",param:{name:"special_config",staff:this.email,source:"990750541234567890"}},i={data:s()(t),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){t.data?e.configForm=JSON.parse(t.data):e.configForm=!1},function(t){Object(f.Message)({showClose:!0,message:"开关配置获取接口请求失败！",type:"error",duration:3e3}),e.configForm=!1})},saveEvent:function(){var e=this;this.$confirm("将保存开关配置, 是否继续?","确认保存",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){e.saveConfig()}).catch(function(){e.$message({type:"info",message:"取消操作"})})},saveConfig:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/setSpecial",param:{data:this.configForm.common_top+","+this.configForm.black_mid+","+this.configForm.black_word,staff:this.email,source:"990750541234567890"}},i={data:s()(t),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){200===Number(t.code)?(e.init(),Object(f.Message)({showClose:!0,message:"设置成功!",type:"success",duration:1e3})):Object(f.Message)({showClose:!0,message:t&&t.msg||"设置失败！",type:"error",duration:3e3})},function(e){Object(f.Message)({showClose:!0,message:"设置接口请求失败！",type:"error",duration:0})})},getRecords:function(){var e=this,t={url:"http://i.hot.weibo.com/3/admin/getalllog",param:{ext:"特殊配置设置",staff:this.email,source:"990750541234567890"}},i={data:s()(t),cip:230};this.$store.dispatch("ProxyGet",i).then(function(t){t.list?e.recordData=t.list:e.recordData=[]},function(t){e.recordData=[],Object(f.Message)({showClose:!0,message:"操作记录接口请求失败！",type:"error",duration:3e3})})}},watch:{email:function(){this.init()}}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.configForm?i("el-form",{staticClass:"pane-form",attrs:{"label-width":"60px",size:"small"}},[i("el-form-item",[i("el-switch",{attrs:{"active-text":"置顶开关","active-value":1,"inactive-value":0},model:{value:e.configForm.common_top,callback:function(t){e.$set(e.configForm,"common_top",t)},expression:"configForm.common_top"}})],1),e._v(" "),i("el-form-item",[i("el-switch",{attrs:{"active-text":"屏蔽mid开关","active-value":1,"inactive-value":0},model:{value:e.configForm.black_mid,callback:function(t){e.$set(e.configForm,"black_mid",t)},expression:"configForm.black_mid"}})],1),e._v(" "),i("el-form-item",[i("el-switch",{attrs:{"active-text":"屏蔽关键词开关","active-value":1,"inactive-value":0},model:{value:e.configForm.black_word,callback:function(t){e.$set(e.configForm,"black_word",t)},expression:"configForm.black_word"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.saveEvent()}}},[e._v("保存")])],1)],1):e._e(),e._v(" "),i("div",{staticClass:"pane-form"},[e._m(0),e._v(" "),i("el-table",{staticClass:"table-wrap",staticStyle:{width:"100%"},attrs:{data:e.recordData,border:"",size:"mini"}},[i("el-table-column",{attrs:{align:"left",width:"190",sortable:"",prop:"time",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time hidden-xs-only"}),e._v(" "),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.time))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"120",prop:"name",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"300",prop:"content",label:"内容"}})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"clearfix"},[t("h6",{staticClass:"table-title left"},[this._v("配置开关操作记录")])])}]};var T=i("VU/8")(k,M,!1,function(e){i("TF+0")},"data-v-6f8dbfc6",null).exports,C=i("0xDb"),S={name:"operatematerial",components:{Auth:r.a,TopRead:y,FrontShield:F,OperateSwitch:T},data:function(){return{tabPosition:"top",searchTimer:null,setBlackPopover:!1,goTopForm:{mid:"",type:["混合流"],flow:{"混合流":1,"访客流":2},upPopover:!1,downPopover:!1},goTopRules:{mid:[{required:!0,message:"mid不能为空",trigger:"blur"}],type:[{type:"array",required:!0,message:"请至少选择一个流",trigger:"change"}]},effect_time_forever:!1,filter_type_default:[1,2,3],shieldForm:{isShowCancel:!1,placeholder:"请先选择屏蔽类型",content:"",type:"",addPopover:!1,cancelPopover:!1,options:[{value:"link",label:"微博链接"},{value:"uid",label:"uid"},{value:"mid",label:"mid"},{value:"url",label:"URL"},{value:"tag",label:"标签"},{value:"keyword",label:"关键字"}],placeObj:{link:"请输入微博链接",uid:"请输入uid,使用 , 分隔多个值",mid:"请输入mid,使用 , 分隔多个值",url:"请输入URL,使用 , 分隔多个值",tag:"请输入tag,使用 , 分隔多个值",keyword:"输入keyword,同一组用逗号分隔，不同组用｜分割"},effect_time:"",filter_type:[]},shieldRules:{content:[{required:!0,message:"物料不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择屏蔽类型",trigger:"blur"}]},operateForm:{loading:!1,user:"",total:0,count:10,currentPage:1},advertForm:{type:"hotmblog_ad_top",data:!0,popover:!1,options:[{value:"hotmblog_ad_top",label:"position为0的广告"},{value:"hotmblog_ad_top_banner",label:"微博之夜"}]}}},computed:n()({},Object(h.b)(["email","materialRecord","pageAuth","blackList"])),methods:{init:function(){1===this.pageAuth&&(this.onSearch(),this.getBlackList())},goTopEvent:function(e,t){var i=this,o=this,a="up"==t?"set19top":"del19top";this.goTopForm.upPopover=!1,this.goTopForm.downPopover=!1,this.$refs[e].validate(function(e){if(!e)return console.log("error "+a),!1;for(var t=o.goTopForm.type,n=[],r=0;r<t.length;r++)n.push(o.goTopForm.flow[t[r]]);var l={url:"http://i.hot.weibo.com/3/admin/"+a,param:{staff:o.email,source:"990750541234567890",data:o.goTopForm.mid,flow:n.join(",")}},c={data:s()(l),cip:230};i.$store.dispatch("TopMaterial",c)})},shieldEvent:function(e,t){var i=this,o=this;this.shieldForm.addPopover=!1,this.shieldForm.cancelPopover=!1,this.effect_time_forever||this.shieldForm.effect_time?"tag"!==this.shieldForm.type&&"keyword"!==this.shieldForm.type||0!==this.shieldForm.filter_type.length?this.$refs[e].validate(function(e){if(!e)return console.log("error "+t),!1;var a=o.shieldForm.type,n=o.shieldForm.content;"link"==a&&(a="mid",n=o.urlToMid(n));var r={staff:o.email,source:"990750541234567890",action:t,flow:1,type:a,data:n};r.effect_time=i.effect_time_forever?"2100010101":i.shieldForm.effect_time,r.filter_type="123","tag"!==a&&"keyword"!==a||(i.shieldForm.filter_type.sort(),r.filter_type=i.shieldForm.filter_type.join(""));var l={url:"http://i.hot.weibo.com/3/admin/apiAgent",param:r},c={data:s()(l),cip:230};i.$store.dispatch("ShieldMaterial",c),"mid"==a&&"add_black"==t&&o.addBlackList(n),"uid"==a&&"add_black"==t&&o.setBlackList(n,2),"uid"==a&&"cancel_black"==t&&o.setBlackList(n,0)}):Object(f.Message)({showClose:!0,message:"请至少勾选一个用户人群！",type:"error",duration:3e3}):Object(f.Message)({showClose:!0,message:"请填写过期时间！",type:"error",duration:3e3})},resetForm:function(e){this.$refs[e].resetFields(),this.shieldForm.placeholder="请先选择屏蔽类型",this.effect_time_forever=!1,this.shieldForm.filter_type=[]},shieldChangeEvent:function(){""==this.shieldForm.type?this.shieldForm.placeholder="请先选择屏蔽类型":(this.shieldForm.isShowCancel="mid"!=this.shieldForm.type&&"link"!=this.shieldForm.type,this.shieldForm.placeholder=this.shieldForm.placeObj[this.shieldForm.type])},urlToMid:function(e){var t=e.split("/");return t[t.length-1]},onSearch:function(){this.operateForm.loading=!0,this.searchTimer||this.setTimer();var e={url:"http://i.hot.weibo.com/3/admin/getalllog",param:{staff:this.email,source:"990750541234567890",user:this.operateForm.user,page:this.operateForm.currentPage,count:this.operateForm.count}},t={data:s()(e),cip:230};this.$store.dispatch("GetRecord",t)},getBlackList:function(){var e={username:this.email,cip:230};this.$store.dispatch("GetBlackList",e)},addBlackList:function(e){var t=this,i={cip:230,mid:e,username:this.email};this.$store.dispatch("AddBlackList",i).then(function(){t.getBlackList()})},setBlackEvent:function(e,t){var i=this;this.$confirm("确定解除定时拉黑？?","解除定时拉黑",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(function(){i.setBlackList(e,t)}).catch(function(){i.$message({type:"info",message:"取消操作"})})},setBlackList:function(e,t){var i=this;this.setBlackPopover=!1;var o={cip:230,uid:e,status:t,username:this.email};this.$store.dispatch("SetBlackList",o).then(function(){i.getBlackList()})},operateChangeEvent:function(){this.operateForm.currentPage=1},setTimer:function(){var e=this;this.searchTimer=setTimeout(function(){e.operateForm.loading&&(e.operateForm.loading=!1),e.searchTimer=null},5e3)},focusEvent:function(){this.operateForm.loading&&(this.operateForm.loading=!1)},handleSizeChange:function(e){this.operateForm.count=e,this.onSearch()},handleCurrentChange:function(e){this.operateForm.currentPage=e,this.onSearch()},_formatNum:function(e){return Object(C.b)(e)},advertEvent:function(){this.advertForm.popover=!1;var e={url:"http://i.hot.weibo.com/3/admin/activeAd",param:{staff:this.email,source:"990750541234567890",type:this.advertForm.type,data:this.advertForm.data?2:1}},t={data:s()(e),cip:230};this.$store.dispatch("FilterAdvert",t)}},created:function(){this.init()},watch:{dataInfo:function(){},materialRecord:function(){this.operateForm.loading=!1,this.operateForm.total=Number(this.materialRecord.total)},email:function(){},pageAuth:function(){this.init()},blackList:function(){}}},$={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return 1===e.pageAuth?i("el-main",[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-tabs",{staticStyle:{"padding-top":"18px","padding-left":"14px","padding-right":"14px"},attrs:{"tab-position":e.tabPosition}},[i("el-tab-pane",{attrs:{label:"操作记录"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("物料操作记录查询")]),e._v(" "),i("el-row",{attrs:{type:"flex",align:"middle",justify:"center"}},[i("el-col",{attrs:{xs:24,span:24}},[i("el-form",{attrs:{inline:!0,size:"mini"}},[i("el-form-item",[i("el-input",{staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"查询指定用户, 为空则查询所有记录",clearable:""},on:{change:function(t){e.operateChangeEvent()}},model:{value:e.operateForm.user,callback:function(t){e.$set(e.operateForm,"user",t)},expression:"operateForm.user"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:e.operateForm.loading},on:{click:e.onSearch}},[i("span",{staticClass:"hidden-xs-only"},[e._v("搜索")])])],1)],1),e._v(" "),i("el-table",{staticClass:"pane-table",staticStyle:{width:"100%"},attrs:{data:e.materialRecord&&e.materialRecord.list,border:"",size:"mini"}},[i("el-table-column",{attrs:{align:"left",width:"190",sortable:"",prop:"time",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-time hidden-xs-only"}),e._v(" "),i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.time))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"120",prop:"name",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{align:"left","min-width":"300",prop:"content",label:"内容"}})],1),e._v(" "),i("div",{staticClass:"page-wrap"},[i("el-pagination",{attrs:{"current-page":e.operateForm.currentPage,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.operateForm.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"置顶操作"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("置顶操作")]),e._v(" "),i("el-row",{attrs:{type:"flex",align:"middle",justify:"start"}},[i("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[i("el-form",{ref:"goTopForm",staticClass:"pane-form",attrs:{model:e.goTopForm,rules:e.goTopRules,"label-width":"100px",size:"small"}},[i("el-form-item",{attrs:{label:"微博mid",prop:"mid"}},[i("el-input",{attrs:{"suffix-icon":"el-icon-edit",placeholder:"请输入mid",clearable:""},model:{value:e.goTopForm.mid,callback:function(t){e.$set(e.goTopForm,"mid",t)},expression:"goTopForm.mid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"物料类型",prop:"type"}},[i("el-checkbox-group",{model:{value:e.goTopForm.type,callback:function(t){e.$set(e.goTopForm,"type",t)},expression:"goTopForm.type"}},[i("el-checkbox",{attrs:{label:"混合流",name:"type"}}),e._v(" "),i("el-checkbox",{attrs:{label:"访客流",name:"type"}})],1)],1),e._v(" "),i("el-form-item",[i("el-popover",{ref:"popoverUp",attrs:{placement:"bottom",width:"200"},model:{value:e.goTopForm.upPopover,callback:function(t){e.$set(e.goTopForm,"upPopover",t)},expression:"goTopForm.upPopover"}},[i("p",[e._v("确定上榜？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.goTopForm.upPopover=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.goTopEvent("goTopForm","up")}}},[e._v("确定")])],1)]),e._v(" "),i("el-popover",{ref:"popoverDown",attrs:{placement:"bottom",width:"200"},model:{value:e.goTopForm.downPopover,callback:function(t){e.$set(e.goTopForm,"downPopover",t)},expression:"goTopForm.downPopover"}},[i("p",[e._v("确定下榜？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.goTopForm.downPopover=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.goTopEvent("goTopForm","down")}}},[e._v("确定")])],1)]),e._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverUp",arg:"popoverUp"}],attrs:{type:"success",size:"small"}},[e._v("上榜")]),e._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:popoverDown",arg:"popoverDown"}],attrs:{type:"warning",size:"small"}},[e._v("下榜")])],1)],1)],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"置顶过已读"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("置顶过已读")]),e._v(" "),i("top-read")],1),e._v(" "),i("el-tab-pane",{attrs:{label:"前端屏蔽"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("前端屏蔽")]),e._v(" "),i("front-shield")],1),e._v(" "),i("el-tab-pane",{attrs:{label:"屏蔽操作"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("屏蔽操作")]),e._v(" "),i("el-row",{attrs:{type:"flex",align:"middle",justify:"start"}},[i("el-col",{attrs:{xs:24,span:23}},[i("el-form",{ref:"shieldForm",staticClass:"pane-form",attrs:{model:e.shieldForm,rules:e.shieldRules,"label-width":"100px",size:"small"}},[i("el-form-item",{attrs:{label:"屏蔽类型",prop:"type"}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:function(t){e.shieldChangeEvent()}},model:{value:e.shieldForm.type,callback:function(t){e.$set(e.shieldForm,"type",t)},expression:"shieldForm.type"}},e._l(e.shieldForm.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"过期时间",prop:"effect_time"}},[i("el-checkbox",{model:{value:e.effect_time_forever,callback:function(t){e.effect_time_forever=t},expression:"effect_time_forever"}},[e._v("永久")]),e._v(" "),e.effect_time_forever?e._e():i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择屏蔽物料的过期时间",format:"yyyy年MM月dd日 HH时","value-format":"yyyyMMddHH"},model:{value:e.shieldForm.effect_time,callback:function(t){e.$set(e.shieldForm,"effect_time",t)},expression:"shieldForm.effect_time"}}),e._v(" "),i("span",{staticClass:"text-info"},[e._v("（请选择过期时间）")])],1),e._v(" "),"tag"===e.shieldForm.type||"keyword"===e.shieldForm.type?i("el-form-item",{attrs:{label:"用户人群",prop:"filter_type"}},[i("el-checkbox-group",{attrs:{min:1},model:{value:e.shieldForm.filter_type,callback:function(t){e.$set(e.shieldForm,"filter_type",t)},expression:"shieldForm.filter_type"}},[i("el-checkbox",{attrs:{label:1}},[e._v("普通")]),e._v(" "),i("el-checkbox",{attrs:{label:2}},[e._v("黄V")]),e._v(" "),i("el-checkbox",{attrs:{label:3}},[e._v("蓝V")])],1),e._v(" "),i("span",{staticClass:"text-info"},[e._v("（用户人群至少勾选一个）")])],1):i("el-form-item",{attrs:{label:"用户人群"}},[i("el-checkbox",{attrs:{disabled:"",checked:!0}},[e._v("普通")]),e._v(" "),i("el-checkbox",{attrs:{disabled:"",checked:""}},[e._v("黄V")]),e._v(" "),i("el-checkbox",{attrs:{disabled:"",checked:""}},[e._v("蓝V")])],1),e._v(" "),i("el-form-item",{attrs:{label:"输入物料",prop:"content"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4},"suffix-icon":"el-icon-edit",placeholder:e.shieldForm.placeholder,clearable:!0},model:{value:e.shieldForm.content,callback:function(t){e.$set(e.shieldForm,"content",t)},expression:"shieldForm.content"}})],1),e._v(" "),i("el-form-item",[i("el-popover",{ref:"addBlack",attrs:{placement:"bottom",width:"200"},model:{value:e.shieldForm.addPopover,callback:function(t){e.$set(e.shieldForm,"addPopover",t)},expression:"shieldForm.addPopover"}},[i("p",[e._v("确定屏蔽？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.shieldForm.addPopover=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.shieldEvent("shieldForm","add_black")}}},[e._v("确定")])],1)]),e._v(" "),i("el-popover",{ref:"cancelBlack",attrs:{placement:"bottom",width:"200"},model:{value:e.shieldForm.cancelPopover,callback:function(t){e.$set(e.shieldForm,"cancelPopover",t)},expression:"shieldForm.cancelPopover"}},[i("p",[e._v("取消屏蔽？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.shieldForm.cancelPopover=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.shieldEvent("shieldForm","cancel_black")}}},[e._v("确定")])],1)]),e._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:addBlack",arg:"addBlack"}],attrs:{type:"success",size:"small"}},[e._v("屏蔽物料")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.shieldForm.isShowCancel,expression:"shieldForm.isShowCancel"},{name:"popover",rawName:"v-popover:cancelBlack",arg:"cancelBlack"}],attrs:{type:"warning",size:"small"}},[e._v("取消屏蔽")]),e._v(" "),i("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm("shieldForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{xs:24,span:23}},[i("div",{staticClass:"table-title left"},[e._v("24小时内拉黑mid关联的uid审核")]),e._v(" "),i("el-table",{staticClass:"table-wrap",staticStyle:{width:"100%"},attrs:{data:e.blackList,border:"","max-height":"600",size:"mini"}},[i("el-table-column",{attrs:{width:"50",type:"index",align:"center",label:"序号"}}),e._v(" "),i("el-table-column",{attrs:{label:"Uid",prop:"uid",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v(e._s(t.row.uid))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"昵称",prop:"name",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"领域(最高分能力领域)",prop:"tagName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(e._s(t.row.tagName||"未知"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"历史拉黑微博数(条)",prop:"num",sortable:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"warning",size:"medium"}},[e._v(e._s(e._formatNum(t.row.num))+"条")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"今日拉黑微博",prop:"list",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.list,function(t,o){return i("div",{key:o},[i("a",{staticClass:"link-btn",attrs:{target:"_blank",href:t.link}},[e._v(e._s(t.mid))])])})}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){e.setBlackEvent(t.row.uid,0)}}},[e._v("解除定时拉黑\n                    ")])]}}])})],1)],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"首位广告"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("首位广告开关")]),e._v(" "),i("el-row",{attrs:{type:"flex",align:"middle",justify:"start"}},[i("el-col",{attrs:{xs:24,sm:18,md:12,lg:9,xl:4}},[i("el-form",{ref:"advertForm",staticClass:"pane-form",attrs:{model:e.advertForm,"label-width":"60px",size:"small"}},[i("el-form-item",{attrs:{label:"类型",prop:"type"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.advertForm.type,callback:function(t){e.$set(e.advertForm,"type",t)},expression:"advertForm.type"}},e._l(e.advertForm.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{prop:"data"}},[i("el-switch",{attrs:{"active-text":"开启过滤生效"},model:{value:e.advertForm.data,callback:function(t){e.$set(e.advertForm,"data",t)},expression:"advertForm.data"}})],1),e._v(" "),i("el-form-item",[i("el-popover",{ref:"advertPop",attrs:{placement:"bottom",width:"200"},model:{value:e.advertForm.popover,callback:function(t){e.$set(e.advertForm,"popover",t)},expression:"advertForm.popover"}},[i("p",[e._v("确定保存？")]),e._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.advertForm.popover=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:function(t){e.advertEvent()}}},[e._v("确定")])],1)]),e._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:advertPop",arg:"advertPop"}],attrs:{type:"success",size:"small"}},[e._v("保存")]),e._v(" "),i("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(t){e.resetForm("advertForm")}}},[e._v("重置")])],1)],1)],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"配置开关"}},[i("h6",{staticClass:"pane-title hidden-xs-only"},[e._v("配置开关")]),e._v(" "),i("operate-switch")],1)],1)],1)],1)],1):0===e.pageAuth?i("el-main",[i("auth")],1):e._e()},staticRenderFns:[]};var R=i("VU/8")(S,$,!1,function(e){i("ZfRk")},"data-v-e79e804e",null);t.default=R.exports},ZfRk:function(e,t){}});